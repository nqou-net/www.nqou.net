<!doctype html><html lang=ja dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="シリーズ記事「Mooを使ってディスパッチャーを作ってみよう」（全12回）作成のための調査・情報収集結果"><title>調査ドキュメント - Mooを使ってディスパッチャーを作ってみよう（シリーズ記事）</title><link rel=canonical href=https://www.nqou.net/warehouse/moo-dispatcher-series-research/><link rel=stylesheet href=/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css><meta property='og:title' content="調査ドキュメント - Mooを使ってディスパッチャーを作ってみよう（シリーズ記事）"><meta property='og:description' content="シリーズ記事「Mooを使ってディスパッチャーを作ってみよう」（全12回）作成のための調査・情報収集結果"><meta property='og:url' content='https://www.nqou.net/warehouse/moo-dispatcher-series-research/'><meta property='og:site_name' content='デザインパターンの名前は嘘をつく'><meta property='og:type' content='article'><meta property='article:section' content='Warehouse'><meta property='article:published_time' content='2025-12-30T19:40:48+09:00'><meta property='article:modified_time' content='2025-12-30T19:40:48+09:00'><meta property='og:image' content='https://www.nqou.net/favicon.png'><meta name=twitter:title content="調査ドキュメント - Mooを使ってディスパッチャーを作ってみよう（シリーズ記事）"><meta name=twitter:description content="シリーズ記事「Mooを使ってディスパッチャーを作ってみよう」（全12回）作成のための調査・情報収集結果"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://www.nqou.net/favicon.png'><link rel="shortcut icon" href=/favicon.png><style>@import 'https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap';:root{--base-font-family:Arial, "Noto Sans JP", sans-serif}</style><link rel=stylesheet href=/css/linkcard.css><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3923446804785015" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js defer></script><script defer>document.addEventListener("DOMContentLoaded",function(){try{typeof mermaid!="undefined"&&document.querySelector(".mermaid")&&mermaid.initialize({startOnLoad:!0,securityLevel:"strict"})}catch(e){console.warn("Mermaid failed to initialize:",e)}})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-E50H9ESN7E"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-E50H9ESN7E")</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=メニューを開く・閉じる>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/public_images/nqounet201703.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🥃</span></figure><div class=site-meta><h1 class=site-name><a href=/>デザインパターンの名前は嘘をつく</a></h1><h2 class=site-description>パターン名の嘘を暴く。詰まる設計を容赦なく解体。</h2></div></header><ol class=menu-social><li><a href=https://github.com/nqounet target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://x.com/nqounet target=_blank title=X rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/advent-calendar-2025/><svg class="icon icon-tabler icon-tabler-calendar" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="5" width="16" height="16" rx="2"/><line x1="16" y1="3" x2="16" y2="7"/><line x1="8" y1="3" x2="8" y2="7"/><line x1="4" y1="11" x2="20" y2="11"/><path d="M8 15h.01"/><path d="M12 15h.01"/><path d="M16 15h.01"/><path d="M8 19h.01"/><path d="M12 19h.01"/><path d="M16 19h.01"/></svg>
<span>Perl Advent Calendar 2025 - AI Edition</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/warehouse/><svg class="icon icon-tabler icon-tabler-warehouse" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10l9-6 9 6"/><rect x="5" y="10" width="14" height="10" rx="2"/><rect x="10" y="14" width="4" height="6" rx="1"/><path d="M7 20v-4h2v4"/><path d="M15 20v-4h2v4"/></svg>
<span>Warehouse</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>ダークモード</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目次</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#調査目的>調査目的</a></li><li><a href=#1-キーワード調査>1. キーワード調査</a><ol><li><a href=#11-strategy-パターンデザインパターン>1.1 Strategy パターン（デザインパターン）</a></li><li><a href=#12-ルーターディスパッチャーの概念>1.2 ルーター/ディスパッチャーの概念</a></li><li><a href=#13-perlでのstrategy-パターン実装>1.3 PerlでのStrategy パターン実装</a></li><li><a href=#14-mooを使ったディスパッチャー>1.4 Mooを使ったディスパッチャー</a></li><li><a href=#15-ifelseの問題点とリファクタリング>1.5 if/elseの問題点とリファクタリング</a></li><li><a href=#16-command-パターン関連>1.6 Command パターン（関連）</a></li><li><a href=#17-factory-パターン関連>1.7 Factory パターン（関連）</a></li><li><a href=#18-perlmooのwebフレームワークでのルーティング実装>1.8 Perl/MooのWebフレームワークでのルーティング実装</a></li></ol></li><li><a href=#2-競合記事の分析>2. 競合記事の分析</a><ol><li><a href=#21-主要な競合参考記事>2.1 主要な競合・参考記事</a></li><li><a href=#22-競合記事との差別化ポイント>2.2 競合記事との差別化ポイント</a></li></ol></li><li><a href=#3-内部リンク調査>3. 内部リンク調査</a><ol><li><a href=#31-直接関連する記事前シリーズmooで覚えるオブジェクト指向プログラミング>3.1 直接関連する記事（前シリーズ「Mooで覚えるオブジェクト指向プログラミング」）</a></li><li><a href=#32-ルーターディスパッチャー関連>3.2 ルーター/ディスパッチャー関連</a></li><li><a href=#33-デザインパターンオブジェクト指向関連>3.3 デザインパターン・オブジェクト指向関連</a></li><li><a href=#34-perl基礎その他>3.4 Perl基礎・その他</a></li></ol></li><li><a href=#4-情報源リスト技術的正確性の担保>4. 情報源リスト（技術的正確性の担保）</a><ol><li><a href=#41-公式ドキュメント>4.1 公式ドキュメント</a></li><li><a href=#42-デザインパターン解説サイト>4.2 デザインパターン解説サイト</a></li><li><a href=#43-書籍>4.3 書籍</a></li><li><a href=#44-github実装例>4.4 GitHub実装例</a></li></ol></li><li><a href=#5-連載構造の提案材料>5. 連載構造の提案材料</a><ol><li><a href=#51-前シリーズとの接続>5.1 前シリーズとの接続</a></li><li><a href=#52-ストーリー展開案>5.2 ストーリー展開案</a></li><li><a href=#53-学習順序の推奨>5.3 学習順序の推奨</a></li><li><a href=#54-各回の概念マッピング案>5.4 各回の概念マッピング案</a></li><li><a href=#55-制約の確認>5.5 制約の確認</a></li></ol></li><li><a href=#6-付録調査中に発見した有用な情報>6. 付録：調査中に発見した有用な情報</a><ol><li><a href=#61-perl特有の実装ポイント>6.1 Perl特有の実装ポイント</a></li><li><a href=#62-読者が陥りやすい落とし穴>6.2 読者が陥りやすい落とし穴</a></li><li><a href=#63-次シリーズへの展望>6.3 次シリーズへの展望</a></li></ol></li><li><a href=#7-調査結果のサマリー>7. 調査結果のサマリー</a><ol><li><a href=#成功要因>成功要因</a></li><li><a href=#リスクと対策>リスクと対策</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/warehouse/moo-dispatcher-series-research/><img src=/favicon.png loading=lazy alt="Featured image of post 調査ドキュメント - Mooを使ってディスパッチャーを作ってみよう（シリーズ記事）"></a></div><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/warehouse/moo-dispatcher-series-research/>調査ドキュメント - Mooを使ってディスパッチャーを作ってみよう（シリーズ記事）</a></h2><h3 class=article-subtitle>シリーズ記事「Mooを使ってディスパッチャーを作ってみよう」（全12回）作成のための調査・情報収集結果</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>12月 30, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>読了時間: 13分</time></div></footer></div></header><section class=article-content><h1 id=調査ドキュメントmooを使ってディスパッチャーを作ってみよう>調査ドキュメント：Mooを使ってディスパッチャーを作ってみよう</h1><h2 id=調査目的>調査目的</h2><p>シリーズ記事「Mooを使ってディスパッチャーを作ってみよう」（全12回）を作成するための情報収集と調査。</p><ul><li><strong>技術スタック</strong>: Perl / Moo</li><li><strong>想定読者</strong>: Mooの基本的な使い方はわかっているPerl初心者</li><li><strong>想定ペルソナ</strong>: ルーターやディスパッチの仕組みに興味がある</li><li><strong>目標</strong>: PerlでStrategy パターンの書き方が身につく</li><li><strong>背景</strong>: 「Mooで覚えるオブジェクト指向プログラミング」シリーズ（全12回）の続編として位置づけ</li><li><strong>ストーリー</strong>: BBSに機能を追加していく過程で、if/elseだけでは解決が難しい状況になり、ルーターやディスパッチの必要性に気づき、デザインパターンを学ぶ</li></ul><p><strong>調査実施日</strong>: 2025年12月30日</p><hr><h2 id=1-キーワード調査>1. キーワード調査</h2><h3 id=11-strategy-パターンデザインパターン>1.1 Strategy パターン（デザインパターン）</h3><p><strong>要点</strong>:</p><ul><li>Strategy パターンは「振る舞いのデザインパターン」の一つ</li><li>アルゴリズム（処理ロジック）を独立したクラスとしてカプセル化し、実行時に切り替え可能にする</li><li>「Context（文脈）」「Strategy Interface（戦略インターフェース）」「Concrete Strategy（具体的な戦略）」の3つの要素で構成</li><li>if/elseやswitch文の肥大化を防ぎ、Open/Closed原則（拡張に開き、修正に閉じる）に従う</li></ul><p><strong>根拠</strong>:</p><ul><li>GoF（Gang of Four）のデザインパターンブックで定義された23パターンの一つ</li><li>実行時にアルゴリズムを切り替える必要がある場面で広く使用される</li></ul><p><strong>仮定</strong>:</p><ul><li>読者はデザインパターンという言葉自体に馴染みがない可能性が高い</li><li>「パターン」という言葉から「定石」「お約束」の意味を伝えると理解しやすい</li></ul><p><strong>出典</strong>:</p><ul><li><a class=link href=https://en.wikipedia.org/wiki/Strategy_pattern target=_blank rel=noopener>https://en.wikipedia.org/wiki/Strategy_pattern</a> （Wikipedia）</li><li><a class=link href=https://refactoring.guru/design-patterns/strategy target=_blank rel=noopener>https://refactoring.guru/design-patterns/strategy</a> （Refactoring Guru）</li><li><a class=link href=https://www.geeksforgeeks.org/system-design/strategy-pattern-set-1/ target=_blank rel=noopener>https://www.geeksforgeeks.org/system-design/strategy-pattern-set-1/</a> （GeeksforGeeks）</li><li><a class=link href=https://www.freecodecamp.org/news/a-beginners-guide-to-the-strategy-design-pattern/ target=_blank rel=noopener>https://www.freecodecamp.org/news/a-beginners-guide-to-the-strategy-design-pattern/</a> （FreeCodeCamp）</li></ul><p><strong>信頼度</strong>: 高（複数の著名な技術解説サイトで一致した説明）</p><hr><h3 id=12-ルーターディスパッチャーの概念>1.2 ルーター/ディスパッチャーの概念</h3><p><strong>要点</strong>:</p><ul><li>ルーター（Router）は、リクエストされたURLやパスに基づいて、適切な処理（ハンドラー）に振り分ける機構</li><li>ディスパッチャー（Dispatcher）は、ルーターが決定した振り分け先に実際に処理を委譲する機構</li><li>WebフレームワークではこれらがURLとコントローラーアクションを紐付ける中核機能</li><li>「どこに処理を振り分けるか決める」→ルーター、「決まった先に処理を渡す」→ディスパッチャー</li></ul><p><strong>根拠</strong>:</p><ul><li>MojoliciousやCatalystなど、Perlの主要なWebフレームワークはすべてルーティング機構を持つ</li><li>JSON-RPC::Specでもディスパッチャー機能を実装している（内部リンク記事より）</li></ul><p><strong>仮定</strong>:</p><ul><li>読者は「ルーター」という言葉はネットワーク機器と混同する可能性がある</li><li>「振り分け」「マッチング」という日本語で説明すると分かりやすい</li></ul><p><strong>出典</strong>:</p><ul><li><a class=link href=https://mojolicious.org/perldoc/Mojolicious/Guides/Routing target=_blank rel=noopener>https://mojolicious.org/perldoc/Mojolicious/Guides/Routing</a> （Mojolicious公式）</li><li><a class=link href=https://metacpan.org/pod/Router::Simple target=_blank rel=noopener>https://metacpan.org/pod/Router::Simple</a> （Router::Simple）</li><li>内部記事: <code>/2015/11/16/083646/</code>（JSON::RPC::Specでのディスパッチャー）</li></ul><p><strong>信頼度</strong>: 高</p><hr><h3 id=13-perlでのstrategy-パターン実装>1.3 PerlでのStrategy パターン実装</h3><p><strong>要点</strong>:</p><ul><li>PerlではMoo::Roleを「Strategy Interface」として使用できる</li><li><code>requires</code>で必須メソッドを定義し、各Concrete StrategyクラスがRoleを消費（with）</li><li>Contextクラスは属性としてStrategyオブジェクトを保持し、委譲（handles）またはメソッド呼び出し</li></ul><p><strong>根拠</strong>:</p><ul><li>「Design Patterns in Modern Perl」（Mohammad Sajid Anwar著）で詳細に解説</li><li>GitHub上にMoose/Moo向けのデザインパターン実装例が複数存在</li></ul><p><strong>コード例（Moo）</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=c1># Strategy Role</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>PaymentStrategy</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo::Role</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>requires</span> <span class=s>&#39;pay&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Strategy</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>PaypalStrategy</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>with</span> <span class=s>&#39;PaymentStrategy&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>pay</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$self</span><span class=p>,</span> <span class=nv>$amount</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>print</span> <span class=s>&#34;Paying $amount via PayPal\n&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Context</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>PaymentContext</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>strategy</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;rw&#39;</span><span class=p>,</span> <span class=n>required</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>pay</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$self</span><span class=p>,</span> <span class=nv>$amount</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>strategy</span><span class=o>-&gt;</span><span class=n>pay</span><span class=p>(</span><span class=nv>$amount</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=mi>1</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>出典</strong>:</p><ul><li><a class=link href=https://leanpub.com/design-patterns-in-modern-perl target=_blank rel=noopener>https://leanpub.com/design-patterns-in-modern-perl</a> （書籍）</li><li><a class=link href=https://perlschool.com/books/design-patterns/ target=_blank rel=noopener>https://perlschool.com/books/design-patterns/</a> （Perl School）</li><li><a class=link href=https://github.com/jmcveigh/p5-moose-design-patterns target=_blank rel=noopener>https://github.com/jmcveigh/p5-moose-design-patterns</a> （GitHub実装例）</li><li><a class=link href=https://github.com/jeffa/DesignPatterns-Perl target=_blank rel=noopener>https://github.com/jeffa/DesignPatterns-Perl</a> （GitHub実装例）</li></ul><p><strong>信頼度</strong>: 高</p><hr><h3 id=14-mooを使ったディスパッチャー>1.4 Mooを使ったディスパッチャー</h3><p><strong>要点</strong>:</p><ul><li>Mooの<code>has</code>と<code>sub</code>でディスパッチテーブル（ハッシュ）を構築可能</li><li>Router::Simpleのようなモジュールと組み合わせてパターンマッチングを実現</li><li>ディスパッチ先はオブジェクトのメソッドまたはコードリファレンス</li></ul><p><strong>根拠</strong>:</p><ul><li>JSON::RPC::SpecはRouter::Simpleを使ってディスパッチを実装</li><li>Mojoliciousのルーティングは内部的にディスパッチテーブルを構築</li></ul><p><strong>仮定</strong>:</p><ul><li>読者は前シリーズで<code>has</code>、<code>sub</code>、<code>handles</code>を学んでいる前提</li><li>ハッシュとコードリファレンスについては基本的な理解がある</li></ul><p><strong>出典</strong>:</p><ul><li><a class=link href=https://metacpan.org/pod/Router::Simple target=_blank rel=noopener>https://metacpan.org/pod/Router::Simple</a> （Router::Simple）</li><li><a class=link href=https://metacpan.org/pod/JSON::RPC::Spec target=_blank rel=noopener>https://metacpan.org/pod/JSON::RPC::Spec</a> （JSON::RPC::Spec）</li><li>内部記事: <code>/2014/08/14/221829/</code>（JSON::RPC::Specでのルーティング）</li></ul><p><strong>信頼度</strong>: 高</p><hr><h3 id=15-ifelseの問題点とリファクタリング>1.5 if/elseの問題点とリファクタリング</h3><p><strong>要点</strong>:</p><ul><li>条件分岐（if/else、switch）の増加は以下の問題を引き起こす:<ol><li>コードの可読性低下（数百行のif/elseチェーン）</li><li>修正時の影響範囲が広い（1箇所変更で全体に影響）</li><li>テストの困難さ（全分岐を網羅する必要）</li><li>Open/Closed原則違反（新しい条件追加のたびに既存コード修正）</li></ol></li><li>Strategy/Command/Factoryパターンへのリファクタリングで解決</li></ul><p><strong>根拠</strong>:</p><ul><li>リファクタリング関連の技術記事で繰り返し取り上げられるトピック</li><li>実際のプロダクションコードで頻繁に発生する問題</li></ul><p><strong>仮定</strong>:</p><ul><li>読者は掲示板を拡張する過程でif/elseが増えて困った経験をシミュレーションできる</li><li>「あるある」と共感できる具体例を提示することで動機付けになる</li></ul><p><strong>出典</strong>:</p><ul><li><a class=link href=https://dev.to/tamerardal/dont-use-if-else-blocks-anymore-use-strategy-and-factory-pattern-together-4i77 target=_blank rel=noopener>https://dev.to/tamerardal/dont-use-if-else-blocks-anymore-use-strategy-and-factory-pattern-together-4i77</a> （Dev.to）</li><li><a class=link href=https://codingtechroom.com/question/-refactor-if-else-to-strategy-pattern target=_blank rel=noopener>https://codingtechroom.com/question/-refactor-if-else-to-strategy-pattern</a> （CodingTechRoom）</li><li><a class=link href=https://stackoverflow.com/questions/28049094/replacing-if-else-statement-with-pattern target=_blank rel=noopener>https://stackoverflow.com/questions/28049094/replacing-if-else-statement-with-pattern</a> （StackOverflow）</li></ul><p><strong>信頼度</strong>: 高</p><hr><h3 id=16-command-パターン関連>1.6 Command パターン（関連）</h3><p><strong>要点</strong>:</p><ul><li>リクエストをオブジェクトとしてカプセル化するパターン</li><li>実行、取り消し、キューイング、ログなどの操作が可能</li><li>Strategyパターンが「どう処理するか」の切り替えなら、Commandパターンは「何を処理するか」のカプセル化</li><li>ディスパッチャーと組み合わせて、コマンドオブジェクトを振り分ける設計が可能</li></ul><p><strong>根拠</strong>:</p><ul><li>GoFデザインパターンの一つ</li><li>Undo/Redo機能やジョブキューの実装で広く使用</li></ul><p><strong>仮定</strong>:</p><ul><li>本シリーズではCommandパターン自体の深い解説は範囲外</li><li>Strategyとの違いを軽く触れる程度で十分</li></ul><p><strong>出典</strong>:</p><ul><li><a class=link href=https://refactoring.guru/design-patterns/command target=_blank rel=noopener>https://refactoring.guru/design-patterns/command</a> （Refactoring Guru）</li><li><a class=link href=https://www.in-com.com/blog/refactoring-repetitive-logic-let-the-command-pattern-take-over/ target=_blank rel=noopener>https://www.in-com.com/blog/refactoring-repetitive-logic-let-the-command-pattern-take-over/</a> （In-Com）</li></ul><p><strong>信頼度</strong>: 高</p><hr><h3 id=17-factory-パターン関連>1.7 Factory パターン（関連）</h3><p><strong>要点</strong>:</p><ul><li>オブジェクトの生成ロジックをカプセル化するパターン</li><li>クライアントコードから具体的なクラス名を隠蔽</li><li>Strategyパターンと組み合わせて、「どのStrategyを使うか」の決定をFactoryに委ねる設計が一般的</li><li>「Strategy + Factory」の組み合わせはif/else削減の定番手法</li></ul><p><strong>根拠</strong>:</p><ul><li>GoFデザインパターンの一つ（Factory Method, Abstract Factory）</li><li>実務でStrategyと組み合わせて使用されることが多い</li></ul><p><strong>仮定</strong>:</p><ul><li>本シリーズでは簡易的なFactory（ディスパッチテーブル）を扱う</li><li>本格的なFactory Methodパターンは応用として触れる程度</li></ul><p><strong>出典</strong>:</p><ul><li><a class=link href=https://refactoring.guru/design-patterns/factory-method target=_blank rel=noopener>https://refactoring.guru/design-patterns/factory-method</a> （Refactoring Guru）</li><li><a class=link href=https://adityam31.github.io/posts/designpatterns-strategy-factory-pattern/ target=_blank rel=noopener>https://adityam31.github.io/posts/designpatterns-strategy-factory-pattern/</a> （Aditya M Blog）</li></ul><p><strong>信頼度</strong>: 高</p><hr><h3 id=18-perlmooのwebフレームワークでのルーティング実装>1.8 Perl/MooのWebフレームワークでのルーティング実装</h3><p><strong>要点</strong>:</p><ul><li><strong>Mojolicious</strong>: 強力なルーティングシステム、プレースホルダー、正規表現マッチング</li><li><strong>Router::Simple</strong>: 軽量なルーティングライブラリ、ハッシュベースのディスパッチ</li><li><strong>Router::Boom</strong>: 高速なルーティングライブラリ</li><li><strong>Path::Router</strong>: パスベースのルーティング</li></ul><p><strong>根拠</strong>:</p><ul><li>内部記事でRouter::SimpleとJSON::RPC::Specの使用例が存在</li><li>Mojoliciousはルーティングガイドを公式ドキュメントで詳細に解説</li></ul><p><strong>出典</strong>:</p><ul><li><a class=link href=https://mojolicious.org/perldoc/Mojolicious/Guides/Routing target=_blank rel=noopener>https://mojolicious.org/perldoc/Mojolicious/Guides/Routing</a> （Mojolicious Routing）</li><li><a class=link href=https://metacpan.org/pod/Router::Simple target=_blank rel=noopener>https://metacpan.org/pod/Router::Simple</a> （Router::Simple）</li><li><a class=link href=https://metacpan.org/pod/Router::Boom target=_blank rel=noopener>https://metacpan.org/pod/Router::Boom</a> （Router::Boom）</li></ul><p><strong>信頼度</strong>: 高</p><hr><h2 id=2-競合記事の分析>2. 競合記事の分析</h2><h3 id=21-主要な競合参考記事>2.1 主要な競合・参考記事</h3><div class=table-wrapper><table><thead><tr><th>サイト名</th><th>特徴</th><th>URL</th></tr></thead><tbody><tr><td><strong>Refactoring Guru - Strategy</strong></td><td>図解が豊富、多言語対応、初心者向け</td><td><a class=link href=https://refactoring.guru/design-patterns/strategy target=_blank rel=noopener>https://refactoring.guru/design-patterns/strategy</a></td></tr><tr><td><strong>GeeksforGeeks - Strategy</strong></td><td>コード例が充実、Java中心だがわかりやすい</td><td><a class=link href=https://www.geeksforgeeks.org/system-design/strategy-pattern-set-1/ target=_blank rel=noopener>https://www.geeksforgeeks.org/system-design/strategy-pattern-set-1/</a></td></tr><tr><td><strong>FreeCodeCamp - Strategy</strong></td><td>入門者向け、実践的なユースケース</td><td><a class=link href=https://www.freecodecamp.org/news/a-beginners-guide-to-the-strategy-design-pattern/ target=_blank rel=noopener>https://www.freecodecamp.org/news/a-beginners-guide-to-the-strategy-design-pattern/</a></td></tr><tr><td><strong>Design Patterns in Modern Perl</strong></td><td>Perl特化、Moo/Moose対応、書籍</td><td><a class=link href=https://leanpub.com/design-patterns-in-modern-perl target=_blank rel=noopener>https://leanpub.com/design-patterns-in-modern-perl</a></td></tr><tr><td><strong>Mojolicious Routing Guide</strong></td><td>Perl公式、実践的なルーティング</td><td><a class=link href=https://mojolicious.org/perldoc/Mojolicious/Guides/Routing target=_blank rel=noopener>https://mojolicious.org/perldoc/Mojolicious/Guides/Routing</a></td></tr></tbody></table></div><h3 id=22-競合記事との差別化ポイント>2.2 競合記事との差別化ポイント</h3><p><strong>既存記事の問題点</strong>:</p><ol><li>抽象的な例（支払い方法、交通手段など）が多く、継続性がない</li><li>「なぜデザインパターンが必要か」の動機付けが弱い</li><li>Perl/Mooに特化した日本語の良質なチュートリアルが少ない</li><li>ルーター/ディスパッチャーとデザインパターンを結びつけた解説がない</li></ol><p><strong>本シリーズの強み</strong>:</p><ol><li><strong>ストーリー駆動</strong>: 掲示板BBSの拡張という具体的な物語</li><li><strong>前シリーズからの継続性</strong>: 「Mooで覚えるオブジェクト指向プログラミング」で作ったBBSを題材に発展</li><li><strong>問題発見→解決の流れ</strong>: if/elseの問題を体験してからパターンを学ぶ</li><li><strong>段階的な難易度</strong>: 1記事1概念、コード例2つまでの制約</li><li><strong>「気づき」の演出</strong>: パターンを学んだ後に「これがStrategy パターンだったのか！」と気づく構成</li></ol><hr><h2 id=3-内部リンク調査>3. 内部リンク調査</h2><h3 id=31-直接関連する記事前シリーズmooで覚えるオブジェクト指向プログラミング>3.1 直接関連する記事（前シリーズ「Mooで覚えるオブジェクト指向プログラミング」）</h3><div class=table-wrapper><table><thead><tr><th>ファイルパス</th><th>タイトル</th><th>内部リンク</th><th>関連度</th></tr></thead><tbody><tr><td><code>/content/post/2021/10/31/191008.md</code></td><td>第1回-Mooで覚えるオブジェクト指向プログラミング</td><td><code>/2021/10/31/191008/</code></td><td><strong>最高</strong></td></tr><tr><td><code>/content/post/2025/12/30/163810.md</code></td><td>第2回-データとロジックをまとめよう</td><td><code>/2025/12/30/163810/</code></td><td><strong>最高</strong></td></tr><tr><td><code>/content/post/2025/12/30/163811.md</code></td><td>第3回-オブジェクトを複数作る</td><td><code>/2025/12/30/163811/</code></td><td><strong>最高</strong></td></tr><tr><td><code>/content/post/2025/12/30/163812.md</code></td><td>第4回-読み書きを制限する</td><td><code>/2025/12/30/163812/</code></td><td><strong>最高</strong></td></tr><tr><td><code>/content/post/2025/12/30/163813.md</code></td><td>第5回-必須と初期値を設定する</td><td><code>/2025/12/30/163813/</code></td><td><strong>最高</strong></td></tr><tr><td><code>/content/post/2025/12/30/163814.md</code></td><td>第6回-カプセル化</td><td><code>/2025/12/30/163814/</code></td><td><strong>最高</strong></td></tr><tr><td><code>/content/post/2025/12/30/163815.md</code></td><td>第7回-複数クラスの連携</td><td><code>/2025/12/30/163815/</code></td><td><strong>最高</strong></td></tr><tr><td><code>/content/post/2025/12/30/163816.md</code></td><td>第8回-継承</td><td><code>/2025/12/30/163816/</code></td><td><strong>最高</strong></td></tr><tr><td><code>/content/post/2025/12/30/163817.md</code></td><td>第9回-オーバーライド</td><td><code>/2025/12/30/163817/</code></td><td><strong>最高</strong></td></tr><tr><td><code>/content/post/2025/12/30/163818.md</code></td><td>第10回-ロール</td><td><code>/2025/12/30/163818/</code></td><td><strong>最高</strong></td></tr><tr><td><code>/content/post/2025/12/30/163819.md</code></td><td>第11回-委譲</td><td><code>/2025/12/30/163819/</code></td><td><strong>最高</strong></td></tr><tr><td><code>/content/post/2025/12/30/163820.md</code></td><td>第12回-型チェック</td><td><code>/2025/12/30/163820/</code></td><td><strong>最高</strong></td></tr></tbody></table></div><h3 id=32-ルーターディスパッチャー関連>3.2 ルーター/ディスパッチャー関連</h3><div class=table-wrapper><table><thead><tr><th>ファイルパス</th><th>タイトル</th><th>内部リンク</th><th>関連度</th></tr></thead><tbody><tr><td><code>/content/post/2015/11/16/083646.md</code></td><td>JSON::RPC::Spec v1.0.5（ディスパッチャー機能）</td><td><code>/2015/11/16/083646/</code></td><td><strong>高</strong></td></tr><tr><td><code>/content/post/2014/08/14/221829.md</code></td><td>JSON::RPC::Specバージョンアップ（Router::Simple）</td><td><code>/2014/08/14/221829/</code></td><td><strong>高</strong></td></tr><tr><td><code>/content/post/2025/12/04/000000.md</code></td><td>Mojolicious入門（ルーティング解説含む）</td><td><code>/2025/12/04/000000/</code></td><td><strong>高</strong></td></tr></tbody></table></div><h3 id=33-デザインパターンオブジェクト指向関連>3.3 デザインパターン・オブジェクト指向関連</h3><div class=table-wrapper><table><thead><tr><th>ファイルパス</th><th>タイトル</th><th>内部リンク</th><th>関連度</th></tr></thead><tbody><tr><td><code>/content/post/2025/12/25/234500.md</code></td><td>JSON-RPC Request/Response実装（Strategy的な構造）</td><td><code>/2025/12/25/234500/</code></td><td>中</td></tr><tr><td><code>/content/post/2016/02/21/150920.md</code></td><td>よなべPerlでMooについて</td><td><code>/2016/02/21/150920/</code></td><td>中</td></tr><tr><td><code>/content/post/2015/09/17/072209.md</code></td><td>よなべPerlで講師（Moo、オブジェクト指向）</td><td><code>/2015/09/17/072209/</code></td><td>中</td></tr></tbody></table></div><h3 id=34-perl基礎その他>3.4 Perl基礎・その他</h3><div class=table-wrapper><table><thead><tr><th>ファイルパス</th><th>タイトル</th><th>内部リンク</th><th>関連度</th></tr></thead><tbody><tr><td><code>/content/post/2025/12/01/235959.md</code></td><td>Perl Advent Calendar 2025</td><td><code>/2025/12/01/235959/</code></td><td>低</td></tr><tr><td><code>/content/post/2000/10/07/133116.md</code></td><td>フォームからの入力（古典的BBS）</td><td><code>/2000/10/07/133116/</code></td><td>低</td></tr></tbody></table></div><hr><h2 id=4-情報源リスト技術的正確性の担保>4. 情報源リスト（技術的正確性の担保）</h2><h3 id=41-公式ドキュメント>4.1 公式ドキュメント</h3><div class=table-wrapper><table><thead><tr><th>リソース名</th><th>URL</th><th>用途</th></tr></thead><tbody><tr><td><strong>Moo公式ドキュメント</strong></td><td><a class=link href=https://metacpan.org/pod/Moo target=_blank rel=noopener>https://metacpan.org/pod/Moo</a></td><td>属性定義、Role、継承</td></tr><tr><td><strong>Moo::Role</strong></td><td><a class=link href=https://metacpan.org/pod/Moo::Role target=_blank rel=noopener>https://metacpan.org/pod/Moo::Role</a></td><td>Strategy Interface実装</td></tr><tr><td><strong>Types::Standard</strong></td><td><a class=link href=https://metacpan.org/pod/Types::Standard target=_blank rel=noopener>https://metacpan.org/pod/Types::Standard</a></td><td>型制約</td></tr><tr><td><strong>Router::Simple</strong></td><td><a class=link href=https://metacpan.org/pod/Router::Simple target=_blank rel=noopener>https://metacpan.org/pod/Router::Simple</a></td><td>ルーティング参考</td></tr><tr><td><strong>Mojolicious Routing</strong></td><td><a class=link href=https://mojolicious.org/perldoc/Mojolicious/Guides/Routing target=_blank rel=noopener>https://mojolicious.org/perldoc/Mojolicious/Guides/Routing</a></td><td>ルーティング概念</td></tr></tbody></table></div><h3 id=42-デザインパターン解説サイト>4.2 デザインパターン解説サイト</h3><div class=table-wrapper><table><thead><tr><th>リソース名</th><th>URL</th><th>用途</th></tr></thead><tbody><tr><td><strong>Refactoring Guru</strong></td><td><a class=link href=https://refactoring.guru/design-patterns target=_blank rel=noopener>https://refactoring.guru/design-patterns</a></td><td>パターン全般の解説、図解</td></tr><tr><td><strong>Wikipedia - Strategy</strong></td><td><a class=link href=https://en.wikipedia.org/wiki/Strategy_pattern target=_blank rel=noopener>https://en.wikipedia.org/wiki/Strategy_pattern</a></td><td>正式な定義</td></tr><tr><td><strong>GeeksforGeeks</strong></td><td><a class=link href=https://www.geeksforgeeks.org/system-design/strategy-pattern-set-1/ target=_blank rel=noopener>https://www.geeksforgeeks.org/system-design/strategy-pattern-set-1/</a></td><td>コード例</td></tr></tbody></table></div><h3 id=43-書籍>4.3 書籍</h3><div class=table-wrapper><table><thead><tr><th>書籍名</th><th>ASIN/ISBN</th><th>用途</th></tr></thead><tbody><tr><td><strong>Design Patterns in Modern Perl</strong></td><td>Leanpub</td><td>PerlでのGoFパターン実装</td></tr><tr><td><strong>オブジェクト指向における再利用のためのデザインパターン（GoF本）</strong></td><td>4797311126</td><td>デザインパターンの原典</td></tr><tr><td><strong>初めてのPerl 第7版</strong></td><td>B01LYGT22U</td><td>Perl基礎</td></tr><tr><td><strong>続・初めてのPerl 改訂第2版</strong></td><td>B00XWE9RBK</td><td>オブジェクト指向</td></tr></tbody></table></div><h3 id=44-github実装例>4.4 GitHub実装例</h3><div class=table-wrapper><table><thead><tr><th>リソース名</th><th>URL</th><th>用途</th></tr></thead><tbody><tr><td><strong>p5-moose-design-patterns</strong></td><td><a class=link href=https://github.com/jmcveigh/p5-moose-design-patterns target=_blank rel=noopener>https://github.com/jmcveigh/p5-moose-design-patterns</a></td><td>Mooseでのパターン実装</td></tr><tr><td><strong>DesignPatterns-Perl</strong></td><td><a class=link href=https://github.com/jeffa/DesignPatterns-Perl target=_blank rel=noopener>https://github.com/jeffa/DesignPatterns-Perl</a></td><td>GoFパターン in Perl</td></tr><tr><td><strong>JSON-RPC-Spec</strong></td><td><a class=link href=https://github.com/nqounet/p5-json-rpc-spec target=_blank rel=noopener>https://github.com/nqounet/p5-json-rpc-spec</a></td><td>ディスパッチャー実装例</td></tr></tbody></table></div><hr><h2 id=5-連載構造の提案材料>5. 連載構造の提案材料</h2><h3 id=51-前シリーズとの接続>5.1 前シリーズとの接続</h3><p>前シリーズ「Mooで覚えるオブジェクト指向プログラミング」（全12回）では以下を学習済み:</p><ul><li><code>has</code>と<code>sub</code>でクラスを定義</li><li><code>new</code>でオブジェクト生成</li><li><code>is => 'ro'/'rw'</code>でアクセス制御</li><li><code>required</code>と<code>default</code></li><li>カプセル化</li><li>複数クラスの連携</li><li><code>extends</code>による継承</li><li>オーバーライド</li><li><code>Moo::Role</code>と<code>with</code>によるロール</li><li><code>handles</code>による委譲</li><li><code>isa</code>による型制約</li></ul><p><strong>接続ポイント</strong>: 前シリーズで作った掲示板BBSには、投稿一覧表示、投稿フォーム、スレッド表示など複数の機能がある。これらの機能を切り替えるためにif/elseを使い始めたところから本シリーズがスタート。</p><h3 id=52-ストーリー展開案>5.2 ストーリー展開案</h3><ol><li><strong>問題の発生</strong>: 機能追加のたびにif/elseが増え、コードが見づらくなる</li><li><strong>小さな改善</strong>: ハッシュテーブルでの振り分けを試みる</li><li><strong>抽象化の導入</strong>: 処理をクラスに切り出す</li><li><strong>パターンの発見</strong>: 「これってデザインパターンでは？」と気づく</li><li><strong>Strategyパターンの習得</strong>: 正式な名前と構造を学ぶ</li><li><strong>応用</strong>: より複雑なディスパッチャーの構築</li></ol><h3 id=53-学習順序の推奨>5.3 学習順序の推奨</h3><p>以下の順序でStrategy パターンを習得するのが効果的:</p><ol><li><strong>問題認識</strong>: if/elseの肥大化を体験</li><li><strong>ディスパッチテーブル</strong>: ハッシュでの振り分け</li><li><strong>コードリファレンス</strong>: 関数をデータとして扱う</li><li><strong>クラスへの抽出</strong>: 処理をオブジェクトに</li><li><strong>インターフェースの導入</strong>: Moo::Roleでrequires</li><li><strong>Strategy パターン完成</strong>: Context + Strategy構造</li><li><strong>Factory的生成</strong>: どのStrategyを使うか決める仕組み</li><li><strong>応用と発展</strong>: 実用的なディスパッチャー構築</li></ol><h3 id=54-各回の概念マッピング案>5.4 各回の概念マッピング案</h3><div class=table-wrapper><table><thead><tr><th>回</th><th>新しい概念</th><th>前シリーズとの関連</th></tr></thead><tbody><tr><td>1</td><td>問題認識（if/elseの肥大化）</td><td>前シリーズの振り返り</td></tr><tr><td>2</td><td>ディスパッチテーブル（ハッシュ）</td><td>hasでハッシュを持つ</td></tr><tr><td>3</td><td>コードリファレンス</td><td>subを変数に入れる</td></tr><tr><td>4</td><td>ハンドラークラスへの抽出</td><td>クラスを増やす</td></tr><tr><td>5</td><td>共通インターフェース（requires）</td><td>Moo::Roleの応用</td></tr><tr><td>6</td><td>Strategy パターンの構造</td><td>委譲（handles）の応用</td></tr><tr><td>7</td><td>Contextクラスの実装</td><td>has + 委譲</td></tr><tr><td>8</td><td>動的なStrategy切り替え</td><td>is => &lsquo;rw&rsquo;</td></tr><tr><td>9</td><td>Factory的なStrategy生成</td><td>new + 条件分岐</td></tr><tr><td>10</td><td>URLベースのルーティング</td><td>正規表現マッチング</td></tr><tr><td>11</td><td>完成したディスパッチャー</td><td>全体統合</td></tr><tr><td>12</td><td>まとめとデザインパターン入門</td><td>次への展望</td></tr></tbody></table></div><h3 id=55-制約の確認>5.5 制約の確認</h3><ul><li>毎回コード例は2つまで ✓</li><li>新しい概念は1記事あたり1つまで ✓</li><li>トーンは入門者向けの優しい感じ ✓</li><li>図解を含めたわかりやすさ ✓</li><li>ゆっくりと少しずつ進める ✓</li></ul><hr><h2 id=6-付録調査中に発見した有用な情報>6. 付録：調査中に発見した有用な情報</h2><h3 id=61-perl特有の実装ポイント>6.1 Perl特有の実装ポイント</h3><p><strong>コードリファレンス</strong>:</p><ul><li>Perlではサブルーチンを変数に代入可能: <code>my $handler = sub { ... };</code></li><li>ディスパッチテーブルとして自然に使える: <code>$handlers{$action}->()</code></li></ul><p><strong>Moo::Roleでのrequires</strong>:</p><ul><li>Strategyインターフェースとして機能</li><li>未実装の場合はコンパイル時エラー</li></ul><p><strong>handlesとの組み合わせ</strong>:</p><ul><li>Contextクラスからの委譲をhandlesで簡潔に記述可能</li></ul><h3 id=62-読者が陥りやすい落とし穴>6.2 読者が陥りやすい落とし穴</h3><ol><li><strong>過剰なパターン適用</strong>: シンプルなif/elseで十分な場面でパターンを使いすぎる</li><li><strong>クラス爆発</strong>: 各条件に対して1クラス作ることへの抵抗感</li><li><strong>抽象化のタイミング</strong>: いつリファクタリングすべきかの判断</li></ol><h3 id=63-次シリーズへの展望>6.3 次シリーズへの展望</h3><p>本シリーズ完了後の発展として:</p><ul><li>Commandパターン</li><li>Chain of Responsibilityパターン</li><li>本格的なWebフレームワークでのMVC実装</li></ul><hr><h2 id=7-調査結果のサマリー>7. 調査結果のサマリー</h2><h3 id=成功要因>成功要因</h3><ol><li><strong>前シリーズとの連続性</strong>: 同じBBS題材で学習の継続性を確保</li><li><strong>問題駆動</strong>: if/elseの問題を体験してから解決策を学ぶ</li><li><strong>段階的難易度</strong>: 1記事1概念の厳密な制約</li><li><strong>Perl/Moo特化</strong>: 日本語で丁寧な解説の差別化</li></ol><h3 id=リスクと対策>リスクと対策</h3><div class=table-wrapper><table><thead><tr><th>リスク</th><th>対策</th></tr></thead><tbody><tr><td>デザインパターンが抽象的に感じる</td><td>毎回BBSの具体的なユースケースで説明</td></tr><tr><td>前シリーズとの難易度ギャップ</td><td>第1回で丁寧に前シリーズを振り返る</td></tr><tr><td>コードリファレンスの理解</td><td>図解とステップバイステップの説明</td></tr><tr><td>パターンの名前を先に出しすぎる</td><td>「実装→気づき」の順序で構成</td></tr></tbody></table></div><hr><p><strong>調査完了</strong>: 2025年12月30日
<strong>次のステップ</strong>: 各専門家エージェントによる連載構造案の作成</p></section><footer class=article-footer></footer></article><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//nqounet.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2000 -
2026 デザインパターンの名前は嘘をつく</section><section class=powerby><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> で構築されています。<br>テーマ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> は <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> によって設計されています。</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>