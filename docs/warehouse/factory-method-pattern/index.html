<!doctype html><html lang=ja dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Factory Methodパターンの包括的調査：定義、構造、実装例(Perl含む)、メリット・デメリット、使用場面、競合記事分析"><title>Factory Method(ファクトリーメソッド)パターン調査ドキュメント</title><link rel=canonical href=https://www.nqou.net/warehouse/factory-method-pattern/><link rel=stylesheet href=/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css><meta property='og:title' content="Factory Method(ファクトリーメソッド)パターン調査ドキュメント"><meta property='og:description' content="Factory Methodパターンの包括的調査：定義、構造、実装例(Perl含む)、メリット・デメリット、使用場面、競合記事分析"><meta property='og:url' content='https://www.nqou.net/warehouse/factory-method-pattern/'><meta property='og:site_name' content='nqou.net'><meta property='og:type' content='article'><meta property='article:section' content='Warehouse'><meta property='article:tag' content='design-patterns'><meta property='article:tag' content='factory-method'><meta property='article:tag' content='gof'><meta property='article:tag' content='creational-patterns'><meta property='article:tag' content='perl'><meta property='article:published_time' content='2025-12-31T05:46:00+09:00'><meta property='article:modified_time' content='2025-12-31T05:46:00+09:00'><meta property='og:image' content='https://www.nqou.net/favicon.png'><meta name=twitter:title content="Factory Method(ファクトリーメソッド)パターン調査ドキュメント"><meta name=twitter:description content="Factory Methodパターンの包括的調査：定義、構造、実装例(Perl含む)、メリット・デメリット、使用場面、競合記事分析"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://www.nqou.net/favicon.png'><link rel="shortcut icon" href=/favicon.png><style>@import 'https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap';:root{--base-font-family:Arial, "Noto Sans JP", sans-serif}</style><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3923446804785015" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js defer></script><script defer>document.addEventListener("DOMContentLoaded",function(){try{typeof mermaid!="undefined"&&document.querySelector(".mermaid")&&mermaid.initialize({startOnLoad:!0,securityLevel:"strict"})}catch(e){console.warn("Mermaid failed to initialize:",e)}})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-E50H9ESN7E"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-E50H9ESN7E")</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=メニューを開く・閉じる>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/public_images/nqounet201703.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🥃</span></figure><div class=site-meta><h1 class=site-name><a href=/>nqou.net</a></h1><h2 class=site-description>Whisky, Perl, Kansai.pm</h2></div></header><ol class=menu-social><li><a href=https://github.com/nqounet target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://x.com/nqounet target=_blank title=X rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/advent-calendar-2025/><svg class="icon icon-tabler icon-tabler-calendar" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="5" width="16" height="16" rx="2"/><line x1="16" y1="3" x2="16" y2="7"/><line x1="8" y1="3" x2="8" y2="7"/><line x1="4" y1="11" x2="20" y2="11"/><path d="M8 15h.01"/><path d="M12 15h.01"/><path d="M16 15h.01"/><path d="M8 19h.01"/><path d="M12 19h.01"/><path d="M16 19h.01"/></svg>
<span>Perl Advent Calendar 2025 - AI Edition</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/warehouse/><svg class="icon icon-tabler icon-tabler-warehouse" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10l9-6 9 6"/><rect x="5" y="10" width="14" height="10" rx="2"/><rect x="10" y="14" width="4" height="6" rx="1"/><path d="M7 20v-4h2v4"/><path d="M15 20v-4h2v4"/></svg>
<span>Warehouse</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>ダークモード</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目次</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#調査目的>調査目的</a></li><li><a href=#1-factory-methodパターンの概要>1. Factory Methodパターンの概要</a><ol><li><a href=#11-定義>1.1 定義</a></li><li><a href=#12-目的>1.2 目的</a></li><li><a href=#13-基本構造>1.3 基本構造</a></li></ol></li><li><a href=#2-factory-methodパターンの用途>2. Factory Methodパターンの用途</a><ol><li><a href=#21-どのような場面で使うべきか>2.1 どのような場面で使うべきか</a><ol><li><a href=#場面1-クラスが生成すべきオブジェクトの型を事前に予測できない場合>場面1: クラスが生成すべきオブジェクトの型を事前に予測できない場合</a></li><li><a href=#場面2-オブジェクト生成ロジックが複雑または変化しやすい場合>場面2: オブジェクト生成ロジックが複雑または変化しやすい場合</a></li><li><a href=#場面3-拡張性を重視する場合新しい型を追加する可能性が高い>場面3: 拡張性を重視する場合(新しい型を追加する可能性が高い)</a></li><li><a href=#場面4-フレームワークやライブラリの設計>場面4: フレームワークやライブラリの設計</a></li></ol></li><li><a href=#22-実践的なユースケース>2.2 実践的なユースケース</a></li></ol></li><li><a href=#3-具体的なサンプルコード>3. 具体的なサンプルコード</a><ol><li><a href=#31-perlでの実装例mooを使用>3.1 Perlでの実装例(Mooを使用)</a><ol><li><a href=#ステップ1-productロールの定義>ステップ1: Productロールの定義</a></li><li><a href=#ステップ2-concreteproduct具体的な製品の実装>ステップ2: ConcreteProduct(具体的な製品)の実装</a></li><li><a href=#ステップ3-shapefactoryfactory-methodの実装>ステップ3: ShapeFactory(Factory Method)の実装</a></li><li><a href=#ステップ4-クライアントコードでの使用>ステップ4: クライアントコードでの使用</a></li></ol></li><li><a href=#32-より高度な実装例-perl-538-のclassを使用>3.2 より高度な実装例: Perl 5.38+ のclassを使用</a></li><li><a href=#33-実用的な例-json-rpc-request生成実際のプロジェクトより>3.3 実用的な例: JSON-RPC Request生成(実際のプロジェクトより)</a></li></ol></li><li><a href=#4-factory-methodパターンの利点メリット>4. Factory Methodパターンの利点(メリット)</a><ol><li><a href=#メリット1-オブジェクト生成ロジックのカプセル化>メリット1: オブジェクト生成ロジックのカプセル化</a></li><li><a href=#メリット2-疎結合loose-coupling>メリット2: 疎結合(Loose Coupling)</a></li><li><a href=#メリット3-拡張性の向上オープンクローズドの原則>メリット3: 拡張性の向上(オープン・クローズドの原則)</a></li><li><a href=#メリット4-コードの再利用性>メリット4: コードの再利用性</a></li><li><a href=#メリット5-テスタビリティの向上>メリット5: テスタビリティの向上</a></li></ol></li><li><a href=#5-factory-methodパターンの欠点デメリット>5. Factory Methodパターンの欠点(デメリット)</a><ol><li><a href=#デメリット1-クラス数の増加>デメリット1: クラス数の増加</a></li><li><a href=#デメリット2-継承への依存>デメリット2: 継承への依存</a></li><li><a href=#デメリット3-ボイラープレートコードの増加>デメリット3: ボイラープレートコードの増加</a></li><li><a href=#デメリット4-過剰設計オーバーエンジニアリングのリスク>デメリット4: 過剰設計(オーバーエンジニアリング)のリスク</a></li><li><a href=#デメリット5-初期学習コストの高さ>デメリット5: 初期学習コストの高さ</a></li></ol></li><li><a href=#6-factory-method-vs-simple-factory-vs-abstract-factory>6. Factory Method vs Simple Factory vs Abstract Factory</a><ol><li><a href=#61-比較表>6.1 比較表</a></li><li><a href=#62-simple-factoryシンプルファクトリー>6.2 Simple Factory(シンプルファクトリー)</a></li><li><a href=#63-factory-methodファクトリーメソッド>6.3 Factory Method(ファクトリーメソッド)</a></li><li><a href=#64-abstract-factory抽象ファクトリー>6.4 Abstract Factory(抽象ファクトリー)</a></li></ol></li><li><a href=#7-競合記事の分析>7. 競合記事の分析</a><ol><li><a href=#71-主要な競合参考記事>7.1 主要な競合・参考記事</a></li><li><a href=#72-競合記事の強み弱み>7.2 競合記事の強み・弱み</a><ol><li><a href=#refactoring-guruの強み>Refactoring Guruの強み</a></li><li><a href=#geeksforgeeksの強み>GeeksforGeeksの強み</a></li><li><a href=#日本語記事qiitazennの強み>日本語記事(Qiita/Zenn)の強み</a></li><li><a href=#theweeklychallengeの強みperl>TheWeeklyChallengeの強み(Perl)</a></li></ol></li><li><a href=#73-既存記事の問題点と本調査の差別化ポイント>7.3 既存記事の問題点と本調査の差別化ポイント</a><ol><li><a href=#既存記事の問題点>既存記事の問題点</a></li><li><a href=#本調査ドキュメントの差別化ポイント>本調査ドキュメントの差別化ポイント</a></li></ol></li></ol></li><li><a href=#8-内部リンク候補の調査>8. 内部リンク候補の調査</a><ol><li><a href=#81-関連記事デザインパターンオブジェクト指向>8.1 関連記事(デザインパターン・オブジェクト指向)</a></li><li><a href=#82-内部リンク戦略>8.2 内部リンク戦略</a><ol><li><a href=#必須リンク導入部概要>必須リンク(導入部・概要)</a></li><li><a href=#実装例セクション>実装例セクション</a></li><li><a href=#基礎知識セクション>基礎知識セクション</a></li></ol></li></ol></li><li><a href=#9-技術的正確性担保のための情報源リスト>9. 技術的正確性担保のための情報源リスト</a><ol><li><a href=#91-公式書籍必読>9.1 公式書籍(必読)</a></li><li><a href=#92-信頼性の高いwebリソース英語>9.2 信頼性の高いWebリソース(英語)</a></li><li><a href=#93-日本語リソース>9.3 日本語リソース</a></li><li><a href=#94-perl実装関連リソース>9.4 Perl実装関連リソース</a></li><li><a href=#95-github実装例参考コード>9.5 GitHub実装例(参考コード)</a></li></ol></li><li><a href=#10-調査結果のサマリー>10. 調査結果のサマリー</a><ol><li><a href=#101-主要な発見>10.1 主要な発見</a></li><li><a href=#102-技術記事執筆時の推奨構成>10.2 技術記事執筆時の推奨構成</a></li><li><a href=#103-今後の調査が必要な領域>10.3 今後の調査が必要な領域</a></li></ol></li><li><a href=#11-参考文献参考サイト統合版>11. 参考文献・参考サイト(統合版)</a><ol><li><a href=#111-gof原典定番書籍>11.1 GoF原典・定番書籍</a></li><li><a href=#112-web情報源英語>11.2 Web情報源(英語)</a></li><li><a href=#113-web情報源日本語>11.3 Web情報源(日本語)</a></li><li><a href=#114-perl関連リソース>11.4 Perl関連リソース</a></li><li><a href=#115-github実装例>11.5 GitHub実装例</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/warehouse/factory-method-pattern/><img src=/favicon.png loading=lazy alt="Featured image of post Factory Method(ファクトリーメソッド)パターン調査ドキュメント"></a></div><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/warehouse/factory-method-pattern/>Factory Method(ファクトリーメソッド)パターン調査ドキュメント</a></h2><h3 class=article-subtitle>Factory Methodパターンの包括的調査：定義、構造、実装例(Perl含む)、メリット・デメリット、使用場面、競合記事分析</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>12月 31, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>読了時間: 23分</time></div></footer></div></header><section class=article-content><h1 id=factory-methodファクトリーメソッドパターン調査ドキュメント>Factory Method(ファクトリーメソッド)パターン調査ドキュメント</h1><h2 id=調査目的>調査目的</h2><p>Factory Method(ファクトリーメソッド)デザインパターンについて包括的な調査を行い、その定義、目的、構造、実装例(特にPerl)、利点・欠点、適用場面を明らかにする。技術記事執筆時の正確性担保のための情報源を整備する。</p><ul><li><strong>調査対象</strong>: Factory Methodパターンの定義、構造、実装、利用場面</li><li><strong>想定読者</strong>: デザインパターンを学ぶソフトウェアエンジニア、Perl開発者</li><li><strong>調査実施日</strong>: 2025年12月31日</li></ul><hr><h2 id=1-factory-methodパターンの概要>1. Factory Methodパターンの概要</h2><h3 id=11-定義>1.1 定義</h3><p><strong>要点</strong>:</p><p>Factory Method(ファクトリーメソッド)パターンは、GoFの生成パターン(Creational Pattern)の一つです。<strong>オブジェクト生成のインターフェースを定義し、実際にインスタンス化するクラスの決定をサブクラスに委譲する</strong>パターンです。</p><p>具体的には:</p><ul><li>親クラス(Creator)がオブジェクト生成用のメソッド(Factory Method)を定義</li><li>サブクラス(ConcreteCreator)が実際の生成処理を実装</li><li>クライアントコードは具体的なクラスを知らずにオブジェクトを利用できる</li></ul><p><strong>根拠</strong>:</p><p>GoF書籍において「Define an interface for creating an object, but let subclasses decide which class to instantiate(オブジェクト生成のためのインターフェースを定義するが、どのクラスをインスタンス化するかはサブクラスに決めさせる)」と定義されています。</p><p>この定義から、Factory Methodパターンの本質は「生成処理の委譲による柔軟性の向上」であることが分かります。</p><p><strong>仮定</strong>:</p><ul><li>オブジェクト指向プログラミングの基本概念(クラス、継承、ポリモーフィズム)を理解している</li><li>「オープン・クローズドの原則(OCP)」—拡張に対して開いていて、変更に対して閉じている—を目指す設計を良しとする</li></ul><p><strong>出典</strong>:</p><ul><li>Wikipedia: Factory method pattern - <a class=link href=https://en.wikipedia.org/wiki/Factory_method_pattern target=_blank rel=noopener>https://en.wikipedia.org/wiki/Factory_method_pattern</a></li><li>GeeksforGeeks: Factory method Design Pattern - <a class=link href=https://www.geeksforgeeks.org/system-design/factory-method-for-designing-pattern/ target=_blank rel=noopener>https://www.geeksforgeeks.org/system-design/factory-method-for-designing-pattern/</a></li><li>Refactoring Guru: Factory Method - <a class=link href=https://refactoring.guru/design-patterns/factory-method target=_blank rel=noopener>https://refactoring.guru/design-patterns/factory-method</a></li></ul><p><strong>信頼度</strong>: 高(GoF原典および著名な技術サイト)</p><hr><h3 id=12-目的>1.2 目的</h3><p><strong>要点</strong>:</p><p>Factory Methodパターンの主な目的は以下の通りです:</p><ol><li><strong>疎結合の実現</strong>: クライアントコードと具体的な実装クラスとの依存関係を排除</li><li><strong>拡張性の向上</strong>: 新しい製品タイプの追加が既存コードの変更なしで可能</li><li><strong>オープン・クローズドの原則(OCP)への適合</strong>: 変更ではなく拡張で機能追加</li><li><strong>インスタンス生成ロジックのカプセル化</strong>: 複雑な生成処理を一箇所に集約</li></ol><p><strong>根拠</strong>:</p><ul><li>オブジェクト生成を専用のメソッドに委譲することで、クライアントは「何を作るか(What)」だけを指定し、「どう作るか(How)」を知る必要がなくなる</li><li>新しい製品クラスを追加する際、ConcreteCreatorを追加するだけで対応でき、既存の親クラスやクライアントコードの変更が不要</li></ul><p><strong>具体例</strong>:</p><ul><li><strong>Webブラウザのプラグインシステム</strong>: ブラウザ(Creator)は各種プラグイン(Product)の生成方法を知らず、プラグインローダー(ConcreteCreator)が具体的なプラグインをインスタンス化</li><li><strong>ペイメントゲートウェイ</strong>: 支払いシステムが実行時にStripe、PayPal、クレジットカードなどの決済プロセッサを選択</li></ul><p><strong>出典</strong>:</p><ul><li>DEV Community: Factory Design Pattern in Java - <a class=link href=https://dev.to/zeeshanali0704/factory-design-pattern-in-java-a-complete-guide-dgj target=_blank rel=noopener>https://dev.to/zeeshanali0704/factory-design-pattern-in-java-a-complete-guide-dgj</a></li><li>Software Patterns Lexicon: Factory Method Pattern - <a class=link href=https://softwarepatternslexicon.com/mastering-design-patterns/creational-design-patterns/factory-method-pattern/ target=_blank rel=noopener>https://softwarepatternslexicon.com/mastering-design-patterns/creational-design-patterns/factory-method-pattern/</a></li></ul><p><strong>信頼度</strong>: 高</p><hr><h3 id=13-基本構造>1.3 基本構造</h3><p><strong>要点</strong>:</p><p>Factory Methodパターンは以下の4つの要素で構成されます:</p><div class=table-wrapper><table><thead><tr><th>要素</th><th>役割</th><th>説明</th></tr></thead><tbody><tr><td><strong>Product</strong></td><td>製品インターフェース</td><td>生成されるオブジェクトの共通インターフェース(抽象クラスまたはロール)</td></tr><tr><td><strong>ConcreteProduct</strong></td><td>具体的な製品</td><td>Productインターフェースの具体実装</td></tr><tr><td><strong>Creator</strong></td><td>生成者(抽象)</td><td>Factory Methodを宣言し、デフォルト実装を提供する場合もある</td></tr><tr><td><strong>ConcreteCreator</strong></td><td>具体的な生成者</td><td>Factory Methodをオーバーライドし、ConcreteProductを返す</td></tr></tbody></table></div><p><strong>UML構造図(概念)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>&lt;&lt;interface&gt;&gt;
</span></span><span class=line><span class=cl>   Product
</span></span><span class=line><span class=cl>   +operation()
</span></span><span class=line><span class=cl>       ↑
</span></span><span class=line><span class=cl>       | implements
</span></span><span class=line><span class=cl>       |
</span></span><span class=line><span class=cl>+------+-------+
</span></span><span class=line><span class=cl>|              |
</span></span><span class=line><span class=cl>ConcreteProductA  ConcreteProductB
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;&lt;abstract&gt;&gt;
</span></span><span class=line><span class=cl>   Creator
</span></span><span class=line><span class=cl>   +factoryMethod(): Product
</span></span><span class=line><span class=cl>   +someOperation()
</span></span><span class=line><span class=cl>       ↑
</span></span><span class=line><span class=cl>       | extends
</span></span><span class=line><span class=cl>       |
</span></span><span class=line><span class=cl>+------+-------+
</span></span><span class=line><span class=cl>|              |
</span></span><span class=line><span class=cl>ConcreteCreatorA  ConcreteCreatorB
</span></span><span class=line><span class=cl>+factoryMethod()  +factoryMethod()
</span></span><span class=line><span class=cl>  returns ProductA  returns ProductB
</span></span></code></pre></td></tr></table></div></div><p><strong>クラス間の関係</strong>:</p><ol><li>Creator(親クラス)は、factoryMethod()を宣言し、Productインターフェースを返す</li><li>ConcreteCreator(サブクラス)は、factoryMethod()をオーバーライドして具体的なConcreteProductインスタンスを返す</li><li>クライアントはCreatorのメソッドを呼び出し、Productインターフェースを通じてオブジェクトを操作</li></ol><p><strong>根拠</strong>:</p><p>この構造により、クライアントは具体的なConcreteProductのクラス名を知る必要がなく、Creatorのインターフェースを通じてオブジェクトを取得できます。これが疎結合を実現する仕組みです。</p><p><strong>出典</strong>:</p><ul><li>GeeksforGeeks: Factory Method Design Pattern in Java - <a class=link href=https://www.geeksforgeeks.org/java/factory-method-design-pattern-in-java/ target=_blank rel=noopener>https://www.geeksforgeeks.org/java/factory-method-design-pattern-in-java/</a></li><li>Refactoring Guru: Factory Method - <a class=link href=https://refactoring.guru/design-patterns/factory-method target=_blank rel=noopener>https://refactoring.guru/design-patterns/factory-method</a></li></ul><p><strong>信頼度</strong>: 高</p><hr><h2 id=2-factory-methodパターンの用途>2. Factory Methodパターンの用途</h2><h3 id=21-どのような場面で使うべきか>2.1 どのような場面で使うべきか</h3><p><strong>要点</strong>:</p><p>Factory Methodパターンは以下のような状況で特に有効です:</p><h4 id=場面1-クラスが生成すべきオブジェクトの型を事前に予測できない場合>場面1: クラスが生成すべきオブジェクトの型を事前に予測できない場合</h4><ul><li><strong>状況</strong>: システムが扱うオブジェクトの種類が実行時に決まる、または頻繁に変更される</li><li><strong>例</strong>: ドキュメントエディタで、ファイル拡張子に応じて異なるドキュメントクラス(PDF、Word、Excelなど)を生成</li></ul><h4 id=場面2-オブジェクト生成ロジックが複雑または変化しやすい場合>場面2: オブジェクト生成ロジックが複雑または変化しやすい場合</h4><ul><li><strong>状況</strong>: インスタンス生成に複雑な条件分岐や設定が必要で、その処理を一箇所に集約したい</li><li><strong>例</strong>: データベース接続の生成(開発環境・本番環境で異なる設定を適用)</li></ul><h4 id=場面3-拡張性を重視する場合新しい型を追加する可能性が高い>場面3: 拡張性を重視する場合(新しい型を追加する可能性が高い)</h4><ul><li><strong>状況</strong>: 将来的に新しい製品タイプが追加される可能性が高く、既存コードの変更を最小限に抑えたい</li><li><strong>例</strong>: ゲーム開発でのエンティティ生成(敵キャラ、アイテム、NPCなど)</li></ul><h4 id=場面4-フレームワークやライブラリの設計>場面4: フレームワークやライブラリの設計</h4><ul><li><strong>状況</strong>: ライブラリ利用者が独自の実装を差し込めるようにしたい</li><li><strong>例</strong>: ロギングフレームワークで、ユーザーが独自のLogger実装を提供できる仕組み</li></ul><p><strong>反例(使うべきでない場合)</strong>:</p><ul><li>生成するオブジェクトの種類が1つまたは固定で、変更の予定がない場合</li><li>シンプルな<code>new</code>による生成で十分な小規模プロジェクト</li><li>過度な抽象化がコードの可読性を損なう場合</li></ul><p><strong>根拠</strong>:</p><p>Factory Methodパターンはクラス数の増加というコストを伴うため、拡張性や保守性のメリットがコストを上回る場合にのみ適用すべきです。</p><p><strong>出典</strong>:</p><ul><li>JavaTechOnline: Factory Method Design Pattern in Java - <a class=link href=https://javatechonline.com/factory-method-design-pattern-in-java-analogy/ target=_blank rel=noopener>https://javatechonline.com/factory-method-design-pattern-in-java-analogy/</a></li><li>Naukri Code 360: Factory Design Pattern in Java with Examples - <a class=link href=https://www.naukri.com/code360/library/factory-design-pattern target=_blank rel=noopener>https://www.naukri.com/code360/library/factory-design-pattern</a></li><li>Qiita: 【デザインパターン】ファクトリーメソッドパターン解説 - <a class=link href=https://qiita.com/nozomi2025/items/4a68d12a1fc539b1a582 target=_blank rel=noopener>https://qiita.com/nozomi2025/items/4a68d12a1fc539b1a582</a></li></ul><p><strong>信頼度</strong>: 高</p><hr><h3 id=22-実践的なユースケース>2.2 実践的なユースケース</h3><p><strong>要点</strong>:</p><p>Factory Methodパターンの実践的な適用例:</p><div class=table-wrapper><table><thead><tr><th>領域</th><th>ユースケース</th><th>具体例</th></tr></thead><tbody><tr><td><strong>フロントエンド</strong></td><td>UIコンポーネント生成</td><td>ボタン、モーダル、フォームをテーマに応じて生成</td></tr><tr><td><strong>バックエンド</strong></td><td>データアクセス層</td><td>MySQL、PostgreSQL、MongoDBなどのDAOを動的に選択</td></tr><tr><td><strong>組み込み</strong></td><td>センサードライバ</td><td>温度センサー、湿度センサーなどのドライバを統一インターフェースで管理</td></tr><tr><td><strong>クラウド</strong></td><td>ストレージプロバイダ</td><td>AWS S3、Azure Blob、GCS を抽象化して切り替え可能に</td></tr><tr><td><strong>ゲーム開発</strong></td><td>エンティティ生成</td><td>敵キャラクター、アイテム、NPCの種類を動的に生成</td></tr><tr><td><strong>通知システム</strong></td><td>通知チャネル</td><td>Email、SMS、Pushなどの通知手段を実行時に選択</td></tr></tbody></table></div><p><strong>具体例1: ドキュメント生成システム</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Creator: DocumentFactory
</span></span><span class=line><span class=cl>ConcreteCreator: PDFFactory, WordFactory, ExcelFactory
</span></span><span class=line><span class=cl>Product: Document (interface)
</span></span><span class=line><span class=cl>ConcreteProduct: PDFDocument, WordDocument, ExcelDocument
</span></span></code></pre></td></tr></table></div></div><p>クライアントは「PDFを生成したい」と指定するだけで、PDFFactoryが適切なPDFDocumentインスタンスを返す。</p><p><strong>具体例2: 通知システム</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Creator: NotificationSender
</span></span><span class=line><span class=cl>ConcreteCreator: EmailSender, SMSSender, PushNotificationSender
</span></span><span class=line><span class=cl>Product: Notification (interface)
</span></span><span class=line><span class=cl>ConcreteProduct: EmailNotification, SMSNotification, PushNotification
</span></span></code></pre></td></tr></table></div></div><p><strong>出典</strong>:</p><ul><li>GeeksforGeeks: Factory method Design Pattern - <a class=link href=https://www.geeksforgeeks.org/system-design/factory-method-for-designing-pattern/ target=_blank rel=noopener>https://www.geeksforgeeks.org/system-design/factory-method-for-designing-pattern/</a></li><li>prgrmmng.com: Factory Method Pattern in Java – With Real-World Examples - <a class=link href=https://prgrmmng.com/factory-method-pattern-java target=_blank rel=noopener>https://prgrmmng.com/factory-method-pattern-java</a></li></ul><p><strong>信頼度</strong>: 高</p><hr><h2 id=3-具体的なサンプルコード>3. 具体的なサンプルコード</h2><h3 id=31-perlでの実装例mooを使用>3.1 Perlでの実装例(Mooを使用)</h3><p><strong>要点</strong>:</p><p>MooはPerlのモダンなオブジェクト指向システムで、ロール(Role)を使った柔軟な設計が可能です。Factory Methodパターンの実装に最適です。</p><h4 id=ステップ1-productロールの定義>ステップ1: Productロールの定義</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>package</span> <span class=nn>Shape</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo::Role</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 全ての具体的な形状クラスはdraw()メソッドを実装する必要がある</span>
</span></span><span class=line><span class=cl><span class=n>requires</span> <span class=s>&#39;draw&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mi>1</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>解説</strong>: <code>requires 'draw'</code>により、このロールを使用するクラスは必ず<code>draw</code>メソッドを実装しなければなりません。これがProductインターフェースに相当します。</p><hr><h4 id=ステップ2-concreteproduct具体的な製品の実装>ステップ2: ConcreteProduct(具体的な製品)の実装</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>package</span> <span class=nn>Circle</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>with</span> <span class=s>&#39;Shape&#39;</span><span class=p>;</span>  <span class=c1># Shapeロールを適用</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>draw</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$self</span> <span class=o>=</span> <span class=nb>shift</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>print</span> <span class=s>&#34;Drawing Circle\n&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mi>1</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>package</span> <span class=nn>Square</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>with</span> <span class=s>&#39;Shape&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>draw</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$self</span> <span class=o>=</span> <span class=nb>shift</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>print</span> <span class=s>&#34;Drawing Square\n&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mi>1</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>package</span> <span class=nn>Rectangle</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>with</span> <span class=s>&#39;Shape&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>draw</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$self</span> <span class=o>=</span> <span class=nb>shift</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>print</span> <span class=s>&#34;Drawing Rectangle\n&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mi>1</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=ステップ3-shapefactoryfactory-methodの実装>ステップ3: ShapeFactory(Factory Method)の実装</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>package</span> <span class=nn>ShapeFactory</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>strict</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>warnings</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Factory Method - 形状タイプに応じたオブジェクトを生成</span>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>create</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$class</span><span class=p>,</span> <span class=nv>$type</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># ディスパッチテーブル(型名→生成サブルーチンのマッピング)</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>%creators</span> <span class=o>=</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>circle</span>    <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span> <span class=nn>Circle</span><span class=o>-&gt;</span><span class=k>new</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=n>square</span>    <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span> <span class=nn>Square</span><span class=o>-&gt;</span><span class=k>new</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=n>rectangle</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span> <span class=nn>Rectangle</span><span class=o>-&gt;</span><span class=k>new</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 未知の型の場合はエラー</span>
</span></span><span class=line><span class=cl>    <span class=nb>die</span> <span class=s>&#34;Unknown shape type: $type\n&#34;</span> <span class=k>unless</span> <span class=nb>exists</span> <span class=nv>$creators</span><span class=p>{</span><span class=nv>$type</span><span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 対応する生成サブルーチンを呼び出してインスタンスを返す</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$creators</span><span class=p>{</span><span class=nv>$type</span><span class=p>}</span><span class=o>-&gt;</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mi>1</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>解説</strong>:</p><ul><li><code>%creators</code>はディスパッチテーブルで、型名とオブジェクト生成ロジックをマッピング</li><li>新しい形状を追加する際は、<code>%creators</code>に新しいエントリを追加するだけ</li><li>クライアントは具体的なクラス名(Circle、Squareなど)を知る必要がない</li></ul><hr><h4 id=ステップ4-クライアントコードでの使用>ステップ4: クライアントコードでの使用</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=ch>#!/usr/bin/env perl</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>strict</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>warnings</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>ShapeFactory</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 円を生成して描画</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$shape1</span> <span class=o>=</span> <span class=nn>ShapeFactory</span><span class=o>-&gt;</span><span class=n>create</span><span class=p>(</span><span class=s>&#39;circle&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$shape1</span><span class=o>-&gt;</span><span class=n>draw</span><span class=p>();</span>  <span class=c1># 出力: Drawing Circle</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 四角形を生成して描画</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$shape2</span> <span class=o>=</span> <span class=nn>ShapeFactory</span><span class=o>-&gt;</span><span class=n>create</span><span class=p>(</span><span class=s>&#39;square&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$shape2</span><span class=o>-&gt;</span><span class=n>draw</span><span class=p>();</span>  <span class=c1># 出力: Drawing Square</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 長方形を生成して描画</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$shape3</span> <span class=o>=</span> <span class=nn>ShapeFactory</span><span class=o>-&gt;</span><span class=n>create</span><span class=p>(</span><span class=s>&#39;rectangle&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$shape3</span><span class=o>-&gt;</span><span class=n>draw</span><span class=p>();</span>  <span class=c1># 出力: Drawing Rectangle</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 未知の型を指定した場合</span>
</span></span><span class=line><span class=cl><span class=nb>eval</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$shape4</span> <span class=o>=</span> <span class=nn>ShapeFactory</span><span class=o>-&gt;</span><span class=n>create</span><span class=p>(</span><span class=s>&#39;triangle&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=vg>$@</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>print</span> <span class=s>&#34;Error: $@&#34;</span><span class=p>;</span>  <span class=c1># 出力: Error: Unknown shape type: triangle</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>利点の実証</strong>:</p><ol><li><strong>疎結合</strong>: クライアントはCircle、Squareなどの具体クラスを直接知らない</li><li><strong>拡張性</strong>: 新しい形状(例: Triangle)を追加する際、ShapeFactoryの<code>%creators</code>に追加するだけ</li><li><strong>保守性</strong>: 生成ロジックが一箇所(ShapeFactory)に集約されている</li></ol><hr><h3 id=32-より高度な実装例-perl-538-のclassを使用>3.2 より高度な実装例: Perl 5.38+ のclassを使用</h3><p><strong>要点</strong>:</p><p>Perl 5.38以降では実験的に<code>class</code>構文が導入されました。これを使ったよりモダンな実装例です。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>v5</span><span class=mf>.38</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>experimental</span> <span class=s>&#39;class&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Product (基底クラス)</span>
</span></span><span class=line><span class=cl><span class=n>class</span> <span class=n>Shape</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>method</span> <span class=n>draw</span> <span class=p>{</span> <span class=nb>die</span> <span class=s>&#34;draw() must be implemented by subclass\n&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ConcreteProduct: Circle</span>
</span></span><span class=line><span class=cl><span class=n>class</span> <span class=n>Circle</span> <span class=p>:</span><span class=n>isa</span><span class=p>(</span><span class=n>Shape</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>method</span> <span class=n>draw</span> <span class=p>{</span> <span class=n>say</span> <span class=s>&#34;Drawing Circle&#34;</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ConcreteProduct: Square</span>
</span></span><span class=line><span class=cl><span class=n>class</span> <span class=n>Square</span> <span class=p>:</span><span class=n>isa</span><span class=p>(</span><span class=n>Shape</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>method</span> <span class=n>draw</span> <span class=p>{</span> <span class=n>say</span> <span class=s>&#34;Drawing Square&#34;</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Factory Method</span>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>shape_factory</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$type</span> <span class=o>=</span> <span class=nb>shift</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nn>Circle</span><span class=o>-&gt;</span><span class=k>new</span> <span class=k>if</span> <span class=nv>$type</span> <span class=ow>eq</span> <span class=s>&#39;circle&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nn>Square</span><span class=o>-&gt;</span><span class=k>new</span> <span class=k>if</span> <span class=nv>$type</span> <span class=ow>eq</span> <span class=s>&#39;square&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>die</span> <span class=s>&#34;Unknown type: $type\n&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># クライアントコード</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$s1</span> <span class=o>=</span> <span class=n>shape_factory</span><span class=p>(</span><span class=s>&#39;circle&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$s1</span><span class=o>-&gt;</span><span class=n>draw</span><span class=p>();</span>  <span class=c1># 出力: Drawing Circle</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$s2</span> <span class=o>=</span> <span class=n>shape_factory</span><span class=p>(</span><span class=s>&#39;square&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$s2</span><span class=o>-&gt;</span><span class=n>draw</span><span class=p>();</span>  <span class=c1># 出力: Drawing Square</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>根拠</strong>:</p><p>Perl 5.38の<code>class</code>構文は、より直感的でモダンなオブジェクト指向スタイルを提供します。ただし、まだ実験的機能であり、本番環境での使用には注意が必要です。</p><p><strong>出典</strong>:</p><ul><li>TheWeeklyChallenge: Design Pattern Factory - <a class=link href=https://theweeklychallenge.org/blog/design-pattern-factory/ target=_blank rel=noopener>https://theweeklychallenge.org/blog/design-pattern-factory/</a></li><li>Perldoc: perlclass - <a class=link href=https://perldoc.perl.org/perlclass target=_blank rel=noopener>https://perldoc.perl.org/perlclass</a></li></ul><p><strong>信頼度</strong>: 高(公式ドキュメント準拠)</p><hr><h3 id=33-実用的な例-json-rpc-request生成実際のプロジェクトより>3.3 実用的な例: JSON-RPC Request生成(実際のプロジェクトより)</h3><p><strong>要点</strong>:</p><p>実際のプロジェクトで使われているFactory Methodパターンの実装例として、JSON-RPC Requestオブジェクトの生成を紹介します。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>package</span> <span class=nn>JsonRpc::Request</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Types::Standard</span> <span class=sx>qw(Maybe Str Int ArrayRef HashRef InstanceOf)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>jsonrpc</span> <span class=o>=&gt;</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>is</span>       <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>isa</span>      <span class=o>=&gt;</span> <span class=n>InstanceOf</span><span class=p>[</span><span class=s>&#39;JsonRpc::Version&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>required</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>method</span> <span class=o>=&gt;</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>is</span>       <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>isa</span>      <span class=o>=&gt;</span> <span class=n>InstanceOf</span><span class=p>[</span><span class=s>&#39;JsonRpc::MethodName&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>required</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>params</span> <span class=o>=&gt;</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>is</span>  <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>isa</span> <span class=o>=&gt;</span> <span class=n>Maybe</span><span class=p>[</span><span class=n>ArrayRef</span> <span class=o>|</span> <span class=n>HashRef</span><span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>id</span> <span class=o>=&gt;</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>is</span>  <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>isa</span> <span class=o>=&gt;</span> <span class=n>Maybe</span><span class=p>[</span><span class=n>Str</span> <span class=o>|</span> <span class=n>Int</span><span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Factory Method: ハッシュからRequestオブジェクトを生成</span>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>from_hash</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$class</span><span class=p>,</span> <span class=nv>$hash</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$class</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>jsonrpc</span> <span class=o>=&gt;</span> <span class=nn>JsonRpc::Version</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>(</span><span class=n>value</span> <span class=o>=&gt;</span> <span class=nv>$hash</span><span class=o>-&gt;</span><span class=p>{</span><span class=n>jsonrpc</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>method</span>  <span class=o>=&gt;</span> <span class=nn>JsonRpc::MethodName</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>(</span><span class=n>value</span> <span class=o>=&gt;</span> <span class=nv>$hash</span><span class=o>-&gt;</span><span class=p>{</span><span class=n>method</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>params</span>  <span class=o>=&gt;</span> <span class=nv>$hash</span><span class=o>-&gt;</span><span class=p>{</span><span class=n>params</span><span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=n>id</span>      <span class=o>=&gt;</span> <span class=nv>$hash</span><span class=o>-&gt;</span><span class=p>{</span><span class=n>id</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mi>1</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>使用例</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>JsonRpc::Request</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># JSONから受け取ったハッシュリファレンス</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$json_data</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>jsonrpc</span> <span class=o>=&gt;</span> <span class=s>&#39;2.0&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>method</span>  <span class=o>=&gt;</span> <span class=s>&#39;sum&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>params</span>  <span class=o>=&gt;</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>id</span>      <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Factory Methodで生成</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$request</span> <span class=o>=</span> <span class=nn>JsonRpc::Request</span><span class=o>-&gt;</span><span class=n>from_hash</span><span class=p>(</span><span class=nv>$json_data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># バリデーション済みのオブジェクトとして使用</span>
</span></span><span class=line><span class=cl><span class=n>say</span> <span class=nv>$request</span><span class=o>-&gt;</span><span class=nn>method</span><span class=o>-&gt;</span><span class=n>value</span><span class=p>;</span>  <span class=c1># 出力: sum</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>解説</strong>:</p><ul><li><code>from_hash</code>がFactory Methodとして機能</li><li>生成時に各フィールドのバリデーションが自動実行される</li><li>クライアントは内部のバリデーションロジックを知る必要がない</li></ul><p><strong>出典</strong>:</p><ul><li>内部リンク: /2025/12/25/234500/ (JSON-RPC Request/Response実装記事)</li></ul><p><strong>信頼度</strong>: 高(実装済みプロジェクトコード)</p><hr><h2 id=4-factory-methodパターンの利点メリット>4. Factory Methodパターンの利点(メリット)</h2><p><strong>要点</strong>:</p><p>Factory Methodパターンには以下の明確な利点があります:</p><h3 id=メリット1-オブジェクト生成ロジックのカプセル化>メリット1: オブジェクト生成ロジックのカプセル化</h3><p><strong>詳細</strong>:</p><ul><li>複雑な生成処理を一箇所に集約できる</li><li>クライアントコードが「どう作るか(How)」を知る必要がない</li><li>生成ロジックの変更が容易</li></ul><p><strong>根拠</strong>:
生成処理がFactoryメソッド内にカプセル化されるため、依存関係の管理や初期化処理の変更が局所化されます。</p><hr><h3 id=メリット2-疎結合loose-coupling>メリット2: 疎結合(Loose Coupling)</h3><p><strong>詳細</strong>:</p><ul><li>クライアントコードは具体クラスへの依存を持たない</li><li>Productインターフェースのみに依存するため、実装の変更に強い</li><li>テスト時にモックオブジェクトへの差し替えが容易</li></ul><p><strong>根拠</strong>:
クライアントがConcreteProductを直接インスタンス化しないため、依存関係が抽象(インターフェース)に向けられます。</p><hr><h3 id=メリット3-拡張性の向上オープンクローズドの原則>メリット3: 拡張性の向上(オープン・クローズドの原則)</h3><p><strong>詳細</strong>:</p><ul><li>新しいConcreteProductを追加する際、既存コードの変更が不要</li><li>サブクラスを追加するだけで機能拡張が可能</li><li>既存のクラスやクライアントコードは変更せずに済む(&ldquo;Open for extension, Closed for modification&rdquo;)</li></ul><p><strong>根拠</strong>:
新しい製品タイプは新しいConcreteCreatorとConcreteProductのペアを追加するだけで実現でき、既存のCreatorクラスやクライアントコードには影響を与えません。</p><hr><h3 id=メリット4-コードの再利用性>メリット4: コードの再利用性</h3><p><strong>詳細</strong>:</p><ul><li>共通の生成ロジックを親クラス(Creator)に記述できる</li><li>サブクラスは差分だけを実装すれば良い</li><li>同じFactory Methodを複数箇所から呼び出せる</li></ul><p><strong>根拠</strong>:
Template Methodパターンと組み合わせることで、生成前後の共通処理を親クラスで定義し、具体的な生成部分だけをサブクラスで実装できます。</p><hr><h3 id=メリット5-テスタビリティの向上>メリット5: テスタビリティの向上</h3><p><strong>詳細</strong>:</p><ul><li>テスト時にモックFactoryを注入しやすい</li><li>具体実装への依存がないため、スタブやモックオブジェクトへの差し替えが容易</li><li>単体テストの独立性を保ちやすい</li></ul><p><strong>根拠</strong>:
依存性注入(DI)と組み合わせることで、テスト環境では本番のFactoryの代わりにMock Factoryを注入できます。</p><hr><p><strong>出典</strong>:</p><ul><li>GeeksforGeeks: Factory method Design Pattern - <a class=link href=https://www.geeksforgeeks.org/system-design/factory-method-for-designing-pattern/ target=_blank rel=noopener>https://www.geeksforgeeks.org/system-design/factory-method-for-designing-pattern/</a></li><li>DEV Community: Factory Design Pattern in Java - <a class=link href=https://dev.to/zeeshanali0704/factory-design-pattern-in-java-a-complete-guide-dgj target=_blank rel=noopener>https://dev.to/zeeshanali0704/factory-design-pattern-in-java-a-complete-guide-dgj</a></li><li>Design Patterns Mastery: Factory Method Pattern Advantages - <a class=link href=https://designpatternsmastery.com/5/2/2/5/ target=_blank rel=noopener>https://designpatternsmastery.com/5/2/2/5/</a></li></ul><p><strong>信頼度</strong>: 高</p><hr><h2 id=5-factory-methodパターンの欠点デメリット>5. Factory Methodパターンの欠点(デメリット)</h2><p><strong>要点</strong>:</p><p>Factory Methodパターンには以下のデメリットも存在します。適用時には利点と欠点のバランスを考慮する必要があります。</p><h3 id=デメリット1-クラス数の増加>デメリット1: クラス数の増加</h3><p><strong>詳細</strong>:</p><ul><li>製品タイプごとにConcreteCreatorとConcreteProductのペアが必要</li><li>小規模プロジェクトではクラス数が過度に増え、構造が複雑化</li><li>ファイル数の増加により、プロジェクト構造の把握が困難になる可能性</li></ul><p><strong>影響度</strong>:
製品タイプが5個以上になると、クラス数が10個以上に膨れ上がる可能性があります。</p><p><strong>根拠</strong>:
各ConcreteProductに対応するConcreteCreatorを作成する必要があるため、最低でも製品タイプ数の2倍のクラスが必要になります。</p><hr><h3 id=デメリット2-継承への依存>デメリット2: 継承への依存</h3><p><strong>詳細</strong>:</p><ul><li>Factory Methodパターンは継承を前提とした設計</li><li>継承階層が深くなると保守性が低下</li><li>コンポジションを好む設計思想とは相反する</li><li>多重継承の問題が発生する可能性(言語による)</li></ul><p><strong>根拠</strong>:
GoFのFactory Methodパターンは「サブクラスがfactoryMethod()をオーバーライドする」という継承ベースの構造です。継承よりコンポジションを推奨する現代的な設計思想とは必ずしも一致しません。</p><hr><h3 id=デメリット3-ボイラープレートコードの増加>デメリット3: ボイラープレートコードの増加</h3><p><strong>詳細</strong>:</p><ul><li>単純なオブジェクト生成のために多くのボイラープレートコードが必要</li><li>インターフェース定義、抽象クラス、実装クラスなど、定型的なコードが増える</li><li>小規模な用途では通常の<code>new</code>で済むところを過剰に抽象化してしまう</li></ul><p><strong>具体例</strong>:
単に<code>Circle->new()</code>で済むところを、ShapeFactory、Shapeインターフェース、Creatorクラスなどを用意する必要があります。</p><hr><h3 id=デメリット4-過剰設計オーバーエンジニアリングのリスク>デメリット4: 過剰設計(オーバーエンジニアリング)のリスク</h3><p><strong>詳細</strong>:</p><ul><li>拡張性が不要な場面で適用すると、無駄な複雑さを招く</li><li>YAGNI原則(You Aren&rsquo;t Gonna Need It)に反する可能性</li><li>設計の意図が理解されないまま形式的に導入されるとアンチパターン化</li></ul><p><strong>根拠</strong>:
Factory Methodパターンは「将来の拡張性」を見越した設計ですが、その拡張が実際には発生しない場合、複雑さだけが残ります。</p><hr><h3 id=デメリット5-初期学習コストの高さ>デメリット5: 初期学習コストの高さ</h3><p><strong>詳細</strong>:</p><ul><li>デザインパターンに不慣れなチームメンバーにとっては理解が難しい</li><li>パターンの意図を理解しないまま使用すると誤用につながる</li><li>ドキュメントやコメントでの説明が必須</li></ul><p><strong>根拠</strong>:
Factory Methodパターンは抽象度が高く、コードを読むだけではその意図が伝わりにくい場合があります。</p><hr><p><strong>出典</strong>:</p><ul><li>Design Patterns Mastery: Factory Method Pattern Limitations - <a class=link href=https://designpatternsmastery.com/5/2/2/5/ target=_blank rel=noopener>https://designpatternsmastery.com/5/2/2/5/</a></li><li>JavaTechOnline: Factory Method Design Pattern in Java - <a class=link href=https://javatechonline.com/factory-method-design-pattern-in-java-analogy/ target=_blank rel=noopener>https://javatechonline.com/factory-method-design-pattern-in-java-analogy/</a></li><li>Qiita: 【デザインパターン】ファクトリーメソッドパターン解説 - <a class=link href=https://qiita.com/nozomi2025/items/4a68d12a1fc539b1a582 target=_blank rel=noopener>https://qiita.com/nozomi2025/items/4a68d12a1fc539b1a582</a></li></ul><p><strong>信頼度</strong>: 高</p><hr><h2 id=6-factory-method-vs-simple-factory-vs-abstract-factory>6. Factory Method vs Simple Factory vs Abstract Factory</h2><p><strong>要点</strong>:</p><p>Factory系のパターンは複数あり、混同されやすいため、違いを明確にします。</p><h3 id=61-比較表>6.1 比較表</h3><div class=table-wrapper><table><thead><tr><th>特徴</th><th>Simple Factory</th><th>Factory Method</th><th>Abstract Factory</th></tr></thead><tbody><tr><td><strong>分類</strong></td><td>GoFパターンではない(補助パターン)</td><td>GoF生成パターン</td><td>GoF生成パターン</td></tr><tr><td><strong>生成決定</strong></td><td>一箇所に集中</td><td>サブクラスに委譲</td><td>ファミリー単位で委譲</td></tr><tr><td><strong>拡張性(OCP)</strong></td><td>低い(修正が必要)</td><td>高い(サブクラス追加)</td><td>最高(ファクトリー実装追加)</td></tr><tr><td><strong>継承</strong></td><td>不要</td><td>必要</td><td>インターフェースベース</td></tr><tr><td><strong>生成する製品</strong></td><td>複数、無関連</td><td>複数、類似</td><td>複数、関連ファミリー</td></tr><tr><td><strong>クライアント依存</strong></td><td>Factoryクラスと製品</td><td>Factory Methodの契約</td><td>Abstract Factoryインターフェース</td></tr><tr><td><strong>典型的用途</strong></td><td>シンプルなケース</td><td>フレームワークフック</td><td>テーマ/UIツールキット</td></tr></tbody></table></div><hr><h3 id=62-simple-factoryシンプルファクトリー>6.2 Simple Factory(シンプルファクトリー)</h3><p><strong>特徴</strong>:</p><ul><li>静的メソッドまたは単一クラスでオブジェクト生成を行う</li><li>if/elseやswitch文で型を判定して生成</li><li>継承を使わない最もシンプルな形</li></ul><p><strong>実装例(概念)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>package</span> <span class=nn>CoffeeFactory</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>make_coffee</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$type</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nn>Latte</span><span class=o>-&gt;</span><span class=k>new</span>      <span class=k>if</span> <span class=nv>$type</span> <span class=ow>eq</span> <span class=s>&#39;latte&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nn>Espresso</span><span class=o>-&gt;</span><span class=k>new</span>   <span class=k>if</span> <span class=nv>$type</span> <span class=ow>eq</span> <span class=s>&#39;espresso&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nn>Cappuccino</span><span class=o>-&gt;</span><span class=k>new</span> <span class=k>if</span> <span class=nv>$type</span> <span class=ow>eq</span> <span class=s>&#39;cappuccino&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>die</span> <span class=s>&#34;Unknown coffee type: $type\n&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>欠点</strong>: 新しいコーヒータイプを追加するたびに<code>make_coffee</code>メソッドを修正する必要がある(OCPに違反)</p><hr><h3 id=63-factory-methodファクトリーメソッド>6.3 Factory Method(ファクトリーメソッド)</h3><p><strong>特徴</strong>:</p><ul><li>継承を使ってサブクラスに生成処理を委譲</li><li>各サブクラスが独自のfactoryMethod()を実装</li><li>拡張時に既存コードを変更せずにサブクラスを追加</li></ul><p><strong>実装例(概念)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>package</span> <span class=nn>CoffeeFactory</span><span class=p>;</span>  <span class=c1># 抽象</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>make_coffee</span> <span class=p>{</span> <span class=nb>die</span> <span class=s>&#34;Override me\n&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>LatteFactory</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>extends</span> <span class=s>&#39;CoffeeFactory&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>make_coffee</span> <span class=p>{</span> <span class=nn>Latte</span><span class=o>-&gt;</span><span class=k>new</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>EspressoFactory</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>extends</span> <span class=s>&#39;CoffeeFactory&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>make_coffee</span> <span class=p>{</span> <span class=nn>Espresso</span><span class=o>-&gt;</span><span class=k>new</span> <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=64-abstract-factory抽象ファクトリー>6.4 Abstract Factory(抽象ファクトリー)</h3><p><strong>特徴</strong>:</p><ul><li>関連する製品ファミリーをまとめて生成</li><li>インターフェースベースで複数の製品を生成するメソッド群を持つ</li><li>クロスプラットフォーム対応やテーマ切り替えに最適</li></ul><p><strong>実装例(概念)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=c1># ItalianCoffeeFactory</span>
</span></span><span class=line><span class=cl><span class=c1># - make_coffee() → Espresso</span>
</span></span><span class=line><span class=cl><span class=c1># - make_snack()  → ItalianBiscuit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># FrenchCoffeeFactory</span>
</span></span><span class=line><span class=cl><span class=c1># - make_coffee() → FrenchRoast</span>
</span></span><span class=line><span class=cl><span class=c1># - make_snack()  → Croissant</span>
</span></span></code></pre></td></tr></table></div></div><p>クライアントはItalianCoffeeFactoryまたはFrenchCoffeeFactoryを選び、一貫したスタイルのコーヒーとスナックを取得できます。</p><hr><p><strong>出典</strong>:</p><ul><li>Baeldung: Factory Method vs Factory vs Abstract Factory - <a class=link href=https://www.baeldung.com/cs/factory-method-vs-factory-vs-abstract-factory target=_blank rel=noopener>https://www.baeldung.com/cs/factory-method-vs-factory-vs-abstract-factory</a></li><li>Stack Overflow: Differences between Abstract Factory and Factory - <a class=link href=https://stackoverflow.com/questions/5739611/what-are-the-differences-between-abstract-factory-and-factory-design-patterns target=_blank rel=noopener>https://stackoverflow.com/questions/5739611/what-are-the-differences-between-abstract-factory-and-factory-design-patterns</a></li><li>JavaThinking: Factory vs Factory Method vs Abstract Factory - <a class=link href=https://www.javathinking.com/blog/design-patterns-factory-vs-factory-method-vs-abstract-factory/ target=_blank rel=noopener>https://www.javathinking.com/blog/design-patterns-factory-vs-factory-method-vs-abstract-factory/</a></li></ul><p><strong>信頼度</strong>: 高</p><hr><h2 id=7-競合記事の分析>7. 競合記事の分析</h2><h3 id=71-主要な競合参考記事>7.1 主要な競合・参考記事</h3><div class=table-wrapper><table><thead><tr><th>サイト名</th><th>言語</th><th>特徴</th><th>URL</th></tr></thead><tbody><tr><td><strong>Refactoring Guru</strong></td><td>多言語(日本語あり)</td><td>視覚的で分かりやすい、UML図豊富、多言語コード例</td><td><a class=link href=https://refactoring.guru/design-patterns/factory-method target=_blank rel=noopener>https://refactoring.guru/design-patterns/factory-method</a></td></tr><tr><td><strong>GeeksforGeeks</strong></td><td>英語</td><td>網羅的な解説、Java実装中心、インタビュー対策向け</td><td><a class=link href=https://www.geeksforgeeks.org/system-design/factory-method-for-designing-pattern/ target=_blank rel=noopener>https://www.geeksforgeeks.org/system-design/factory-method-for-designing-pattern/</a></td></tr><tr><td><strong>Qiita (nozomi2025)</strong></td><td>日本語</td><td>Flutter/Android実例付き、初心者向け、構造図が丁寧</td><td><a class=link href=https://qiita.com/nozomi2025/items/4a68d12a1fc539b1a582 target=_blank rel=noopener>https://qiita.com/nozomi2025/items/4a68d12a1fc539b1a582</a></td></tr><tr><td><strong>Zenn (umibudou)</strong></td><td>日本語</td><td>初心者向け入門記事、TypeScript実装例</td><td><a class=link href=https://zenn.dev/umibudou/articles/93192b2d527ad9 target=_blank rel=noopener>https://zenn.dev/umibudou/articles/93192b2d527ad9</a></td></tr><tr><td><strong>TheWeeklyChallenge</strong></td><td>英語</td><td>Perl実装例(Moo/Object::Pad)、実用的</td><td><a class=link href=https://theweeklychallenge.org/blog/design-pattern-factory/ target=_blank rel=noopener>https://theweeklychallenge.org/blog/design-pattern-factory/</a></td></tr><tr><td><strong>IT専科</strong></td><td>日本語</td><td>Java実装、詳細な解説、企業研修向け</td><td><a class=link href=https://www.itsenka.com/contents/development/designpattern/factory_method.html target=_blank rel=noopener>https://www.itsenka.com/contents/development/designpattern/factory_method.html</a></td></tr></tbody></table></div><hr><h3 id=72-競合記事の強み弱み>7.2 競合記事の強み・弱み</h3><h4 id=refactoring-guruの強み>Refactoring Guruの強み</h4><ul><li><strong>視覚化</strong>: UML図、シーケンス図が豊富で理解しやすい</li><li><strong>多言語対応</strong>: Java, Python, TypeScript, C++, PHPなど多数の実装例</li><li><strong>実践的</strong>: メリット・デメリット、使用場面が明確</li></ul><h4 id=geeksforgeeksの強み>GeeksforGeeksの強み</h4><ul><li><strong>網羅性</strong>: 定義から実装、応用例まで一貫して解説</li><li><strong>インタビュー対策</strong>: 就職面接で聞かれるポイントをカバー</li><li><strong>Java中心</strong>: Javaエコシステムでの適用例が充実</li></ul><h4 id=日本語記事qiitazennの強み>日本語記事(Qiita/Zenn)の強み</h4><ul><li><strong>日本語での丁寧な説明</strong>: 初学者にも分かりやすい</li><li><strong>具体的な実装例</strong>: Flutter、Android、TypeScriptなど実践的</li><li><strong>コミュニティ評価</strong>: いいね数やコメントで品質が分かる</li></ul><h4 id=theweeklychallengeの強みperl>TheWeeklyChallengeの強み(Perl)</h4><ul><li><strong>Perl実装</strong>: MooやObject::Padを使った実装例</li><li><strong>モダンPerl</strong>: Perl 5.38の<code>class</code>構文の紹介</li><li><strong>実用性</strong>: 実際に動作するコード例</li></ul><hr><h3 id=73-既存記事の問題点と本調査の差別化ポイント>7.3 既存記事の問題点と本調査の差別化ポイント</h3><h4 id=既存記事の問題点>既存記事の問題点</h4><ol><li><strong>Perl実装例の不足</strong>: ほとんどの記事がJava/C++/TypeScriptに偏っており、Perl実装は少ない</li><li><strong>抽象的な例が多い</strong>: 「Document」「Shape」などの教科書的な例が中心で、実務での適用イメージが湧きにくい</li><li><strong>メリット偏重</strong>: デメリットや適用すべきでない場面の言及が不足</li><li><strong>パターン間の比較不足</strong>: Simple Factory、Factory Method、Abstract Factoryの違いが明確でない</li></ol><h4 id=本調査ドキュメントの差別化ポイント>本調査ドキュメントの差別化ポイント</h4><ol><li><strong>Perl実装の充実</strong>: Mooを使った実装例、Perl 5.38のclass構文、実際のプロジェクトコード(JSON-RPC)</li><li><strong>実用的な例</strong>: JSON-RPC Request生成、通知システム、ドキュメント生成など</li><li><strong>バランスの取れた評価</strong>: メリットとデメリットを同等に詳述し、適用すべきでない場面も明記</li><li><strong>日本語での包括的まとめ</strong>: 定義、構造、実装、利点、欠点、競合比較を一貫して日本語で提供</li><li><strong>内部リンク戦略</strong>: 既存のデザインパターン記事(Strategy、Singleton、Observerなど)との連携</li></ol><hr><h2 id=8-内部リンク候補の調査>8. 内部リンク候補の調査</h2><h3 id=81-関連記事デザインパターンオブジェクト指向>8.1 関連記事(デザインパターン・オブジェクト指向)</h3><p>以下は、<code>/content/post</code>配下に存在する関連記事の一覧です。</p><div class=table-wrapper><table><thead><tr><th>カテゴリ</th><th>ファイルパス</th><th>タイトル(推定)</th><th>内部リンク</th><th>関連度</th></tr></thead><tbody><tr><td><strong>デザインパターン概要</strong></td><td><code>/content/warehouse/design-patterns-overview.md</code></td><td>デザインパターン概要</td><td>-</td><td>高(Factory Methodを含む23パターンの概要)</td></tr><tr><td><strong>デザインパターン調査</strong></td><td><code>/content/warehouse/design-patterns-research.md</code></td><td>デザインパターン調査ドキュメント</td><td>-</td><td>高(各パターンの詳細調査)</td></tr><tr><td><strong>Strategyパターン</strong></td><td><code>/content/post/2025/12/30/164012.md</code></td><td>第12回-デザインパターンの世界へ(Mooディスパッチャーシリーズ)</td><td><code>/2025/12/30/164012/</code></td><td>高(生成パターンと振る舞いパターンの違い)</td></tr><tr><td><strong>Factory適用例</strong></td><td><code>/content/post/2025/12/30/164009.md</code></td><td>第9回-自動で選ぶ仕組みを作ろう(Factoryパターン)</td><td><code>/2025/12/30/164009/</code></td><td>極高(Factoryパターンの実装例)</td></tr><tr><td><strong>Factory+値オブジェクト</strong></td><td><code>/content/post/2025/12/25/234500.md</code></td><td>JSON-RPC Request/Response実装 - 複合値オブジェクト設計</td><td><code>/2025/12/25/234500/</code></td><td>高(from_hashファクトリーメソッド)</td></tr><tr><td><strong>Moo OOP基礎</strong></td><td><code>/content/post/2021/10/31/191008.md</code></td><td>第1回-Mooで覚えるオブジェクト指向プログラミング</td><td><code>/2021/10/31/191008/</code></td><td>中(OOPの基礎、継承、ロール)</td></tr><tr><td><strong>Moose::Role</strong></td><td><code>/content/post/2009/02/14/105950.md</code></td><td>Moose::Roleが興味深い</td><td><code>/2009/02/14/105950/</code></td><td>中(ロールパターン)</td></tr><tr><td><strong>Moo発表資料</strong></td><td><code>/content/post/2016/02/21/150920.md</code></td><td>よなべPerl で Moo について喋ってきました</td><td><code>/2016/02/21/150920/</code></td><td>低(Mooの紹介)</td></tr></tbody></table></div><hr><h3 id=82-内部リンク戦略>8.2 内部リンク戦略</h3><p>Factory Methodパターンの記事を執筆する際、以下の内部リンクを活用すべきです:</p><h4 id=必須リンク導入部概要>必須リンク(導入部・概要)</h4><ul><li>デザインパターン概要(23パターンの分類)</li><li>Strategyパターン(振る舞いパターンとの対比)</li></ul><h4 id=実装例セクション>実装例セクション</h4><ul><li>JSON-RPC Request/Response実装(from_hashファクトリーメソッドの実例)</li><li>第9回-自動で選ぶ仕組みを作ろう(Factoryパターンの実装例)</li></ul><h4 id=基礎知識セクション>基礎知識セクション</h4><ul><li>Mooで覚えるオブジェクト指向プログラミング(OOPの基礎)</li><li>Moose::Roleが興味深い(ロールパターンの理解)</li></ul><hr><h2 id=9-技術的正確性担保のための情報源リスト>9. 技術的正確性担保のための情報源リスト</h2><h3 id=91-公式書籍必読>9.1 公式書籍(必読)</h3><div class=table-wrapper><table><thead><tr><th>書籍名</th><th>著者</th><th>ISBN</th><th>備考</th></tr></thead><tbody><tr><td><strong>Design Patterns: Elements of Reusable Object-Oriented Software</strong></td><td>Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides</td><td>978-0201633610</td><td>GoF原典、Factory Methodの定義元</td></tr><tr><td><strong>Head First Design Patterns (2nd Edition)</strong></td><td>Eric Freeman, Elisabeth Robson</td><td>978-1492078005</td><td>視覚的で理解しやすい、初心者向け</td></tr><tr><td><strong>Dive Into Design Patterns</strong></td><td>Alexander Shvets</td><td>-</td><td>Refactoring Guru著者、多言語対応</td></tr></tbody></table></div><hr><h3 id=92-信頼性の高いwebリソース英語>9.2 信頼性の高いWebリソース(英語)</h3><div class=table-wrapper><table><thead><tr><th>リソース名</th><th>URL</th><th>特徴</th></tr></thead><tbody><tr><td><strong>Refactoring Guru</strong></td><td><a class=link href=https://refactoring.guru/design-patterns/factory-method target=_blank rel=noopener>https://refactoring.guru/design-patterns/factory-method</a></td><td>視覚的、多言語コード例、UML図</td></tr><tr><td><strong>GeeksforGeeks</strong></td><td><a class=link href=https://www.geeksforgeeks.org/system-design/factory-method-for-designing-pattern/ target=_blank rel=noopener>https://www.geeksforgeeks.org/system-design/factory-method-for-designing-pattern/</a></td><td>網羅的、Java実装、インタビュー対策</td></tr><tr><td><strong>Wikipedia</strong></td><td><a class=link href=https://en.wikipedia.org/wiki/Factory_method_pattern target=_blank rel=noopener>https://en.wikipedia.org/wiki/Factory_method_pattern</a></td><td>中立的な定義、歴史的背景</td></tr><tr><td><strong>Software Patterns Lexicon</strong></td><td><a class=link href=https://softwarepatternslexicon.com/mastering-design-patterns/creational-design-patterns/factory-method-pattern/ target=_blank rel=noopener>https://softwarepatternslexicon.com/mastering-design-patterns/creational-design-patterns/factory-method-pattern/</a></td><td>詳細な構造解説</td></tr><tr><td><strong>Baeldung</strong></td><td><a class=link href=https://www.baeldung.com/cs/factory-method-vs-factory-vs-abstract-factory target=_blank rel=noopener>https://www.baeldung.com/cs/factory-method-vs-factory-vs-abstract-factory</a></td><td>Factory系パターンの比較</td></tr><tr><td><strong>Stack Overflow</strong></td><td><a class=link href=https://stackoverflow.com/questions/5739611/what-are-the-differences-between-abstract-factory-and-factory-design-patterns target=_blank rel=noopener>https://stackoverflow.com/questions/5739611/what-are-the-differences-between-abstract-factory-and-factory-design-patterns</a></td><td>コミュニティの実践的知見</td></tr></tbody></table></div><hr><h3 id=93-日本語リソース>9.3 日本語リソース</h3><div class=table-wrapper><table><thead><tr><th>リソース名</th><th>URL</th><th>特徴</th></tr></thead><tbody><tr><td><strong>Qiita (nozomi2025)</strong></td><td><a class=link href=https://qiita.com/nozomi2025/items/4a68d12a1fc539b1a582 target=_blank rel=noopener>https://qiita.com/nozomi2025/items/4a68d12a1fc539b1a582</a></td><td>Flutter/Android実装例、初心者向け</td></tr><tr><td><strong>Zenn (umibudou)</strong></td><td><a class=link href=https://zenn.dev/umibudou/articles/93192b2d527ad9 target=_blank rel=noopener>https://zenn.dev/umibudou/articles/93192b2d527ad9</a></td><td>TypeScript実装、入門記事</td></tr><tr><td><strong>IT専科</strong></td><td><a class=link href=https://www.itsenka.com/contents/development/designpattern/factory_method.html target=_blank rel=noopener>https://www.itsenka.com/contents/development/designpattern/factory_method.html</a></td><td>詳細な日本語解説、企業研修向け</td></tr><tr><td><strong>trendsメディア</strong></td><td><a class=link href=https://trends.codecamp.jp/blogs/media/terminology518 target=_blank rel=noopener>https://trends.codecamp.jp/blogs/media/terminology518</a></td><td>初心者向け用語解説</td></tr><tr><td><strong>Refactoring Guru(日本語版)</strong></td><td><a class=link href=https://refactoring.guru/ja/design-patterns/factory-method target=_blank rel=noopener>https://refactoring.guru/ja/design-patterns/factory-method</a></td><td>日本語化された視覚的解説</td></tr></tbody></table></div><hr><h3 id=94-perl実装関連リソース>9.4 Perl実装関連リソース</h3><div class=table-wrapper><table><thead><tr><th>リソース名</th><th>URL</th><th>特徴</th></tr></thead><tbody><tr><td><strong>TheWeeklyChallenge</strong></td><td><a class=link href=https://theweeklychallenge.org/blog/design-pattern-factory/ target=_blank rel=noopener>https://theweeklychallenge.org/blog/design-pattern-factory/</a></td><td>Moo/Object::Pad実装例、Perl 5.38 class構文</td></tr><tr><td><strong>Perldoc: perlclass</strong></td><td><a class=link href=https://perldoc.perl.org/perlclass target=_blank rel=noopener>https://perldoc.perl.org/perlclass</a></td><td>Perl 5.38公式ドキュメント</td></tr><tr><td><strong>Moo公式ドキュメント</strong></td><td><a class=link href=https://metacpan.org/pod/Moo target=_blank rel=noopener>https://metacpan.org/pod/Moo</a></td><td>Mooの公式マニュアル</td></tr><tr><td><strong>Moose公式ドキュメント</strong></td><td><a class=link href=https://metacpan.org/pod/Moose target=_blank rel=noopener>https://metacpan.org/pod/Moose</a></td><td>Mooseの公式マニュアル</td></tr></tbody></table></div><hr><h3 id=95-github実装例参考コード>9.5 GitHub実装例(参考コード)</h3><div class=table-wrapper><table><thead><tr><th>リポジトリ</th><th>言語</th><th>URL</th><th>特徴</th></tr></thead><tbody><tr><td><strong>iluwatar/java-design-patterns</strong></td><td>Java</td><td><a class=link href=https://github.com/iluwatar/java-design-patterns target=_blank rel=noopener>https://github.com/iluwatar/java-design-patterns</a></td><td>90k+ stars、Factory Method含む全パターン</td></tr><tr><td><strong>faif/python-patterns</strong></td><td>Python</td><td><a class=link href=https://github.com/faif/python-patterns target=_blank rel=noopener>https://github.com/faif/python-patterns</a></td><td>40k+ stars、Pythonでの実装</td></tr><tr><td><strong>torokmark/design_patterns_in_typescript</strong></td><td>TypeScript</td><td><a class=link href=https://github.com/torokmark/design_patterns_in_typescript target=_blank rel=noopener>https://github.com/torokmark/design_patterns_in_typescript</a></td><td>TypeScript実装</td></tr><tr><td><strong>RefactoringGuru/design-patterns-typescript</strong></td><td>TypeScript</td><td><a class=link href=https://github.com/RefactoringGuru/design-patterns-typescript target=_blank rel=noopener>https://github.com/RefactoringGuru/design-patterns-typescript</a></td><td>Refactoring Guru公式サンプル</td></tr></tbody></table></div><hr><h2 id=10-調査結果のサマリー>10. 調査結果のサマリー</h2><h3 id=101-主要な発見>10.1 主要な発見</h3><ol><li><strong>Factory Methodは生成パターンの基礎</strong>: Singleton、Abstract Factoryと並ぶGoFの代表的な生成パターン</li><li><strong>拡張性とトレードオフ</strong>: クラス数増加というコストと引き換えに、高い拡張性を実現</li><li><strong>Perlでの実装</strong>: MooのロールやPerl 5.38のclass構文で柔軟に実装可能</li><li><strong>実務での頻出</strong>: フレームワーク設計、プラグイン機構、データアクセス層などで広く使用</li><li><strong>パターン間の違いの重要性</strong>: Simple Factory、Factory Method、Abstract Factoryは目的と構造が異なる</li></ol><hr><h3 id=102-技術記事執筆時の推奨構成>10.2 技術記事執筆時の推奨構成</h3><p>Factory Methodパターンの記事を執筆する際、以下の構成を推奨します:</p><ol><li><strong>導入</strong>: デザインパターンの位置づけ(GoF生成パターン)</li><li><strong>問題提起</strong>: なぜFactory Methodが必要なのか(具体例を用いて)</li><li><strong>パターンの定義</strong>: 4つの要素(Product, ConcreteProduct, Creator, ConcreteCreator)</li><li><strong>実装例</strong>: Perlでの具体的なコード(Moo、Perl 5.38)</li><li><strong>メリット・デメリット</strong>: バランスの取れた評価</li><li><strong>使い分け</strong>: Simple Factory、Abstract Factoryとの違い</li><li><strong>実践例</strong>: 実際のプロジェクト(JSON-RPC)での適用</li><li><strong>まとめ</strong>: いつ使うべきか、いつ使うべきでないか</li></ol><hr><h3 id=103-今後の調査が必要な領域>10.3 今後の調査が必要な領域</h3><ul><li><strong>パターンの組み合わせ</strong>: Factory Method + Singleton、Factory Method + Template Method</li><li><strong>アンチパターン</strong>: Factory Methodの誤用例と対策</li><li><strong>パフォーマンス</strong>: オブジェクト生成コストの測定</li><li><strong>関数型プログラミングとの関係</strong>: 関数型言語でのFactory Methodの扱い</li></ul><hr><h2 id=11-参考文献参考サイト統合版>11. 参考文献・参考サイト(統合版)</h2><h3 id=111-gof原典定番書籍>11.1 GoF原典・定番書籍</h3><div class=table-wrapper><table><thead><tr><th>書籍名</th><th>著者</th><th>ISBN/ASIN</th><th>備考</th></tr></thead><tbody><tr><td><strong>Design Patterns: Elements of Reusable Object-Oriented Software</strong></td><td>Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides</td><td>ISBN: 978-0201633610</td><td>GoF原典、Factory Methodの定義元</td></tr><tr><td><strong>Head First Design Patterns (2nd Edition)</strong></td><td>Eric Freeman, Elisabeth Robson</td><td>ISBN: 978-1492078005</td><td>初心者向け、視覚的解説</td></tr><tr><td><strong>Dive Into Design Patterns</strong></td><td>Alexander Shvets</td><td>-</td><td>Refactoring Guru著者、多言語対応</td></tr></tbody></table></div><h3 id=112-web情報源英語>11.2 Web情報源(英語)</h3><div class=table-wrapper><table><thead><tr><th>URL</th><th>特徴</th><th>信頼度</th></tr></thead><tbody><tr><td><a class=link href=https://refactoring.guru/design-patterns/factory-method target=_blank rel=noopener>https://refactoring.guru/design-patterns/factory-method</a></td><td>視覚的、UML図、多言語コード例</td><td>高</td></tr><tr><td><a class=link href=https://www.geeksforgeeks.org/system-design/factory-method-for-designing-pattern/ target=_blank rel=noopener>https://www.geeksforgeeks.org/system-design/factory-method-for-designing-pattern/</a></td><td>網羅的、Java実装、インタビュー対策</td><td>高</td></tr><tr><td><a class=link href=https://en.wikipedia.org/wiki/Factory_method_pattern target=_blank rel=noopener>https://en.wikipedia.org/wiki/Factory_method_pattern</a></td><td>中立的定義、歴史的背景</td><td>高</td></tr><tr><td><a class=link href=https://www.baeldung.com/cs/factory-method-vs-factory-vs-abstract-factory target=_blank rel=noopener>https://www.baeldung.com/cs/factory-method-vs-factory-vs-abstract-factory</a></td><td>Factory系パターン比較</td><td>高</td></tr><tr><td><a class=link href=https://stackoverflow.com/questions/5739611/what-are-the-differences-between-abstract-factory-and-factory-design-patterns target=_blank rel=noopener>https://stackoverflow.com/questions/5739611/what-are-the-differences-between-abstract-factory-and-factory-design-patterns</a></td><td>コミュニティの実践知見</td><td>中〜高</td></tr><tr><td><a class=link href=https://theweeklychallenge.org/blog/design-pattern-factory/ target=_blank rel=noopener>https://theweeklychallenge.org/blog/design-pattern-factory/</a></td><td>Perl実装例(Moo、Object::Pad)</td><td>高</td></tr></tbody></table></div><h3 id=113-web情報源日本語>11.3 Web情報源(日本語)</h3><div class=table-wrapper><table><thead><tr><th>URL</th><th>特徴</th><th>信頼度</th></tr></thead><tbody><tr><td><a class=link href=https://qiita.com/nozomi2025/items/4a68d12a1fc539b1a582 target=_blank rel=noopener>https://qiita.com/nozomi2025/items/4a68d12a1fc539b1a582</a></td><td>Flutter/Android実装例、初心者向け</td><td>高</td></tr><tr><td><a class=link href=https://zenn.dev/umibudou/articles/93192b2d527ad9 target=_blank rel=noopener>https://zenn.dev/umibudou/articles/93192b2d527ad9</a></td><td>TypeScript実装、入門記事</td><td>高</td></tr><tr><td><a class=link href=https://www.itsenka.com/contents/development/designpattern/factory_method.html target=_blank rel=noopener>https://www.itsenka.com/contents/development/designpattern/factory_method.html</a></td><td>詳細な日本語解説、企業研修向け</td><td>高</td></tr><tr><td><a class=link href=https://refactoring.guru/ja/design-patterns/factory-method target=_blank rel=noopener>https://refactoring.guru/ja/design-patterns/factory-method</a></td><td>日本語化された視覚的解説</td><td>高</td></tr></tbody></table></div><h3 id=114-perl関連リソース>11.4 Perl関連リソース</h3><div class=table-wrapper><table><thead><tr><th>URL</th><th>特徴</th><th>信頼度</th></tr></thead><tbody><tr><td><a class=link href=https://theweeklychallenge.org/blog/design-pattern-factory/ target=_blank rel=noopener>https://theweeklychallenge.org/blog/design-pattern-factory/</a></td><td>Moo/Object::Pad実装例</td><td>高</td></tr><tr><td><a class=link href=https://perldoc.perl.org/perlclass target=_blank rel=noopener>https://perldoc.perl.org/perlclass</a></td><td>Perl 5.38公式ドキュメント</td><td>高</td></tr><tr><td><a class=link href=https://metacpan.org/pod/Moo target=_blank rel=noopener>https://metacpan.org/pod/Moo</a></td><td>Moo公式マニュアル</td><td>高</td></tr><tr><td><a class=link href=https://metacpan.org/pod/Moose target=_blank rel=noopener>https://metacpan.org/pod/Moose</a></td><td>Moose公式マニュアル</td><td>高</td></tr></tbody></table></div><h3 id=115-github実装例>11.5 GitHub実装例</h3><div class=table-wrapper><table><thead><tr><th>リポジトリ</th><th>言語</th><th>URL</th><th>スター数</th></tr></thead><tbody><tr><td>iluwatar/java-design-patterns</td><td>Java</td><td><a class=link href=https://github.com/iluwatar/java-design-patterns target=_blank rel=noopener>https://github.com/iluwatar/java-design-patterns</a></td><td>90k+</td></tr><tr><td>faif/python-patterns</td><td>Python</td><td><a class=link href=https://github.com/faif/python-patterns target=_blank rel=noopener>https://github.com/faif/python-patterns</a></td><td>40k+</td></tr><tr><td>torokmark/design_patterns_in_typescript</td><td>TypeScript</td><td><a class=link href=https://github.com/torokmark/design_patterns_in_typescript target=_blank rel=noopener>https://github.com/torokmark/design_patterns_in_typescript</a></td><td>5k+</td></tr></tbody></table></div><hr><p><strong>調査完了日</strong>: 2025年12月31日<br><strong>調査者</strong>: 調査・情報収集専門エージェント<br><strong>信頼度総合評価</strong>: 高(GoF原典、公式ドキュメント、著名技術サイトを複数参照)</p></section><footer class=article-footer><section class=article-tags><a href=/tags/design-patterns/>Design-Patterns</a>
<a href=/tags/factory-method/>Factory-Method</a>
<a href=/tags/gof/>Gof</a>
<a href=/tags/creational-patterns/>Creational-Patterns</a>
<a href=/tags/perl/>Perl</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>関連するコンテンツ</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/warehouse/strategy-pattern-research/><div class=article-image><img src=/favicon.png loading=lazy data-key data-hash=/favicon.png></div><div class=article-details><h2 class=article-title>Strategyパターン（振る舞いパターン）調査ドキュメント</h2></div></a></article><article class=has-image><a href=/2026/01/04/011451/><div class=article-image><img src=/public_images/2026/todo-cli-series-image.jpg loading=lazy data-key data-hash=/public_images/2026/todo-cli-series-image.jpg></div><div class=article-details><h2 class=article-title>完成したTodo CLIを振り返る - シンプルなTodo CLIアプリ 第9回</h2></div></a></article><article class=has-image><a href=/2026/01/04/011449/><div class=article-image><img src=/public_images/2026/todo-cli-series-image.jpg loading=lazy data-key data-hash=/public_images/2026/todo-cli-series-image.jpg></div><div class=article-details><h2 class=article-title>コマンドを増やす｜完了機能を追加 - シンプルなTodo CLIアプリ 第7回</h2></div></a></article><article class=has-image><a href=/2026/01/04/011448/><div class=article-image><img src=/public_images/2026/todo-cli-series-image.jpg loading=lazy data-key data-hash=/public_images/2026/todo-cli-series-image.jpg></div><div class=article-details><h2 class=article-title>if文地獄から脱出｜Commandパターン導入 - シンプルなTodo CLIアプリ 第6回</h2></div></a></article><article class=has-image><a href=/2026/01/04/011446/><div class=article-image><img src=/public_images/2026/todo-cli-series-image.jpg loading=lazy data-key data-hash=/public_images/2026/todo-cli-series-image.jpg></div><div class=article-details><h2 class=article-title>保存処理を分離する｜Repository導入 - シンプルなTodo CLIアプリ 第4回</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//nqounet.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2000 -
2026 nqou.net</section><section class=powerby><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> で構築されています。<br>テーマ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> は <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> によって設計されています。</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>