<!doctype html><html lang=ja dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Mojo::Log ã¨ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºç¤ã€Observer ãƒ‘ã‚¿ãƒ¼ãƒ³ã€å®Ÿç”¨ä¾‹ã‚’ã¾ã¨ã‚ãŸèª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆã€‚"><title>Mojo::Log ã§å­¦ã¶ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å…¥é–€ â€” èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆ</title><link rel=canonical href=https://www.nqou.net/warehouse/mojo-log-event-driven/><link rel=stylesheet href=/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css><meta property='og:title' content="Mojo::Log ã§å­¦ã¶ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å…¥é–€ â€” èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆ"><meta property='og:description' content="Mojo::Log ã¨ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºç¤ã€Observer ãƒ‘ã‚¿ãƒ¼ãƒ³ã€å®Ÿç”¨ä¾‹ã‚’ã¾ã¨ã‚ãŸèª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆã€‚"><meta property='og:url' content='https://www.nqou.net/warehouse/mojo-log-event-driven/'><meta property='og:site_name' content='nqou.net'><meta property='og:type' content='article'><meta property='article:section' content='Warehouse'><meta property='article:tag' content='mojo-log'><meta property='article:tag' content='event-driven'><meta property='article:tag' content='perl'><meta property='article:published_time' content='2025-12-30T18:28:46+09:00'><meta property='article:modified_time' content='2025-12-30T18:28:46+09:00'><meta property='og:image' content='https://www.nqou.net/favicon.png'><meta name=twitter:title content="Mojo::Log ã§å­¦ã¶ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å…¥é–€ â€” èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆ"><meta name=twitter:description content="Mojo::Log ã¨ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºç¤ã€Observer ãƒ‘ã‚¿ãƒ¼ãƒ³ã€å®Ÿç”¨ä¾‹ã‚’ã¾ã¨ã‚ãŸèª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆã€‚"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://www.nqou.net/favicon.png'><link rel="shortcut icon" href=/favicon.png><style>@import 'https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap';:root{--base-font-family:Arial, "Noto Sans JP", sans-serif}</style><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3923446804785015" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js defer></script><script defer>document.addEventListener("DOMContentLoaded",function(){try{typeof mermaid!="undefined"&&document.querySelector(".mermaid")&&mermaid.initialize({startOnLoad:!0,securityLevel:"strict"})}catch(e){console.warn("Mermaid failed to initialize:",e)}})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-E50H9ESN7E"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-E50H9ESN7E")</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ããƒ»é–‰ã˜ã‚‹>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/public_images/nqounet201703.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥ƒ</span></figure><div class=site-meta><h1 class=site-name><a href=/>nqou.net</a></h1><h2 class=site-description>Whisky, Perl, Kansai.pm</h2></div></header><ol class=menu-social><li><a href=https://github.com/nqounet target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://x.com/nqounet target=_blank title=X rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/advent-calendar-2025/><svg class="icon icon-tabler icon-tabler-calendar" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="5" width="16" height="16" rx="2"/><line x1="16" y1="3" x2="16" y2="7"/><line x1="8" y1="3" x2="8" y2="7"/><line x1="4" y1="11" x2="20" y2="11"/><path d="M8 15h.01"/><path d="M12 15h.01"/><path d="M16 15h.01"/><path d="M8 19h.01"/><path d="M12 19h.01"/><path d="M16 19h.01"/></svg>
<span>Perl Advent Calendar 2025 - AI Edition</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/warehouse/><svg class="icon icon-tabler icon-tabler-warehouse" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10l9-6 9 6"/><rect x="5" y="10" width="14" height="10" rx="2"/><rect x="10" y="14" width="4" height="6" rx="1"/><path d="M7 20v-4h2v4"/><path d="M15 20v-4h2v4"/></svg>
<span>Warehouse</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®æ¬¡</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#èª¿æŸ»ç›®çš„>èª¿æŸ»ç›®çš„</a><ol><li><a href=#å¯¾è±¡èª­è€…>å¯¾è±¡èª­è€…</a></li><li><a href=#ç›®æ¨™>ç›®æ¨™</a></li></ol></li><li><a href=#å®Ÿæ–½æ—¥>å®Ÿæ–½æ—¥</a></li><li><a href=#å‚ç…§å…ƒ-url>å‚ç…§å…ƒ (URL)</a><ol><li><a href=#å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ>å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li><li><a href=#å‚è€ƒè¨˜äº‹>å‚è€ƒè¨˜äº‹</a></li></ol></li><li><a href=#ç™ºè¦‹çµè«–>ç™ºè¦‹ãƒ»çµè«–</a><ol><li><a href=#1-mojolog-ã®åŸºæœ¬æƒ…å ±>1. Mojo::Log ã®åŸºæœ¬æƒ…å ±</a><ol><li><a href=#mojolog-ã¨ã¯ä½•ã‹>Mojo::Log ã¨ã¯ä½•ã‹</a></li><li><a href=#å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆurl>å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆURL</a></li><li><a href=#ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±>ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±</a></li><li><a href=#ä¸»è¦ãªapiã¨æ©Ÿèƒ½>ä¸»è¦ãªAPIã¨æ©Ÿèƒ½</a></li></ol></li><li><a href=#2-mojolog-ã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•æ©Ÿèƒ½>2. Mojo::Log ã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•æ©Ÿèƒ½</a><ol><li><a href=#mojolog-ãŒç™ºç«ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ>Mojo::Log ãŒç™ºç«ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ</a></li><li><a href=#on-ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚‹ã‚¤ãƒ™ãƒ³ãƒˆè³¼èª­><code>on</code> ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚‹ã‚¤ãƒ™ãƒ³ãƒˆè³¼èª­</a></li><li><a href=#emit-ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚‹ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«><code>emit</code> ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚‹ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«</a></li><li><a href=#å®Ÿéš›ã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚³ãƒ¼ãƒ‰ä¾‹>å®Ÿéš›ã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚³ãƒ¼ãƒ‰ä¾‹</a></li></ol></li><li><a href=#3-ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºç¤æ¦‚å¿µ>3. ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºç¤æ¦‚å¿µ</a><ol><li><a href=#ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¨ã¯ä½•ã‹>ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¨ã¯ä½•ã‹</a></li><li><a href=#observerãƒ‘ã‚¿ãƒ¼ãƒ³pubsubãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã®é–¢ä¿‚>Observerãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆPub/Subãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰ã¨ã®é–¢ä¿‚</a></li><li><a href=#ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ã¨ã®é•ã„>ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ã¨ã®é•ã„</a></li></ol></li><li><a href=#4-mojoeventemitter-ã¨ã®é–¢ä¿‚>4. Mojo::EventEmitter ã¨ã®é–¢ä¿‚</a><ol><li><a href=#mojoeventemitter-ã®å½¹å‰²>Mojo::EventEmitter ã®å½¹å‰²</a></li><li><a href=#mojolog-ãŒç¶™æ‰¿ã—ã¦ã„ã‚‹æ©Ÿèƒ½>Mojo::Log ãŒç¶™æ‰¿ã—ã¦ã„ã‚‹æ©Ÿèƒ½</a></li><li><a href=#ä»–ã®mojoãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ä¾‹>ä»–ã®Mojo::*ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ä¾‹</a></li></ol></li><li><a href=#5-å®Ÿç”¨ä¾‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹>5. å®Ÿç”¨ä¾‹ãƒ»ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹</a><ol><li><a href=#ãƒ­ã‚°ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›´>ãƒ­ã‚°ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›´ï¼‰</a></li><li><a href=#è¤‡æ•°ã®ãƒ­ã‚°å‡ºåŠ›å…ˆã¸ã®åŒæ™‚é…ä¿¡>è¤‡æ•°ã®ãƒ­ã‚°å‡ºåŠ›å…ˆã¸ã®åŒæ™‚é…ä¿¡</a></li><li><a href=#ã‚¨ãƒ©ãƒ¼æ™‚ã®é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ >ã‚¨ãƒ©ãƒ¼æ™‚ã®é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ </a></li><li><a href=#ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã«ã‚ˆã‚‹å‡ºåŠ›å…ˆã®æŒ¯ã‚Šåˆ†ã‘>ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã«ã‚ˆã‚‹å‡ºåŠ›å…ˆã®æŒ¯ã‚Šåˆ†ã‘</a></li></ol></li><li><a href=#6-é–¢é€£è¨˜äº‹å†…éƒ¨ãƒªãƒ³ã‚¯èª¿æŸ»>6. é–¢é€£è¨˜äº‹ãƒ»å†…éƒ¨ãƒªãƒ³ã‚¯èª¿æŸ»</a><ol><li><a href=#ã“ã®ãƒªãƒã‚¸ãƒˆãƒªå†…ã®é–¢é€£è¨˜äº‹>ã“ã®ãƒªãƒã‚¸ãƒˆãƒªå†…ã®é–¢é€£è¨˜äº‹</a></li><li><a href=#å‚ç…§ã™ã¹ãå¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹>å‚ç…§ã™ã¹ãå¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹</a></li></ol></li></ol></li><li><a href=#æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</a></li><li><a href=#è¨˜äº‹ä½œæˆæ™‚ã®æ³¨æ„ç‚¹>è¨˜äº‹ä½œæˆæ™‚ã®æ³¨æ„ç‚¹</a><ol><li><a href=#å…¥é–€è€…å‘ã‘ã®ãƒã‚¤ãƒ³ãƒˆ>å…¥é–€è€…å‘ã‘ã®ãƒã‚¤ãƒ³ãƒˆ</a></li><li><a href=#æ¨å¥¨ã‚¿ã‚°>æ¨å¥¨ã‚¿ã‚°</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/warehouse/mojo-log-event-driven/><img src=/favicon.png loading=lazy alt="Featured image of post Mojo::Log ã§å­¦ã¶ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å…¥é–€ â€” èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆ"></a></div><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/warehouse/mojo-log-event-driven/>Mojo::Log ã§å­¦ã¶ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å…¥é–€ â€” èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆ</a></h2><h3 class=article-subtitle>Mojo::Log ã¨ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºç¤ã€Observer ãƒ‘ã‚¿ãƒ¼ãƒ³ã€å®Ÿç”¨ä¾‹ã‚’ã¾ã¨ã‚ãŸèª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆã€‚</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>12æœˆ 30, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>èª­äº†æ™‚é–“: 9åˆ†</time></div></footer></div></header><section class=article-content><h2 id=èª¿æŸ»ç›®çš„>èª¿æŸ»ç›®çš„</h2><p>ã€ŒMojo::Log ã§å­¦ã¶ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å…¥é–€ã€ã¨ã„ã†è¨˜äº‹ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®äº‹å‰èª¿æŸ»ã€‚</p><h3 id=å¯¾è±¡èª­è€…>å¯¾è±¡èª­è€…</h3><ul><li>åˆæ­©çš„ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®çŸ¥è­˜ã‚’èº«ã«ã¤ã‘ãŸå…¥é–€è€…</li><li>ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãŒé¢ç™½ãã†ã ã¨æ„Ÿã˜ã¦ã„ã‚‹ãŒã€è‡ªåˆ†ã§æ›¸ãã¨ãªã‚‹ã¨ãƒ”ãƒ³ã¨ã“ãªã„äºº</li></ul><h3 id=ç›®æ¨™>ç›®æ¨™</h3><ul><li>Perlã§ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºç¤çš„ãªçŸ¥è­˜ãŒå¾—ã‚‰ã‚Œã‚‹</li></ul><h2 id=å®Ÿæ–½æ—¥>å®Ÿæ–½æ—¥</h2><p>2025-12-29</p><h2 id=å‚ç…§å…ƒ-url>å‚ç…§å…ƒ (URL)</h2><h3 id=å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ>å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</h3><ul><li>Mojo::Log å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆè‹±èªï¼‰: <a class=link href=https://docs.mojolicious.org/Mojo/Log target=_blank rel=noopener>https://docs.mojolicious.org/Mojo/Log</a></li><li>Mojo::Log MetaCPAN: <a class=link href=https://metacpan.org/pod/Mojo::Log target=_blank rel=noopener>https://metacpan.org/pod/Mojo::Log</a></li><li>Mojo::Log å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆæ—¥æœ¬èªè¨³ï¼‰: <a class=link href=https://mojodoc.perlzemi.com/Mojo::Log.html target=_blank rel=noopener>https://mojodoc.perlzemi.com/Mojo::Log.html</a></li><li>Mojo::EventEmitter å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆè‹±èªï¼‰: <a class=link href=https://docs.mojolicious.org/Mojo/EventEmitter target=_blank rel=noopener>https://docs.mojolicious.org/Mojo/EventEmitter</a></li><li>Mojo::EventEmitter å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆæ—¥æœ¬èªè¨³ï¼‰: <a class=link href=https://mojodoc.perlzemi.com/Mojo::EventEmitter.html target=_blank rel=noopener>https://mojodoc.perlzemi.com/Mojo::EventEmitter.html</a></li><li>Mojolicious å…¬å¼ã‚µã‚¤ãƒˆ: <a class=link href=https://mojolicious.org/ target=_blank rel=noopener>https://mojolicious.org/</a></li><li>Mojolicious ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: <a class=link href=https://docs.mojolicious.org/ target=_blank rel=noopener>https://docs.mojolicious.org/</a></li></ul><h3 id=å‚è€ƒè¨˜äº‹>å‚è€ƒè¨˜äº‹</h3><ul><li>Perl+Mojoã§ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° (Qiita): <a class=link href=https://qiita.com/skaji/items/c226f894581881796ed1 target=_blank rel=noopener>https://qiita.com/skaji/items/c226f894581881796ed1</a></li><li>Pythonã§ã®ã‚¤ãƒ™ãƒ³ãƒˆObserverãƒ‘ã‚¿ãƒ¼ãƒ³ã¨PubSubã®å®Ÿè£… (Qiita): <a class=link href=https://qiita.com/Tadataka_Takahashi/items/475f6d160e94984156d2 target=_blank rel=noopener>https://qiita.com/Tadataka_Takahashi/items/475f6d160e94984156d2</a></li><li>The Observer vs Pub-Sub Pattern (Design Gurus): <a class=link href=https://www.designgurus.io/blog/observer-vs-pub-sub-pattern target=_blank rel=noopener>https://www.designgurus.io/blog/observer-vs-pub-sub-pattern</a></li><li>Observer pattern (Wikipedia): <a class=link href=https://en.wikipedia.org/wiki/Observer_pattern target=_blank rel=noopener>https://en.wikipedia.org/wiki/Observer_pattern</a></li><li>ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° (Wikipedia): <a class=link href=https://ja.wikipedia.org/wiki/%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E9%A7%86%E5%8B%95%E5%9E%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0 target=_blank rel=noopener>https://ja.wikipedia.org/wiki/%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E9%A7%86%E5%8B%95%E5%9E%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0</a></li><li>ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ— (Wikipedia): <a class=link href=https://ja.wikipedia.org/wiki/%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%83%AB%E3%83%BC%E3%83%97 target=_blank rel=noopener>https://ja.wikipedia.org/wiki/%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%83%AB%E3%83%BC%E3%83%97</a></li><li>Stack Overflow: Mojo::Log how to log to file and to stderr?: <a class=link href=https://stackoverflow.com/questions/75815292/mojolog-how-to-log-to-file-and-to-stderr target=_blank rel=noopener>https://stackoverflow.com/questions/75815292/mojolog-how-to-log-to-file-and-to-stderr</a></li></ul><hr><h2 id=ç™ºè¦‹çµè«–>ç™ºè¦‹ãƒ»çµè«–</h2><h3 id=1-mojolog-ã®åŸºæœ¬æƒ…å ±>1. Mojo::Log ã®åŸºæœ¬æƒ…å ±</h3><h4 id=mojolog-ã¨ã¯ä½•ã‹>Mojo::Log ã¨ã¯ä½•ã‹</h4><ul><li>Mojoliciousãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ä½¿ã‚ã‚Œã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ­ã‚¬ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</li><li><code>Mojo::EventEmitter</code> ã‚’ç¶™æ‰¿ã—ã¦ãŠã‚Šã€ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•æ©Ÿèƒ½ã‚’æŒã¤</li><li>è»½é‡ã§æ‹¡å¼µæ€§ãŒé«˜ãã€å…¥é–€è€…ã«ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚’å­¦ã¶ã®ã«æœ€é©ãªæ•™æ</li></ul><h4 id=å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆurl>å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆURL</h4><ul><li>è‹±èªç‰ˆ: <a class=link href=https://docs.mojolicious.org/Mojo/Log target=_blank rel=noopener>https://docs.mojolicious.org/Mojo/Log</a></li><li>æ—¥æœ¬èªè¨³: <a class=link href=https://mojodoc.perlzemi.com/Mojo::Log.html target=_blank rel=noopener>https://mojodoc.perlzemi.com/Mojo::Log.html</a></li><li>MetaCPAN: <a class=link href=https://metacpan.org/pod/Mojo::Log target=_blank rel=noopener>https://metacpan.org/pod/Mojo::Log</a></li></ul><h4 id=ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±>ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±</h4><ul><li>Mojo::Log ã¯ Mojolicious ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã«å«ã¾ã‚Œã‚‹</li><li>ç¾åœ¨ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³: Mojolicious 9.42 ä»¥é™ï¼ˆ2025å¹´12æœˆæ™‚ç‚¹ï¼‰</li><li>Mojolicious ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã«åˆã‚ã›ã¦æ›´æ–°ã•ã‚Œã‚‹</li></ul><h4 id=ä¸»è¦ãªapiã¨æ©Ÿèƒ½>ä¸»è¦ãªAPIã¨æ©Ÿèƒ½</h4><p><strong>ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>my</span> <span class=nv>$log</span> <span class=o>=</span> <span class=nn>Mojo::Log</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$log</span> <span class=o>=</span> <span class=nn>Mojo::Log</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>(</span><span class=n>path</span> <span class=o>=&gt;</span> <span class=s>&#39;/var/log/mojo.log&#39;</span><span class=p>,</span> <span class=n>level</span> <span class=o>=&gt;</span> <span class=s>&#39;warn&#39;</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>ãƒ­ã‚°å‡ºåŠ›ãƒ¡ã‚½ãƒƒãƒ‰:</strong></p><ul><li><code>$log->trace('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸')</code> - æœ€ã‚‚è©³ç´°ãªãƒ­ã‚°</li><li><code>$log->debug('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸')</code> - ãƒ‡ãƒãƒƒã‚°æƒ…å ±</li><li><code>$log->info('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸')</code> - ä¸€èˆ¬æƒ…å ±</li><li><code>$log->warn('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸')</code> - è­¦å‘Š</li><li><code>$log->error('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸')</code> - ã‚¨ãƒ©ãƒ¼</li><li><code>$log->fatal('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸')</code> - è‡´å‘½çš„ã‚¨ãƒ©ãƒ¼</li></ul><p><strong>ä¸»è¦ãªå±æ€§:</strong></p><ul><li><code>color</code> - ãƒ­ã‚°å‡ºåŠ›ã®è‰²ä»˜ã‘</li><li><code>format</code> - ãƒ­ã‚°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯</li><li><code>handle</code> - å‡ºåŠ›å…ˆãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ³ãƒ‰ãƒ«</li><li><code>level</code> - ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«</li><li><code>path</code> - ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹</li><li><code>history</code> / <code>max_history_size</code> - ãƒ­ã‚°å±¥æ­´ä¿æŒ</li></ul><hr><h3 id=2-mojolog-ã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•æ©Ÿèƒ½>2. Mojo::Log ã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•æ©Ÿèƒ½</h3><h4 id=mojolog-ãŒç™ºç«ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ>Mojo::Log ãŒç™ºç«ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ</h4><p>Mojo::Log ã¯ <code>message</code> ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«ã™ã‚‹:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=c1># ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºåŠ›ã•ã‚Œã‚‹ãŸã³ã« message ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«</span>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>on</span><span class=p>(</span><span class=n>message</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$log</span><span class=p>,</span> <span class=nv>$level</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>say</span> <span class=s>&#34;$level: &#34;</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=on-ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚‹ã‚¤ãƒ™ãƒ³ãƒˆè³¼èª­><code>on</code> ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚‹ã‚¤ãƒ™ãƒ³ãƒˆè³¼èª­</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>Mojo::Log</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$log</span> <span class=o>=</span> <span class=nn>Mojo::Log</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ã‚¤ãƒ™ãƒ³ãƒˆã‚’è³¼èª­</span>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>on</span><span class=p>(</span><span class=n>message</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$log</span><span class=p>,</span> <span class=nv>$level</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1># $log - Mojo::Log ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</span>
</span></span><span class=line><span class=cl>    <span class=c1># $level - ãƒ­ã‚°ãƒ¬ãƒ™ãƒ« (trace, debug, info, warn, error, fatal)</span>
</span></span><span class=line><span class=cl>    <span class=c1># @lines - ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</span>
</span></span><span class=line><span class=cl>    <span class=n>say</span> <span class=s>&#34;[$level] &#34;</span><span class=p>,</span> <span class=nb>join</span><span class=p>(</span><span class=s>&#39; &#39;</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>info</span><span class=p>(</span><span class=s>&#39;ã“ã‚Œã¯infoãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã™&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1># å‡ºåŠ›: [info] ã“ã‚Œã¯infoãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã™</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=emit-ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚‹ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«><code>emit</code> ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚‹ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«</h4><p><code>emit</code> ãƒ¡ã‚½ãƒƒãƒ‰ã¯ <code>Mojo::EventEmitter</code> ã‹ã‚‰ç¶™æ‰¿:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=c1># å†…éƒ¨çš„ã«ã¯å„ãƒ­ã‚°ãƒ¡ã‚½ãƒƒãƒ‰ãŒ emit ã‚’å‘¼ã³å‡ºã™</span>
</span></span><span class=line><span class=cl><span class=c1># $log-&gt;info(&#39;message&#39;) ã¯å†…éƒ¨ã§ä»¥ä¸‹ã®ã‚ˆã†ã«å‹•ä½œ:</span>
</span></span><span class=line><span class=cl><span class=c1># $log-&gt;emit(message =&gt; &#39;info&#39;, &#39;message&#39;);</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=å®Ÿéš›ã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚³ãƒ¼ãƒ‰ä¾‹>å®Ÿéš›ã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚³ãƒ¼ãƒ‰ä¾‹</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>Mojo::Log</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$log</span> <span class=o>=</span> <span class=nn>Mojo::Log</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è¤‡æ•°ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’ç™»éŒ²ã§ãã‚‹</span>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>on</span><span class=p>(</span><span class=n>message</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$log</span><span class=p>,</span> <span class=nv>$level</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1># ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã¿</span>
</span></span><span class=line><span class=cl>    <span class=k>print</span> <span class=bp>STDERR</span> <span class=s>&#34;[$level] &#34;</span><span class=p>,</span> <span class=nb>join</span><span class=p>(</span><span class=s>&#39; &#39;</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>),</span> <span class=s>&#34;\n&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>on</span><span class=p>(</span><span class=n>message</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$log</span><span class=p>,</span> <span class=nv>$level</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1># ã‚¨ãƒ©ãƒ¼ä»¥ä¸Šãªã‚‰ç‰¹åˆ¥ãªå‡¦ç†</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nv>$level</span> <span class=ow>eq</span> <span class=s>&#39;error&#39;</span> <span class=o>||</span> <span class=nv>$level</span> <span class=ow>eq</span> <span class=s>&#39;fatal&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1># ã‚¢ãƒ©ãƒ¼ãƒˆé€ä¿¡ãªã©</span>
</span></span><span class=line><span class=cl>        <span class=nb>warn</span> <span class=s>&#34;ALERT: &#34;</span><span class=p>,</span> <span class=nb>join</span><span class=p>(</span><span class=s>&#39; &#39;</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>info</span><span class=p>(</span><span class=s>&#39;é€šå¸¸ã®ãƒ­ã‚°&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>error</span><span class=p>(</span><span class=s>&#39;ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ&#39;</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=3-ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºç¤æ¦‚å¿µ>3. ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºç¤æ¦‚å¿µ</h3><h4 id=ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¨ã¯ä½•ã‹>ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¨ã¯ä½•ã‹</h4><ul><li>ã€Œä½•ã‹ãŒèµ·ããŸã¨ãã«ã€ãã‚Œã«å¿œã˜ã¦å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã€è¨­è¨ˆæ€æƒ³</li><li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œã€ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°ã€ã‚»ãƒ³ã‚µãƒ¼ä¿¡å·ãªã©ã®ã€Œã‚¤ãƒ™ãƒ³ãƒˆã€ã‚’æ¤œçŸ¥ã—ã¦å‹•ã</li><li>GUIã‚¢ãƒ—ãƒªã€Webã‚µãƒ¼ãƒ“ã‚¹ã€IoTãªã©å¹…åºƒãä½¿ã‚ã‚Œã‚‹</li></ul><p><strong>ç‰¹å¾´:</strong></p><ul><li>éåŒæœŸå‡¦ç†ãŒã—ã‚„ã™ã„</li><li>éƒ¨å“åŒå£«ã®çµåˆåº¦ãŒä½ãã€æŸ”è»Ÿã«è¨­è¨ˆã§ãã‚‹</li><li>æ‹¡å¼µã‚„å¤‰æ›´ã«å¼·ã„</li></ul><p><strong>å¾“æ¥ã®åŒæœŸå‡¦ç†ã¨ã®é•ã„:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=c1># åŒæœŸå‡¦ç†ï¼ˆé€æ¬¡å®Ÿè¡Œï¼‰</span>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>process_all</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$result1</span> <span class=o>=</span> <span class=n>process_step1</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$result2</span> <span class=o>=</span> <span class=n>process_step2</span><span class=p>();</span>  <span class=c1># step1å®Œäº†å¾Œã«å®Ÿè¡Œ</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$result3</span> <span class=o>=</span> <span class=n>process_step3</span><span class=p>();</span>  <span class=c1># step2å®Œäº†å¾Œã«å®Ÿè¡Œ</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$result3</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆã«å¿œã˜ã¦å®Ÿè¡Œï¼‰</span>
</span></span><span class=line><span class=cl><span class=nv>$emitter</span><span class=o>-&gt;</span><span class=n>on</span><span class=p>(</span><span class=n>step1_done</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span> <span class=n>process_step2</span><span class=p>()</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nv>$emitter</span><span class=o>-&gt;</span><span class=n>on</span><span class=p>(</span><span class=n>step2_done</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span> <span class=n>process_step3</span><span class=p>()</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nv>$emitter</span><span class=o>-&gt;</span><span class=n>emit</span><span class=p>(</span><span class=s>&#39;step1_done&#39;</span><span class=p>);</span>  <span class=c1># ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=observerãƒ‘ã‚¿ãƒ¼ãƒ³pubsubãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã®é–¢ä¿‚>Observerãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆPub/Subãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰ã¨ã®é–¢ä¿‚</h4><p><strong>Observerãƒ‘ã‚¿ãƒ¼ãƒ³:</strong></p><ul><li>1ã¤ã®ã€ŒSubjectã€ï¼ˆç›£è¦–å¯¾è±¡ï¼‰ãŒè¤‡æ•°ã®ã€ŒObserverã€ï¼ˆç›£è¦–è€…ï¼‰ã‚’æŒã¤</li><li>Subjectã«å¤‰åŒ–ãŒã‚ã‚‹ã¨Observerå…¨å“¡ã«é€šçŸ¥</li><li>Mojo::EventEmitter ã¯ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®Ÿè£…</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=c1># Mojo::EventEmitter = Observer ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè£…</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>Cat</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Mojo::Base</span> <span class=s>&#39;Mojo::EventEmitter&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>poke</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$self</span> <span class=o>=</span> <span class=nb>shift</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>emit</span><span class=p>(</span><span class=n>roar</span> <span class=o>=&gt;</span> <span class=mi>3</span><span class=p>);</span>  <span class=c1># ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œï¼ˆSubject â†’ Observer ã¸ã®é€šçŸ¥ï¼‰</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä½¿ç”¨ä¾‹</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$tiger</span> <span class=o>=</span> <span class=nn>Cat</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$tiger</span><span class=o>-&gt;</span><span class=n>on</span><span class=p>(</span><span class=n>roar</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span>        <span class=c1># Observer ã‚’ç™»éŒ²</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$tiger</span><span class=p>,</span> <span class=nv>$times</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>say</span> <span class=s>&#39;RAWR!&#39;</span> <span class=k>for</span> <span class=mi>1</span> <span class=o>..</span> <span class=nv>$times</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nv>$tiger</span><span class=o>-&gt;</span><span class=n>poke</span><span class=p>;</span>  <span class=c1># Subject ãŒå¤‰åŒ– â†’ Observer ã«é€šçŸ¥</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Pub/Subãƒ‘ã‚¿ãƒ¼ãƒ³:</strong></p><ul><li>Publisherï¼ˆç™ºè¡Œè€…ï¼‰ã¨ Subscriberï¼ˆè³¼èª­è€…ï¼‰ãŒç›´æ¥é–¢ä¸ã—ãªã„</li><li>é–“ã«ã€Œãƒ–ãƒ­ãƒ¼ã‚«ãƒ¼/ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ã€ãŒå…¥ã‚‹</li><li>ã‚ˆã‚Šç–çµåˆã§ã€åˆ†æ•£ã‚·ã‚¹ãƒ†ãƒ ã«é©ã—ã¦ã„ã‚‹</li></ul><p><strong>æ¯”è¼ƒ:</strong></p><div class=table-wrapper><table><thead><tr><th>é …ç›®</th><th>Observer</th><th>Pub/Sub</th></tr></thead><tbody><tr><td>çµåˆåº¦</td><td>ã‚„ã‚„å¼·ã„</td><td>å¼±ã„ï¼ˆä»²ä»‹ã‚ã‚Šï¼‰</td></tr><tr><td>ã‚¹ã‚³ãƒ¼ãƒ—</td><td>åŒä¸€ãƒ—ãƒ­ã‚»ã‚¹å†…</td><td>è¤‡æ•°ã‚·ã‚¹ãƒ†ãƒ ã€åˆ†æ•£ç’°å¢ƒ</td></tr><tr><td>é€šçŸ¥æ–¹æ³•</td><td>åŒæœŸãƒ»ç›´æ¥å‘¼ã³å‡ºã—</td><td>éåŒæœŸãƒ»ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹çµŒç”±</td></tr></tbody></table></div><p>Mojo::EventEmitter ã¯ <strong>Observer ãƒ‘ã‚¿ãƒ¼ãƒ³</strong> ã®å®Ÿè£…ã§ã‚ã‚Šã€åŒä¸€ãƒ—ãƒ­ã‚»ã‚¹å†…ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã«é©ã—ã¦ã„ã‚‹ã€‚</p><h4 id=ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ã¨ã®é•ã„>ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ã¨ã®é•ã„</h4><p><strong>ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°:</strong></p><ul><li>è¨­è¨ˆã‚¹ã‚¿ã‚¤ãƒ«ãƒ»è€ƒãˆæ–¹</li><li>ã€Œã‚¤ãƒ™ãƒ³ãƒˆãŒæ¥ãŸã‚‰å‹•ãã€ã€Œæ™®æ®µã¯å¾…ã¤ã€</li></ul><p><strong>ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—:</strong></p><ul><li>ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®ä»•çµ„ã¿ï¼ˆæŠ€è¡“ï¼‰</li><li>ã€Œã‚¤ãƒ™ãƒ³ãƒˆã‚­ãƒ¥ãƒ¼ã‚’ç›£è¦–ã—ã€å‡¦ç†ã™ã¹ãã‚¤ãƒ™ãƒ³ãƒˆãŒã‚ã‚Œã°å¯¾å¿œã™ã‚‹ã€ãƒ«ãƒ¼ãƒ—æ§‹é€ </li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[ç™ºç”Ÿã—ãŸã‚¤ãƒ™ãƒ³ãƒˆ] â†’ [ã‚¤ãƒ™ãƒ³ãƒˆã‚­ãƒ¥ãƒ¼] â†’ [ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—] â†’ [ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©]
</span></span></code></pre></td></tr></table></div></div><p><strong>Perlã§ã®ä¾‹:</strong></p><ul><li><code>Mojo::IOLoop</code> - Mojolicious ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—</li><li><code>IO::Async::Loop</code> - IO::Async ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—</li></ul><p><strong>Mojo::Log ã¨ã®é–¢ä¿‚:</strong></p><ul><li>Mojo::Log è‡ªä½“ã¯ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ã‚’å¿…è¦ã¨ã—ãªã„</li><li>ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«ï¼ˆemitï¼‰ã¯åŒæœŸçš„ã«å‡¦ç†ã•ã‚Œã‚‹</li><li>ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§éåŒæœŸå‡¦ç†ã‚‚å¯èƒ½</li></ul><hr><h3 id=4-mojoeventemitter-ã¨ã®é–¢ä¿‚>4. Mojo::EventEmitter ã¨ã®é–¢ä¿‚</h3><h4 id=mojoeventemitter-ã®å½¹å‰²>Mojo::EventEmitter ã®å½¹å‰²</h4><ul><li>ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œãƒ»è³¼èª­ã‚’ç°¡å˜ã«æ‰±ãˆã‚‹åŸºåº•ã‚¯ãƒ©ã‚¹</li><li>è¤‡æ•°ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ï¼ˆcallbackï¼‰ã‚’ç™»éŒ²å¯èƒ½</li><li>ä»»æ„ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’è‡ªç”±ã«ç™ºè¡Œï¼†è³¼èª­ã§ãã‚‹</li></ul><h4 id=mojolog-ãŒç¶™æ‰¿ã—ã¦ã„ã‚‹æ©Ÿèƒ½>Mojo::Log ãŒç¶™æ‰¿ã—ã¦ã„ã‚‹æ©Ÿèƒ½</h4><p>Mojo::Log ã¯ Mojo::EventEmitter ã‚’ç¶™æ‰¿:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>package</span> <span class=nn>Mojo::Log</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Mojo::Base</span> <span class=s>&#39;Mojo::EventEmitter&#39;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>ã“ã‚Œã«ã‚ˆã‚Šä»¥ä¸‹ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒä½¿ãˆã‚‹:</p><ul><li><code>emit('event', @args)</code> - ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ</li><li><code>on('event' => sub {...})</code> - ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¿½åŠ </li><li><code>once('event' => sub {...})</code> - ä¸€åº¦ã ã‘å®Ÿè¡Œã•ã‚Œã‚‹ãƒªã‚¹ãƒŠãƒ¼</li><li><code>has_subscribers('event')</code> - è³¼èª­è€…ã®æœ‰ç„¡ç¢ºèª</li><li><code>subscribers('event')</code> - è³¼èª­è€…ãƒªã‚¹ãƒˆå–å¾—</li><li><code>unsubscribe('event')</code> - è³¼èª­è§£é™¤</li></ul><h4 id=ä»–ã®mojoãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ä¾‹>ä»–ã®Mojo::*ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ä¾‹</h4><p><strong>Mojo::IOLoop:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>Mojo::IOLoop</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ã‚¿ã‚¤ãƒãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆ</span>
</span></span><span class=line><span class=cl><span class=nn>Mojo::IOLoop</span><span class=o>-&gt;</span><span class=n>timer</span><span class=p>(</span><span class=mi>3</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span> <span class=n>say</span> <span class=s>&#39;3ç§’å¾Œã«å®Ÿè¡Œ&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ç¹°ã‚Šè¿”ã—ã‚¿ã‚¤ãƒãƒ¼</span>
</span></span><span class=line><span class=cl><span class=nn>Mojo::IOLoop</span><span class=o>-&gt;</span><span class=n>recurring</span><span class=p>(</span><span class=mi>1</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span> <span class=n>say</span> <span class=s>&#39;1ç§’ã”ã¨ã«å®Ÿè¡Œ&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nn>Mojo::IOLoop</span><span class=o>-&gt;</span><span class=n>start</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Mojo::UserAgent:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>Mojo::UserAgent</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$ua</span> <span class=o>=</span> <span class=nn>Mojo::UserAgent</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ</span>
</span></span><span class=line><span class=cl><span class=nv>$ua</span><span class=o>-&gt;</span><span class=n>on</span><span class=p>(</span><span class=n>start</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$ua</span><span class=p>,</span> <span class=nv>$tx</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>say</span> <span class=s>&#39;ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–‹å§‹: &#39;</span><span class=p>,</span> <span class=nv>$tx</span><span class=o>-&gt;</span><span class=nn>req</span><span class=o>-&gt;</span><span class=n>url</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$ua</span><span class=o>-&gt;</span><span class=n>get</span><span class=p>(</span><span class=s>&#39;https://example.com&#39;</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Mojo::Transaction:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=c1># finish ã‚¤ãƒ™ãƒ³ãƒˆ</span>
</span></span><span class=line><span class=cl><span class=nv>$tx</span><span class=o>-&gt;</span><span class=n>on</span><span class=p>(</span><span class=n>finish</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$tx</span> <span class=o>=</span> <span class=nb>shift</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>say</span> <span class=s>&#39;ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å®Œäº†&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=5-å®Ÿç”¨ä¾‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹>5. å®Ÿç”¨ä¾‹ãƒ»ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹</h3><h4 id=ãƒ­ã‚°ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›´>ãƒ­ã‚°ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›´ï¼‰</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>Mojo::Log</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$log</span> <span class=o>=</span> <span class=nn>Mojo::Log</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ</span>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=nb>format</span><span class=p>(</span><span class=k>sub</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$time</span><span class=p>,</span> <span class=nv>$level</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$timestamp</span> <span class=o>=</span> <span class=nb>localtime</span><span class=p>(</span><span class=nv>$time</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s>&#34;[$timestamp][$level] &#34;</span> <span class=o>.</span> <span class=nb>join</span><span class=p>(</span><span class=s>&#39; &#39;</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>)</span> <span class=o>.</span> <span class=s>&#34;\n&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>info</span><span class=p>(</span><span class=s>&#39;ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãƒ­ã‚°å‡ºåŠ›&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1># å‡ºåŠ›: [Sun Dec 29 15:30:00 2025][info] ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãƒ­ã‚°å‡ºåŠ›</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>JSONå½¢å¼ã®ãƒ­ã‚°:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>Mojo::JSON</span> <span class=sx>qw(encode_json)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=nb>format</span><span class=p>(</span><span class=k>sub</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$time</span><span class=p>,</span> <span class=nv>$level</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>encode_json</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=n>timestamp</span> <span class=o>=&gt;</span> <span class=nv>$time</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>level</span>     <span class=o>=&gt;</span> <span class=nv>$level</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span>   <span class=o>=&gt;</span> <span class=nb>join</span><span class=p>(</span><span class=s>&#39; &#39;</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span> <span class=o>.</span> <span class=s>&#34;\n&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=è¤‡æ•°ã®ãƒ­ã‚°å‡ºåŠ›å…ˆã¸ã®åŒæ™‚é…ä¿¡>è¤‡æ•°ã®ãƒ­ã‚°å‡ºåŠ›å…ˆã¸ã®åŒæ™‚é…ä¿¡</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>Mojo::Log</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$log</span> <span class=o>=</span> <span class=nn>Mojo::Log</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ³ãƒ‰ãƒ«ã‚’é–‹ã</span>
</span></span><span class=line><span class=cl><span class=nb>open</span> <span class=k>my</span> <span class=nv>$fh</span><span class=p>,</span> <span class=s>&#39;&gt;&gt;&#39;</span><span class=p>,</span> <span class=s>&#39;/var/log/app.log&#39;</span> <span class=ow>or</span> <span class=nb>die</span> <span class=vg>$!</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è¤‡æ•°ã®å‡ºåŠ›å…ˆã«ãƒ­ã‚°ã‚’é€ã‚‹</span>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>on</span><span class=p>(</span><span class=n>message</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$log</span><span class=p>,</span> <span class=nv>$level</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$msg</span> <span class=o>=</span> <span class=s>&#34;[$level] &#34;</span> <span class=o>.</span> <span class=nb>join</span><span class=p>(</span><span class=s>&#39; &#39;</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>)</span> <span class=o>.</span> <span class=s>&#34;\n&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># æ¨™æº–ã‚¨ãƒ©ãƒ¼å‡ºåŠ›ã¸</span>
</span></span><span class=line><span class=cl>    <span class=k>print</span> <span class=bp>STDERR</span> <span class=nv>$msg</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># ãƒ•ã‚¡ã‚¤ãƒ«ã¸</span>
</span></span><span class=line><span class=cl>    <span class=k>print</span> <span class=nv>$fh</span> <span class=nv>$msg</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>$fh</span><span class=o>-&gt;</span><span class=n>flush</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>info</span><span class=p>(</span><span class=s>&#39;ä¸¡æ–¹ã«å‡ºåŠ›ã•ã‚Œã¾ã™&#39;</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=ã‚¨ãƒ©ãƒ¼æ™‚ã®é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ >ã‚¨ãƒ©ãƒ¼æ™‚ã®é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ </h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>Mojo::Log</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Mojo::UserAgent</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$log</span> <span class=o>=</span> <span class=nn>Mojo::Log</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$ua</span>  <span class=o>=</span> <span class=nn>Mojo::UserAgent</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$slack_webhook</span> <span class=o>=</span> <span class=nv>$ENV</span><span class=p>{</span><span class=n>SLACK_WEBHOOK_URL</span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ã‚¨ãƒ©ãƒ¼ä»¥ä¸Šã®ãƒ¬ãƒ™ãƒ«ã§Slacké€šçŸ¥</span>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>on</span><span class=p>(</span><span class=n>message</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$log</span><span class=p>,</span> <span class=nv>$level</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># error ã¾ãŸã¯ fatal ã®å ´åˆã®ã¿é€šçŸ¥</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=k>unless</span> <span class=nv>$level</span> <span class=ow>eq</span> <span class=s>&#39;error&#39;</span> <span class=o>||</span> <span class=nv>$level</span> <span class=ow>eq</span> <span class=s>&#39;fatal&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$text</span> <span class=o>=</span> <span class=s>&#34;[$level] &#34;</span> <span class=o>.</span> <span class=nb>join</span><span class=p>(</span><span class=s>&#39; &#39;</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Slack Webhook ã« POST</span>
</span></span><span class=line><span class=cl>    <span class=nv>$ua</span><span class=o>-&gt;</span><span class=n>post</span><span class=p>(</span><span class=nv>$slack_webhook</span> <span class=o>=&gt;</span> <span class=n>json</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>text</span> <span class=o>=&gt;</span> <span class=s>&#34;:warning: *$level* \n$text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>error</span><span class=p>(</span><span class=s>&#39;ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼&#39;</span><span class=p>);</span>  <span class=c1># Slack ã«é€šçŸ¥ã•ã‚Œã‚‹</span>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>info</span><span class=p>(</span><span class=s>&#39;é€šå¸¸ã®ãƒ­ã‚°&#39;</span><span class=p>);</span>                <span class=c1># Slack ã«ã¯é€šçŸ¥ã•ã‚Œãªã„</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã«ã‚ˆã‚‹å‡ºåŠ›å…ˆã®æŒ¯ã‚Šåˆ†ã‘>ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã«ã‚ˆã‚‹å‡ºåŠ›å…ˆã®æŒ¯ã‚Šåˆ†ã‘</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>Mojo::Log</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$log</span> <span class=o>=</span> <span class=nn>Mojo::Log</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$log</span><span class=o>-&gt;</span><span class=n>on</span><span class=p>(</span><span class=n>message</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$log</span><span class=p>,</span> <span class=nv>$level</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$msg</span> <span class=o>=</span> <span class=nb>join</span><span class=p>(</span><span class=s>&#39; &#39;</span><span class=p>,</span> <span class=nv>@lines</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nv>$level</span> <span class=ow>eq</span> <span class=s>&#39;info&#39;</span> <span class=o>||</span> <span class=nv>$level</span> <span class=ow>eq</span> <span class=s>&#39;debug&#39;</span> <span class=o>||</span> <span class=nv>$level</span> <span class=ow>eq</span> <span class=s>&#39;trace&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1># é€šå¸¸ã®ãƒ­ã‚°ã¯ STDOUT ã¸</span>
</span></span><span class=line><span class=cl>        <span class=n>say</span> <span class=nv>$msg</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1># warn/error/fatal ã¯ STDERR ã¸</span>
</span></span><span class=line><span class=cl>        <span class=nb>warn</span> <span class=nv>$msg</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=6-é–¢é€£è¨˜äº‹å†…éƒ¨ãƒªãƒ³ã‚¯èª¿æŸ»>6. é–¢é€£è¨˜äº‹ãƒ»å†…éƒ¨ãƒªãƒ³ã‚¯èª¿æŸ»</h3><h4 id=ã“ã®ãƒªãƒã‚¸ãƒˆãƒªå†…ã®é–¢é€£è¨˜äº‹>ã“ã®ãƒªãƒã‚¸ãƒˆãƒªå†…ã®é–¢é€£è¨˜äº‹</h4><p>ä»¥ä¸‹ã®ã‚¿ã‚°ã‚’æŒã¤è¨˜äº‹ãŒé–¢é€£æ€§ãŒé«˜ã„:</p><ul><li><strong>perl</strong>: å¤šæ•°ã®è¨˜äº‹ã‚ã‚Š</li><li><strong>mojo-ioloop</strong>: éåŒæœŸå‡¦ç†ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—é–¢é€£</li><li><strong>async</strong>: éåŒæœŸå‡¦ç†é–¢é€£</li></ul><p><strong>ç‰¹ã«é–¢é€£æ€§ã®é«˜ã„è¨˜äº‹:</strong></p><ol><li><p><strong>Mojoliciouså…¥é–€ â€” Mojolicious::Liteã§å§‹ã‚ã‚‹Perlã®Webé–‹ç™º</strong> (2025/12/04)</p><ul><li>ã‚¿ã‚°: perl, Mojolicious, Web, Tutorial</li><li>Mojoliciousãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®å…¥é–€è¨˜äº‹</li></ul></li><li><p><strong>Perlã§ã®éåŒæœŸå‡¦ç† â€” IO::Async ã¨ Mojo::IOLoop</strong> (2025/12/17)</p><ul><li>ã‚¿ã‚°: perl, async, io-async, mojo-ioloop, non-blocking</li><li>ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ã¨ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã®é–¢ä¿‚ã‚’ç†è§£ã™ã‚‹ã®ã«å½¹ç«‹ã¤</li></ul></li><li><p><strong>Perlã§ã®Webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚° - Web::Scraper ã¨ Mojo::UserAgent</strong> (2025/12/22)</p><ul><li>ã‚¿ã‚°: perl, web-scraping, web-scraper, mojo-useragent, mojo-dom</li><li>Mojoliciousã®ãƒ„ãƒ¼ãƒ«ã‚­ãƒƒãƒˆä½¿ç”¨ä¾‹</li></ul></li></ol><h4 id=å‚ç…§ã™ã¹ãå¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹>å‚ç…§ã™ã¹ãå¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹</h4><p><strong>å…¬å¼ãƒªã‚½ãƒ¼ã‚¹:</strong></p><ul><li>Mojo::Log å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: <a class=link href=https://docs.mojolicious.org/Mojo/Log target=_blank rel=noopener>https://docs.mojolicious.org/Mojo/Log</a></li><li>Mojo::EventEmitter å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: <a class=link href=https://docs.mojolicious.org/Mojo/EventEmitter target=_blank rel=noopener>https://docs.mojolicious.org/Mojo/EventEmitter</a></li><li>Mojolicious ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: <a class=link href=https://docs.mojolicious.org/Mojolicious/Guides/Tutorial target=_blank rel=noopener>https://docs.mojolicious.org/Mojolicious/Guides/Tutorial</a></li></ul><p><strong>æ—¥æœ¬èªãƒªã‚½ãƒ¼ã‚¹:</strong></p><ul><li>Mojoliciousæ—¥æœ¬èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: <a class=link href=https://mojodoc.perlzemi.com/ target=_blank rel=noopener>https://mojodoc.perlzemi.com/</a></li><li>Perl+Mojoã§ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° (Qiita): <a class=link href=https://qiita.com/skaji/items/c226f894581881796ed1 target=_blank rel=noopener>https://qiita.com/skaji/items/c226f894581881796ed1</a></li></ul><p><strong>æ¦‚å¿µç†è§£ã«å½¹ç«‹ã¤ãƒªã‚½ãƒ¼ã‚¹:</strong></p><ul><li>Observer pattern (Wikipedia): <a class=link href=https://en.wikipedia.org/wiki/Observer_pattern target=_blank rel=noopener>https://en.wikipedia.org/wiki/Observer_pattern</a></li><li>ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° (Wikipedia): <a class=link href=https://ja.wikipedia.org/wiki/%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E9%A7%86%E5%8B%95%E5%9E%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0 target=_blank rel=noopener>https://ja.wikipedia.org/wiki/%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E9%A7%86%E5%8B%95%E5%9E%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0</a></li></ul><hr><h2 id=æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h2><ol><li><p><strong>ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ä½œæˆä¾é ¼</strong> (search-engine-optimizationã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ)</p><ul><li>èª¿æŸ»çµæœã«åŸºã¥ã„ã¦è¨˜äº‹ã®ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³æ¡ˆã‚’3ã¤ä½œæˆ</li><li>å„æ¡ˆã¯ç•°ãªã‚‹è¦–ç‚¹ã‚„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’æŒã¤</li></ul></li><li><p><strong>è¨˜äº‹ä½œæˆ</strong> (perl-mongerã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ)</p><ul><li>å…¥é–€è€…å‘ã‘ã®ã‚ã‹ã‚Šã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’å¤šç”¨</li><li>Mojo::Log ã‚’é¡Œæã«ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã®æ¦‚å¿µã‚’è§£èª¬</li></ul></li><li><p><strong>æŒ¿çµµã®è¿½åŠ </strong> (illustration-craftspersonã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ)</p><ul><li>ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã®ä»•çµ„ã¿ã‚’å›³è§£ï¼ˆMermaidè¨˜æ³•ï¼‰</li><li>Observer ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å›³è§£</li></ul></li><li><p><strong>æ ¡æ­£ãƒ»SEO</strong> (å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ)</p><ul><li>proofreaderã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹æ ¡æ­£</li><li>search-engine-optimizationã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹SEOæœ€é©åŒ–</li></ul></li></ol><hr><h2 id=è¨˜äº‹ä½œæˆæ™‚ã®æ³¨æ„ç‚¹>è¨˜äº‹ä½œæˆæ™‚ã®æ³¨æ„ç‚¹</h2><h3 id=å…¥é–€è€…å‘ã‘ã®ãƒã‚¤ãƒ³ãƒˆ>å…¥é–€è€…å‘ã‘ã®ãƒã‚¤ãƒ³ãƒˆ</h3><ol><li><p><strong>ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã®ã€Œãªãœã€ã‚’å…ˆã«èª¬æ˜</strong></p><ul><li>å¾“æ¥ã®é€æ¬¡å‡¦ç†ã¨ã®é•ã„</li><li>ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã®ãƒ¡ãƒªãƒƒãƒˆï¼ˆç–çµåˆã€æ‹¡å¼µæ€§ï¼‰</li></ul></li><li><p><strong>Mojo::Log ã‚’é¡Œæã«ã™ã‚‹ç†ç”±</strong></p><ul><li>ã‚·ãƒ³ãƒ—ãƒ«ã§ç†è§£ã—ã‚„ã™ã„</li><li>å®Ÿç”¨çš„ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒã‚ã‚‹</li><li>Mojoliciousã®ä»–ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¸ã®æ©‹æ¸¡ã—</li></ul></li><li><p><strong>æ®µéšçš„ãªèª¬æ˜</strong></p><ul><li>ã¾ãš <code>on</code> ã¨ <code>emit</code> ã®åŸºæœ¬</li><li>æ¬¡ã« <code>message</code> ã‚¤ãƒ™ãƒ³ãƒˆã®æ´»ç”¨</li><li>æœ€å¾Œã«å®Ÿç”¨ä¾‹ï¼ˆè¤‡æ•°å‡ºåŠ›ã€é€šçŸ¥ãªã©ï¼‰</li></ul></li><li><p><strong>ã‚³ãƒ¼ãƒ‰ä¾‹ã¯å‹•ä½œã™ã‚‹ã‚‚ã®ã‚’</strong></p><ul><li>ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã§å‹•ãã‚³ãƒ¼ãƒ‰</li><li>ã‚³ãƒ¡ãƒ³ãƒˆã§å„è¡Œã®æ„å‘³ã‚’èª¬æ˜</li></ul></li></ol><h3 id=æ¨å¥¨ã‚¿ã‚°>æ¨å¥¨ã‚¿ã‚°</h3><ul><li>perl</li><li>mojolicious</li><li>event-driven</li><li>mojo-eventemitter</li><li>mojo-log</li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/mojo-log/>Mojo-Log</a>
<a href=/tags/event-driven/>Event-Driven</a>
<a href=/tags/perl/>Perl</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>é–¢é€£ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/warehouse/io-async/><div class=article-image><img src=/favicon.png loading=lazy data-key data-hash=/favicon.png></div><div class=article-details><h2 class=article-title>IO::Async èª¿æŸ»ãƒ¡ãƒ¢</h2></div></a></article><article class=has-image><a href=/2026/01/08/003843/><div class=article-image><img src=/public_images/2026/iterator-pattern-series-image.jpg loading=lazy data-key data-hash=/public_images/2026/iterator-pattern-series-image.jpg></div><div class=article-details><h2 class=article-title>ã€ç›®æ¬¡ã€‘æœ¬æ£šã‚¢ãƒ—ãƒªã§è¦šãˆã‚‹é›†åˆä½“ã®å·¡å›ï¼ˆå…¨5å›ï¼‰</h2></div></a></article><article class=has-image><a href=/2026/01/08/003640/><div class=article-image><img src=/public_images/2026/iterator-pattern-series-image.jpg loading=lazy data-key data-hash=/public_images/2026/iterator-pattern-series-image.jpg></div><div class=article-details><h2 class=article-title>Iteratorãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã„ã†çŸ¥æµ - å…ˆäººã®çµŒé¨“ã‚’Perlã§æ´»ã‹ã™</h2></div></a></article><article class=has-image><a href=/2026/01/08/003437/><div class=article-image><img src=/public_images/2026/iterator-pattern-series-image.jpg loading=lazy data-key data-hash=/public_images/2026/iterator-pattern-series-image.jpg></div><div class=article-details><h2 class=article-title>èµ°æŸ»æ©Ÿèƒ½ã‚’å–ã‚Šå‡ºã™ - iterator()ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…</h2></div></a></article><article class=has-image><a href=/2026/01/08/003234/><div class=article-image><img src=/public_images/2026/iterator-pattern-series-image.jpg loading=lazy data-key data-hash=/public_images/2026/iterator-pattern-series-image.jpg></div><div class=article-details><h2 class=article-title>å·¡å›ã®è²¬ä»»ã‚’åˆ†é›¢ã™ã‚‹ - Moo::Roleã§å°‚ç”¨ã‚¯ãƒ©ã‚¹ã‚’ä½œã‚‹</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//nqounet.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2000 -
2026 nqou.net</section><section class=powerby><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> ã§æ§‹ç¯‰ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>ãƒ†ãƒ¼ãƒ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> ã¯ <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> ã«ã‚ˆã£ã¦è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>