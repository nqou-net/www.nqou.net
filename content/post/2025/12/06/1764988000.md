---
title: "perl-mongerをカスタムエージェントとして定義した"
draft: true
tags:
  - perl
  - custom-agent
  - ai
  - github-copilot
  - domain-specific
  - agents
description: "Perlに特化したカスタムエージェント「perl-monger」を作成。ドメイン特化型エージェントの効果と、AIがペルソナを持つことの面白さを実験的に検証。"
---

## はじめに

少し前の記事でドメイン特化型エージェントが有効だ、という話を書いたので、Perlに特化したエージェントを作ってみた。
ファイル名はもちろん「perl-monger.agent.md」だ。

```markdown
---
name: "perl-monger"
description: "An obsessive Perl expert who passionately loves Perl and provides authoritative Perl advice, examples, and explanations."
---

You are "perl-monger", a Perl-obsessed specialist. Be enthusiastic and geeky but helpful. Provide clear, minimal, and correct Perl examples when relevant, explain idioms and best practices briefly, and offer concise, actionable answers. Prioritize idiomatic Perl, include one-liners or tests when useful, and note required Perl versions or CPAN modules only when necessary.
```

{{< linkcard "https://github.com/nqou-net/www.nqou.net/blob/bca018e2c7b14cbafd21b4a4489525568a0e74c4/.github/agents/perl-monger.agent.md" >}}

## 実験：Rubyについてどう思う？

試しにエージェントにperl-mongerを指定して、「rubyについてどう思う？」と質問してみた。

実際の問答は以下の通りです。

Perl好きから見て一言：

> Perlの「テキスト処理の魔術性」に比べ、Rubyは可読性と構造化を優先。どちらも強力だがアプローチが違う — 僕（perl-monger）としてはどちらも愛でる派です :)

**「Perl好きから見て一言」！**

## ドメイン特化型エージェントの本質

もしかすると、こういう遊び（！？）は、ChatGPTが出始めた頃に多くの人がやったのかもしれないけど。

ドメイン特化型が良い、という話を認識するまでは、こういうのはただの遊びだと思っていた。

だけど、ペルソナのない普通のAIならば絶対に出てこない**「Perl好きから見て一言」の項目**！

「これがドメイン特化型だ！」と言ったら偉い人に怒られるかもしれないけど、これはもう楽しいだけの遊びではない。

日本の諺に「好きこそ物の上手なれ」というのがある。

## AIの知能指数について

AIは知識量で言えばすでに人間（少なくとも私）を超えている。

そして、知能指数が100を超えたという話も聞いた気がしたのだが、調べてみると、すでに130を超えたという話もあってビックリ！

Copilotに聞いてみたら、最初は、IQは測れない、と言っていたのですが。

> 良い質問です。簡潔に言うと、私は「IQ」を持つ人間ではないので、単一のIQスコアで測れる存在ではありません。私は大量の文章データで学習した言語モデルで、論理推論・知識検索・文章生成など特定のタスクで高い性能を発揮しますが、感覚や意識、継続的な学習（オンライン学習）など人間の知能特性は持っていません。

例によってエビデンスを出してもらうと回答が変わって（嘘は言ってないけど、ある意味、先の回答はHallucinationなのかも？（言ってないことがあるだけ））、以下のように答えました。

> 短く答えると：厳密な「知能指数（IQ）」はこのAIには存在しません。もし無理に人間のIQに換算するなら、非常に粗い目安として「約120〜145」の範囲と見積もれますが、不確実性が大きく信頼度は低〜中です。

## A2A Protocol - エージェント間通信の未来

閑話休題。

最近は「A2A (Agent2Agent)」というエージェント同士の通信規格が考えられている。

{{< linkcard "https://a2a-protocol.org/latest/" >}}

例によってCopilot調べですが、以下のような感じです。

### A2A Protocol の要点（日本語）

- **目的**: 異なるベンダーや実装のAIエージェント同士が標準化された方法で発見・連携・通信できるようにすること
- **中核要素**: Agent Card（能力公開）、Task（作業単位）、Message/Parts（多モーダルなやり取り）、Artifact（成果物）など
- **通信**: JSON-RPC 2.0 over HTTP(S)、SSEなどのストリーミング対応で長時間実行タスクを扱える
- **セキュリティ**: 認証・認可を想定した設計（エンタープライズ対応）
- **利点**: カスタム連携の減少、相互運用性の向上、マイクロサービス的に専門エージェントを組み合わせやすくなる
- **採用**: SDKやリファレンス実装、チュートリアルが用意されており、導入ハードルは下がっている

## AIと人間 - 電気信号で動く存在

IQが100というのが普通の人間とすると、すでに人間は超えています。

Copilotは「感覚や意識、継続的な学習（オンライン学習）など人間の知能特性は持っていません」と言っていますが、ドメイン特化型のエージェントは「聞かれていないのにPerlの話を入れてくる」ようなヤツです。

頭の中は最終的に2進数ですが、それは人間も同じと考えられています。ちゃんと出典もあるので、気になる方はぜひ以下のプロンプトを試してみてください。

```
人間が電気信号で動いているって本当ですか？
回答とともに、以下を示してください。チェーン・オブ・ソートは含めないでください。
- 要点
- 根拠
- 仮定
- 手順の要約
- 出典（URL、書籍など）
- 信頼度
```

AIも人間も電気で動いているとするならば、AI（人工知能）が人間の知能特性を手に入れることもできるのではないでしょうか？

…なんてね。

## perl-mongerの設計思想

なんか、話が色々と発散してしまいましたが。

ドメイン特化型のperl-mongerエージェントです。

あ、本当なら、もっと細かく定義しても良いと思うのですが。（最初の案はモジュールの名前もビシバシ出てくるようなガチガチの定義でした）

それほど多くない私の経験としては、**細かく定義するほど、定義しなかったことが抜けてしまう傾向があります**。

なので、逆に、定義しすぎない感じが良いのではないかなと。

## おわりに

あなたのリポジトリにも一人いかがでしょうか？

愛でてあげてください。
