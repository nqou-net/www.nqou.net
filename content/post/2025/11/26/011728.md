---
comments: true
date: 2025-11-26T01:17:28+09:00
description: GitHub Copilot の指示ファイルを copilot-instructions.md から AGENTS.md に変更し、VS Code でも正しく動作する設定を追加しました
draft: false
hidden: false
iso8601: 2025-11-26T01:17:28+09:00
tags:
  - copilot
  - ai
title: GitHub Copilot の指示ファイルを AGENTS.md に変更する

---

[@nqounet](https://x.com/nqounet)です。

GitHub Copilot を活用していると、プロジェクト固有の指示をエージェントに伝えたい場面があります。今回は、指示ファイルの配置場所を変更し、VS Code でも正しく動作するようにした作業を紹介します。

## 背景

これまで、GitHub Copilot への指示は `.github/copilot-instructions.md` に記載していました。しかし、2025年8月28日に GitHub は [Copilot coding agent now supports AGENTS.md custom instructions](https://github.blog/changelog/2025-08-28-copilot-coding-agent-now-supports-agents-md-custom-instructions/) を発表し、`AGENTS.md` がサポートされるようになりました。

`AGENTS.md` はリポジトリルートまたはサブディレクトリに配置でき、プロジェクト固有のビルド手順、テスト方法、コーディング規約などを詳細に指定できます。

そこで、指示ファイルを `AGENTS.md` に変更することにしました。

## 変更内容

### 1. ファイルのリネーム

`.github/copilot-instructions.md` の内容をリポジトリルートの `AGENTS.md` に移動しました。内容自体は変更していません。

```
.github/copilot-instructions.md → AGENTS.md
```

### 2. VS Code 設定の追加

`AGENTS.md` はリポジトリルートに配置すると GitHub Copilot Coding Agent が自動的に認識しますが、VS Code の Copilot Chat でも参照されるように設定を追加しました。

`.vscode/settings.json` を新規作成し、以下の設定を追加しました。

```json
{
    "github.copilot.chat.codeGeneration.instructions": [
        {
            "file": "AGENTS.md"
        }
    ]
}
```

この設定により、VS Code で Copilot Chat を使用する際にも `AGENTS.md` の内容が参照されるようになります。

## まとめ

GitHub Copilot の指示ファイルを `AGENTS.md` に変更する場合、以下の2点を対応すれば、VS Code でも正しく動作します。

1. 指示ファイルをリポジトリルートの `AGENTS.md` に配置する
2. `.vscode/settings.json` に `github.copilot.chat.codeGeneration.instructions` 設定を追加する

これにより、GitHub Copilot Coding Agent と VS Code Copilot Chat の両方で同じ指示ファイルを参照できるようになります。

---

本記事はバイブ・ブロギングで作成しています。
