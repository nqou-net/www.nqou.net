---
date: 2010-04-25T00:15:01+09:00
description: 何かで使えそうな気がして、Feed（RSSとかAtomとか）をウェブから取ってきてどうにかする、というのをNanoAでやってみた
draft: false
epoch: 1272122101
image: /favicon.png
iso8601: 2010-04-25T00:15:01+09:00
tags:
  - perl
title: Feedをウェブから取ってきてタイトルのリストを表示してみた

---
何かで使えそうな気がして、Feed（RSSとかAtomとか）をウェブから取ってきてどうにかする、というのをNanoAでやってみた。

- [RSSShow - NanoA@d.n.n](https://www.nqou.net)
- [nanoa/app/RSSShow/template/start.mt](https://www.nqou.net)
- [nanoa/app/RSSShow/start.pm](https://www.nqou.net)

レンタルサーバというのを考慮して、Feedの解析は[XML::FeedPP](http://search.cpan.org/dist/XML-FeedPP/)を使った。 あと、ウェブから取ってくるところは、とりあえず[LWP::Simple](http://search.cpan.org/dist/libwww-perl/lib/LWP/Simple.pm)のmirror関数を使った。 NanoAは、テンプレートにもコードがガリガリかけるので、モジュール側に変にタグを書くよりは、変数ごと渡してしまったほうがスッキリ書ける。 今回は、解析したFeedオブジェクトをそのままテンプレートに渡して、テンプレート側で展開しているのだけど、こういうのもありだなぁ。 それにしても、Feedの解析は何を使うのが一番いいのかなぁ。 RSSやAtomに特化して調べたことはあったけど。 流行っているのかもしれないけれど、parseする時に、引数の型で動作が変わるモジュールが多い。 JPA代表理事が作ったData::Feedでもそういうのが採用されている。

> Data::Feed can parse files, URIs, raw strings, and file handles. All you need to do is to pass an appropriate parameters.

\[[Data::Feed - search.cpan.org](http://search.cpan.org/dist/Data-Feed/)]

こういうのは扱いやすいですよね。 今回は、FeedのcharsetがUTF-8前提なので、他のcharsetでも対応出来るように、もう少し柔軟に書いても良いかなと思います。 まあ、いずれ。

SEE ALSO

- [\[Perl\] XML::FeedPP - RSS・RDF・Atomフィードの解析・生成・変換・結合](http://www.kawa.net/works/perl/feedpp/feedpp.html)
- [Yusuke Kawasaki / XML-FeedPP - search.cpan.org](http://search.cpan.org/dist/XML-FeedPP/)
