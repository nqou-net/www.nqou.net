---
date: 2004-09-30T04:17:47+09:00
draft: false
iso8601: 2004-09-30T04:17:47+09:00
tags:
  - web
title: ファイルキャッシュの表裏

---

HTMLファイルはキャッシュされる。  
最近のIEなどは、読もうとしたファイルの更新時間を取得して、以前キャッシュした時の更新時間と変更がなければキャッシュしたファイルを読む。  
そうすることで、通信時間をかけずに読める。  
いいことだ。

しかし、開発時はそれに悩まされることが多い。  
特にHTMLファイルではなく、JavaScriptとか外部ファイルの場合。  
変更したのに正常に動かない時、実はキャッシュを使っていただけ、という事がよくある。

だから開発時には「キャッシュを使わない」設定にしていることがある。  
ブロードバンドならば多少の通信コストは無視するという選択肢は間違いではない。と思う。

ただ、実際に使う人が「自動的に更新を確認する」設定だとやはり問題がおきる。

このMovableType3のタイプキーの管理（サインインとかサインアウト）はJavaScriptで行われている。  
サインインしたはずなのにしていないことになっている。  
そして、リロードすると（または新しいページを開くと）サインインしている。

サインアウトも同じ。

キャッシュは便利なのだが、JavaScriptによるダイナミックな変更さえもキャッシュするのはどうかと思う。
