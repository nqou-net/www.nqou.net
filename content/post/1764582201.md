---
comments: true
description: GitHub Copilotカスタムエージェントの基本概念と活用メリットを解説。AIチームメンバーを作成してワークフローを効率化する方法を紹介します。
draft: true
hidden: false
tags:
  - ai
  - copilot
  - programming
title: 【連載第1回】GitHub Copilotカスタムエージェント ― 概要とできること

---

[@nqounet](https://x.com/nqounet)です。

GitHub Copilotの進化が止まりません。2024年後半から「カスタムエージェント」という新機能が登場し、開発者のワークフローを劇的に変える可能性を秘めています。

この連載では全5回にわたり、カスタムエージェントの基礎から応用まで、実践的な知識をお伝えしていきます。第1回の今回は、カスタムエージェントとは何か、そして何ができるのかを解説します。

## カスタムエージェントとは

カスタムエージェントとは、GitHub Copilotに**特定のタスクに特化したAIアシスタント**を定義できる機能です。

通常のCopilotは汎用的なコード補完やチャット対応を行いますが、カスタムエージェントを使うと、あなたのプロジェクトやチームに特化した「専門家」を作成できます。

### 具体的な例

たとえば、以下のような専門エージェントを作成できます。

| エージェント例 | 役割 |
|--------------|------|
| READMEスペシャリスト | プロジェクトのREADMEファイルを作成・改善する |
| バグ修正エンジニア | コードベースのバグを特定し修正する |
| ドキュメントライター | APIドキュメントを自動生成する |
| コードクリーンナップ | 重複コードを削除し、リファクタリングを提案する |
| セキュリティアナリスト | 脆弱性を検出し、修正案を提示する |

これらは単なる「プロンプトのテンプレート」ではありません。エージェントはリポジトリのコンテキストを理解し、適切なツールを使って実際に作業を行います。

## なぜカスタムエージェントが必要なのか

### 1. 一貫性のあるコード品質

チーム内でコーディング規約やスタイルガイドがあっても、それを常に守るのは難しいものです。カスタムエージェントにこれらの規約を設定することで、一貫したコード品質を維持できます。

```markdown
# あなたはTypeScriptの専門家です。
# 以下の規約を厳守してください：
# - 関数は常に型注釈を付ける
# - any型は禁止
# - 変数名はcamelCaseを使用
```

### 2. オンボーディングの効率化

新しいチームメンバーがプロジェクトに参加したとき、カスタムエージェントがプロジェクト固有のルールや慣習を教えてくれます。

### 3. 繰り返し作業の自動化

テストの追加、ドキュメントの更新、コードレビューなど、繰り返し行う作業をエージェントに任せることができます。

## カスタムエージェントの仕組み

カスタムエージェントは、`.github/agents/` ディレクトリに配置されたMarkdownファイルで定義します。

```
.github/
└── agents/
    ├── readme-specialist.agent.md
    ├── bugfix-engineer.agent.md
    └── code-reviewer.agent.md
```

各ファイルには、YAMLフロントマターとMarkdownによる指示を記述します。

```markdown
---
name: readme-specialist
description: プロジェクトのREADMEファイルを作成・改善します。
tools: ["read", "edit", "search"]
---

あなたはREADMEの専門家です。
プロジェクトの構造を理解し、わかりやすいドキュメントを作成してください。
```

## カスタムエージェントのスコープ

カスタムエージェントは、複数のレベルで定義できます。

| レベル | 配置場所 | 適用範囲 |
|-------|---------|---------|
| リポジトリ | `.github/agents/` | そのリポジトリのみ |
| 組織 | `{org}/.github/agents/` | 組織全体のリポジトリ |
| ユーザー | `~/.copilot/agents/` | 個人のすべてのプロジェクト |

優先順位は「リポジトリ > 組織 > ユーザー」となります。つまり、リポジトリレベルの設定が最も優先されます。

## どこで使えるのか

カスタムエージェントは、以下の環境で利用できます。

- **GitHub.com**: Issueやプルリクエストから直接呼び出し可能
- **VS Code**: Copilot Chatのエージェントセレクターから選択
- **JetBrains IDE**: IntelliJ IDEA、PyCharm、WebStormなど
- **Eclipse**: 公式プラグイン経由
- **Xcode**: macOS環境で利用可能
- **Copilot CLI**: コマンドラインからも使用可能

## カスタムエージェントでできること

### できること

1. **ファイルの読み書き**: コードやドキュメントを読み、編集できる
2. **コード検索**: リポジトリ内のコードを検索できる
3. **コマンド実行**: ビルドやテストなどのコマンドを実行できる
4. **外部ツール連携**: MCP（Model Context Protocol）を通じて外部サービスと連携できる
5. **プルリクエスト作成**: 変更をコミットしてPRを作成できる

### 注意点

- エージェントはあくまでも**人間の監督下**で動作します
- 重要な変更は必ずレビューが必要です
- シークレットや認証情報へのアクセスは制限されています

## 従来の指示ファイルとの違い

これまでにも、Copilotへの指示を行う方法がいくつかありました。

| 種類 | ファイル | 特徴 |
|-----|---------|------|
| AGENTS.md | ルート/サブディレクトリ | 業界標準、複数のAIサービスで利用可能 |
| copilot-instructions.md | `.github/` | GitHub Copilot固有、自動認識 |
| instructions/ | `.github/instructions/` | ファイルパターンごとに設定可能 |
| **カスタムエージェント** | `.github/agents/` | タスク特化型、ツール制限可能 |

カスタムエージェントは、特定のタスクに「ペルソナ」を持たせられる点が大きな違いです。指示ファイルがプロジェクト全体のルールを定めるのに対し、カスタムエージェントは特定の役割を持つ専門家として振る舞います。

## 連載の予告

次回以降、以下の内容を解説していきます。

| 回 | タイトル | 内容 |
|---|---------|------|
| 第2回 | セットアップ・基本設定 | `.github/agents/` の構成と設定方法 |
| 第3回 | 具体的ユースケース | 自社ワークフロー最適化の実践例 |
| 第4回 | 保守・管理・セキュリティ | 運用上の注意点とベストプラクティス |
| 第5回 | 応用編 | MCPサーバー連携と発展的な活用 |

## まとめ

GitHub Copilotカスタムエージェントは、AIを「チームメンバー」として活用するための強力な機能です。

- **タスク特化型のAIアシスタント**を作成できる
- **リポジトリ・組織・個人**の各レベルで定義可能
- **ツール制限**により安全に運用できる
- 従来の指示ファイルとは異なる**ペルソナベース**のアプローチ

次回は、実際にカスタムエージェントをセットアップする手順を詳しく解説します。お楽しみに！

## 参考資料

- [Custom agents configuration - GitHub Docs](https://docs.github.com/en/copilot/reference/custom-agents-configuration)
- [Creating custom agents - GitHub Docs](https://docs.github.com/en/copilot/how-tos/use-copilot-agents/coding-agent/create-custom-agents)
- [Custom agents for GitHub Copilot - GitHub Changelog](https://github.blog/changelog/2025-10-28-custom-agents-for-github-copilot/)
