---
title: "GitHub Copilot エージェントパネル入門 - 第1回: 基本概念とセットアップ"
description: "GitHub Copilot のエージェントパネルを使ったオーケストレーション活用の第一歩。基本概念、アーキテクチャ、環境構築を丁寧に解説します"
date: 2025-12-02T15:00:00+09:00
draft: true
tags:
  - GitHub
  - Copilot
  - Agent Panel
  - AI
  - 開発環境
image: /favicon.png
---

## はじめに

[@nqounet](https://x.com/nqounet)です。

GitHub Copilot の「エージェントパネル」は、AI駆動の開発ワークフローを実現する強力な機能です。本連載（全12回）では、エージェントパネルを使った Copilot のオーケストレーション活用を、ハンズオン形式で体系的に学んでいきます。

この第1回では、エージェントパネルの基本概念とセットアップ方法を解説します。

## エージェントパネルとは

エージェントパネルは、GitHub Copilot の拡張機能で、複数のAIエージェントを協調動作させるためのインターフェースです。従来のコード補完を超えて、以下のような高度なタスクを自動化できます：

- コードレビューの自動化
- ドキュメント生成
- テストコードの自動生成
- リファクタリング提案
- セキュリティチェック

### アーキテクチャの概要

```
┌─────────────────────────────────────┐
│     GitHub Copilot IDE拡張機能      │
└──────────────┬──────────────────────┘
               │
┌──────────────▼──────────────────────┐
│       エージェントパネル              │
│  ┌────────────────────────────┐    │
│  │  エージェントオーケストレータ │    │
│  └────────┬───────────────────┘    │
│           │                         │
│  ┌────────▼──────┬─────────┬─────┐│
│  │ エージェントA  │エージェントB│ ... ││
│  └───────────────┴─────────┴─────┘│
└─────────────────────────────────────┘
```

エージェントパネルでは：
1. **オーケストレータ**が全体の処理フローを制御
2. 各**エージェント**が特定のタスクを担当
3. エージェント間で**データを受け渡し**ながら協調動作

## 前提知識と準備

### 必要な知識

- **初級レベル**：VS Codeの基本操作
- **推奨**：GitとGitHubの基本（リポジトリ、コミット、プルリクエスト）
- **推奨**：Markdownの基本記法

### 必要な環境

1. **GitHub アカウント**
   - GitHub Copilot のサブスクリプション（Individual/Business/Enterprise）

2. **Visual Studio Code**
   - バージョン 1.85.0 以降推奨

3. **GitHub Copilot 拡張機能**
   - VS Code Marketplace からインストール

## セットアップ手順

### ステップ1: VS Code に GitHub Copilot をインストール

```bash
# VS Code の拡張機能ビューを開く（Ctrl+Shift+X / Cmd+Shift+X）
# "GitHub Copilot" を検索してインストール
```

インストール後、以下の拡張機能が有効になります：
- `GitHub.copilot` - メインの Copilot 拡張機能
- `GitHub.copilot-chat` - Copilot Chat 機能

### ステップ2: GitHub アカウントでサインイン

1. VS Code の右下に表示される通知から「Sign in to GitHub」をクリック
2. ブラウザが開き、GitHub の認証画面が表示される
3. 認証を完了すると VS Code に戻る
4. ステータスバーに Copilot のアイコンが表示される

### ステップ3: エージェントパネルの有効化

エージェントパネルはプレビュー機能のため、設定で有効化する必要があります：

```json
// settings.json に追加
{
  "github.copilot.enable": {
    "*": true
  },
  "github.copilot.advanced": {
    "agentPanel.enabled": true
  }
}
```

設定ファイルを開く方法：
1. `Ctrl+Shift+P` / `Cmd+Shift+P` でコマンドパレットを開く
2. "Preferences: Open Settings (JSON)" を選択
3. 上記の設定を追加して保存

### ステップ4: エージェントパネルを開く

```
コマンドパレット（Ctrl+Shift+P / Cmd+Shift+P）
→ "Copilot: Open Agent Panel" を実行
```

または、ショートカットキー：
- Windows/Linux: `Ctrl+Alt+A`
- macOS: `Cmd+Option+A`

成功すると、VS Code のサイドバーにエージェントパネルが表示されます。

## エージェントパネルの基本UI

エージェントパネルは以下の要素で構成されています：

```
┌─────────────────────────────────┐
│ 🤖 Agent Panel                  │
├─────────────────────────────────┤
│ [+ New Workflow]                │
├─────────────────────────────────┤
│ 📋 Active Workflows             │
│  • Code Review (running)        │
│  • Documentation Gen (idle)     │
├─────────────────────────────────┤
│ 🔧 Available Agents             │
│  • Code Reviewer                │
│  • Documentation Writer         │
│  • Test Generator               │
│  • Security Checker             │
└─────────────────────────────────┘
```

### 主要な構成要素

1. **ワークフロー作成ボタン**
   - 新しいオーケストレーションフローを開始

2. **アクティブなワークフロー**
   - 現在実行中/待機中のタスク一覧
   - 各ワークフローのステータスを確認

3. **利用可能なエージェント**
   - 使用できるエージェントの一覧
   - デフォルトエージェント + カスタムエージェント

## 初めてのエージェント実行

まずは、シンプルなコードレビューエージェントを実行してみましょう。

### 1. テスト用のコードファイルを作成

```javascript
// test.js
function calculateSum(a, b) {
  return a + b;
}

function calculateProduct(a, b) {
  var result = a * b;
  return result;
}
```

### 2. エージェントパネルからコードレビューを実行

1. `test.js` を開いた状態でエージェントパネルを表示
2. "Available Agents" から "Code Reviewer" を選択
3. "Run on Current File" をクリック

### 3. 結果の確認

エージェントが以下のような分析結果を返します：

```markdown
## Code Review Results

### Issues Found:
1. **Line 7**: Use `const` or `let` instead of `var`
   - Severity: Warning
   - Suggestion: Replace `var result` with `const result`

2. **Function Naming**: Consider more descriptive names
   - `calculateSum` → OK
   - `calculateProduct` → OK

### Code Quality Score: 85/100

### Recommendations:
- Apply modern JavaScript standards (ES6+)
- Add JSDoc comments for better documentation
```

## 動作確認チェックリスト

ここまでの手順が正しく完了したか、以下のチェックリストで確認しましょう：

- [ ] VS Code に GitHub Copilot 拡張機能がインストールされている
- [ ] GitHub アカウントでサインインが完了している
- [ ] ステータスバーに Copilot アイコンが表示されている
- [ ] エージェントパネルが正常に開く
- [ ] "Available Agents" にデフォルトエージェントが表示されている
- [ ] テストファイルでエージェントを実行できた
- [ ] エージェントからの応答が表示された

すべてにチェックが入れば、環境構築は完了です！

## トラブルシューティング

### エージェントパネルが表示されない

**原因**：設定が有効になっていない、または拡張機能のバージョンが古い

**対処法**：
```json
// settings.json を再確認
{
  "github.copilot.advanced": {
    "agentPanel.enabled": true
  }
}
```

VS Code を再起動して、拡張機能が最新版か確認してください。

### "No agents available" と表示される

**原因**：ネットワーク接続の問題、またはサブスクリプションの問題

**対処法**：
1. インターネット接続を確認
2. GitHub Copilot のサブスクリプション状態を確認
3. VS Code の出力パネルでエラーログを確認

```
View → Output → GitHub Copilot でログを確認
```

### エージェントが応答しない

**原因**：APIのレート制限、またはタイムアウト

**対処法**：
1. 数分待ってから再試行
2. より小さなファイルでテスト
3. ネットワーク設定（プロキシなど）を確認

## エージェントパネルの設定オプション

エージェントパネルの動作は、`settings.json` で細かくカスタマイズできます：

```json
{
  "github.copilot.advanced": {
    "agentPanel.enabled": true,
    "agentPanel.maxConcurrentAgents": 3,
    "agentPanel.timeout": 30000,
    "agentPanel.debug": false
  }
}
```

### 設定項目の説明

| 設定項目 | デフォルト | 説明 |
|---------|-----------|------|
| `enabled` | `false` | エージェントパネルの有効/無効 |
| `maxConcurrentAgents` | `3` | 同時実行可能なエージェント数 |
| `timeout` | `30000` | タイムアウト時間（ミリ秒） |
| `debug` | `false` | デバッグログの出力有効化 |

## 次回予告

第2回では、実際にカスタムエージェントを作成します：

- エージェント定義ファイルの作成
- 基本的なプロンプトの記述
- エージェントの登録と実行
- パラメータの受け渡し

## まとめ

この記事では、GitHub Copilot のエージェントパネルについて以下を学びました：

1. **エージェントパネルの基本概念**
   - 複数のAIエージェントを協調動作させるインターフェース
   - オーケストレータによる処理フロー制御

2. **環境構築の手順**
   - VS Code と GitHub Copilot のインストール
   - エージェントパネルの有効化
   - 初めてのエージェント実行

3. **基本的な使い方**
   - エージェントパネルのUI構成
   - デフォルトエージェントの実行
   - 結果の確認方法

次回は、さらに一歩進んで、独自のカスタムエージェントを作成していきます。お楽しみに！

## 参考リンク

- [GitHub Copilot 公式ドキュメント](https://docs.github.com/en/copilot)
- [VS Code 拡張機能マーケットプレイス](https://marketplace.visualstudio.com/items?itemName=GitHub.copilot)
- [GitHub Copilot Chat ドキュメント](https://docs.github.com/en/copilot/github-copilot-chat)
