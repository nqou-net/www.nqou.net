---
date: 2014-05-12T07:46:04+09:00
draft: false
iso8601: 2014-05-12T07:46:04+09:00
tags:
  - undef
title: nqou.netをバージョンアップ

---

[@nqounet](https://twitter.com/nqounet)です。

表面上は変わっていませんが、バージョンアップさせました。

## 衝撃のusemin

jsファイルの重複生成が気になっていたので[ブログを書いている最中に閃いたusemin.htmlを作成する方法](/2014/05/12/001305 "grunt-useminでファイルの重複処理が気になる年頃")に基づいて書き直しました。

その時に、index.htmlとsnow.htmlで違うjsファイルを生成していることに気づきました。自分でも何故だかわかりません。

また、rsyncのほうでは、usemin.htmlとサンプル集のディレクトリを除外して、転送したり削除したりしないようにもしました。

転送を確認するためのdryRun設定も、本番環境と同じになるように設定しました。

dryRunで確認していなければ、サンプル集をうっかり削除するところでした。

サンプル集も同一リポジトリで管理すれば良いのですが、これはこれで完結しているのだと思います。

サブディレクトリが増えてきたら、また考えればよいでしょう。

差分（変更した部分）はこちらです。

- [useminに関する設定を追加(master) · 569f415 · nqounet/web-nqou_net](https://github.com/nqounet/web-nqou_net/commit/569f4158b37ac2e3a699cae442768e102350300f)
