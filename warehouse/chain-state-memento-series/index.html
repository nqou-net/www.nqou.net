<!doctype html><html lang=ja dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Chain of Responsibility × State × Memento パターン組み合わせ徹底調査報告書 エグゼクティブサマリー 調査実施日: 2026年1月某日\n調査目的: Perlでの「Chain of Responsibility × State × Memento」デザインパターン組み合わせ連載構造案作成のための情報収集\n"><title></title><link rel=canonical href=https://www.nqou.net/warehouse/chain-state-memento-series/><link rel=stylesheet href=/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css><meta property='og:title' content><meta property='og:description' content="Chain of Responsibility × State × Memento パターン組み合わせ徹底調査報告書 エグゼクティブサマリー 調査実施日: 2026年1月某日\n調査目的: Perlでの「Chain of Responsibility × State × Memento」デザインパターン組み合わせ連載構造案作成のための情報収集\n"><meta property='og:url' content='https://www.nqou.net/warehouse/chain-state-memento-series/'><meta property='og:site_name' content='設計パターンを疑え'><meta property='og:type' content='article'><meta property='article:section' content='Warehouse'><meta property='article:published_time' content='2026-01-31T23:54:23+09:00'><meta property='article:modified_time' content='2026-01-31T23:54:23+09:00'><meta property='og:image' content='https://www.nqou.net/favicon.png'><meta name=twitter:title content><meta name=twitter:description content="Chain of Responsibility × State × Memento パターン組み合わせ徹底調査報告書 エグゼクティブサマリー 調査実施日: 2026年1月某日\n調査目的: Perlでの「Chain of Responsibility × State × Memento」デザインパターン組み合わせ連載構造案作成のための情報収集\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://www.nqou.net/favicon.png'><link rel="shortcut icon" href=/favicon.png><style>@import 'https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap';:root{--base-font-family:Arial, "Noto Sans JP", sans-serif}</style><link rel=stylesheet href=/css/linkcard.css><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3923446804785015" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js defer></script><script defer>document.addEventListener("DOMContentLoaded",function(){try{typeof mermaid!="undefined"&&document.querySelector(".mermaid")&&mermaid.initialize({startOnLoad:!0,securityLevel:"strict"})}catch(e){console.warn("Mermaid failed to initialize:",e)}})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-E50H9ESN7E"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-E50H9ESN7E")</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=メニューを開く・閉じる>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/public_images/blog-nqounet-square.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>設計パターンを疑え</a></h1><h2 class=site-description>名前の嘘を暴き、意図で設計を語る</h2></div></header><ol class=menu-social><li><a href=https://github.com/nqounet target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://x.com/nqounet target=_blank title=X rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/advent-calendar-2025/><svg class="icon icon-tabler icon-tabler-calendar" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="5" width="16" height="16" rx="2"/><line x1="16" y1="3" x2="16" y2="7"/><line x1="8" y1="3" x2="8" y2="7"/><line x1="4" y1="11" x2="20" y2="11"/><path d="M8 15h.01"/><path d="M12 15h.01"/><path d="M16 15h.01"/><path d="M8 19h.01"/><path d="M12 19h.01"/><path d="M16 19h.01"/></svg>
<span>Perl Advent Calendar 2025 - AI Edition</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/warehouse/><svg class="icon icon-tabler icon-tabler-warehouse" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10l9-6 9 6"/><rect x="5" y="10" width="14" height="10" rx="2"/><rect x="10" y="14" width="4" height="6" rx="1"/><path d="M7 20v-4h2v4"/><path d="M15 20v-4h2v4"/></svg>
<span>Warehouse</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>ダークモード</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目次</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#エグゼクティブサマリー>エグゼクティブサマリー</a></li><li><a href=#1-各パターンの本質と相互関係>1. 各パターンの本質と相互関係</a><ol><li><a href=#11-chain-of-responsibility責任の連鎖>1.1 Chain of Responsibility（責任の連鎖）</a></li><li><a href=#12-state状態>1.2 State（状態）</a></li><li><a href=#13-mementoメメント>1.3 Memento（メメント）</a></li><li><a href=#14-3パターンの組み合わせる意義>1.4 3パターンの組み合わせる意義</a></li><li><a href=#15-典型的な使用場面>1.5 典型的な使用場面</a><ol><li><a href=#a-ワークフロー管理システム最も自然な適用例>A. ワークフロー管理システム（最も自然な適用例）</a></li><li><a href=#b-ゲーム開発>B. ゲーム開発</a></li><li><a href=#c-guiエディタテキストエディタ画像エディタ>C. GUIエディタ（テキストエディタ、画像エディタ）</a></li><li><a href=#d-対話システムチャットボット>D. 対話システム/チャットボット</a></li></ol></li></ol></li><li><a href=#2-実装上の注意点perl--moo>2. 実装上の注意点（Perl + Moo）</a><ol><li><a href=#21-mooでの3パターン実装のベストプラクティス>2.1 Mooでの3パターン実装のベストプラクティス</a><ol><li><a href=#a-chain-of-responsibility-パターン>A. Chain of Responsibility パターン</a></li><li><a href=#b-state-パターン>B. State パターン</a></li><li><a href=#c-memento-パターン>C. Memento パターン</a></li></ol></li><li><a href=#22-perl-v536の機能活用>2.2 Perl v5.36の機能活用</a><ol><li><a href=#a-subroutine-signaturesサブルーチンシグネチャ>A. Subroutine Signatures（サブルーチンシグネチャ）</a></li><li><a href=#b-postfix-dereference後置デリファレンス>B. Postfix Dereference（後置デリファレンス）</a></li><li><a href=#c-isa演算子>C. isa演算子</a></li></ol></li><li><a href=#23-よくある実装上の落とし穴>2.3 よくある実装上の落とし穴</a><ol><li><a href=#a-moo固有の落とし穴>A. Moo固有の落とし穴</a></li><li><a href=#b-chain-of-responsibilityの落とし穴>B. Chain of Responsibilityの落とし穴</a></li><li><a href=#c-stateパターンの落とし穴>C. Stateパターンの落とし穴</a></li><li><a href=#d-mementoパターンの落とし穴>D. Mementoパターンの落とし穴</a></li></ol></li></ol></li><li><a href=#3-競合記事既存コンテンツ分析>3. 競合記事・既存コンテンツ分析</a><ol><li><a href=#31-nqounet-の連載シリーズ>3.1 nqou.net の連載シリーズ</a></li><li><a href=#32-差別化ポイントの提案>3.2 差別化ポイントの提案</a></li><li><a href=#33-日本語での既存コンテンツ調査結果>3.3 日本語での既存コンテンツ調査結果</a></li></ol></li><li><a href=#4-実践的なユースケース詳細>4. 実践的なユースケース詳細</a><ol><li><a href=#41-ワークフローエンジン最推奨>4.1 ワークフローエンジン（最推奨）</a></li><li><a href=#42-ゲーム開発rpg>4.2 ゲーム開発（RPG）</a></li><li><a href=#43-テキストエディタ>4.3 テキストエディタ</a></li><li><a href=#44-会話システムチャットボット>4.4 会話システム/チャットボット</a></li></ol></li><li><a href=#5-総合推奨事項>5. 総合推奨事項</a><ol><li><a href=#51-連載構成案>5.1 連載構成案</a></li><li><a href=#52-差別化戦略>5.2 差別化戦略</a></li><li><a href=#53-リスクと仮定>5.3 リスクと仮定</a></li></ol></li><li><a href=#6-参考文献出典一覧>6. 参考文献・出典一覧</a><ol><li><a href=#書籍>書籍</a></li><li><a href=#web記事英語>Web記事（英語）</a></li><li><a href=#web記事日本語>Web記事（日本語）</a></li><li><a href=#公式ドキュメント>公式ドキュメント</a></li></ol></li><li><a href=#7-結論>7. 結論</a><ol><li><a href=#主要発見事項のサマリー>主要発見事項のサマリー</a></li><li><a href=#連載の実現可能性>連載の実現可能性</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/warehouse/chain-state-memento-series/><img src=/favicon.png loading=lazy alt="Featured image of post "></a></div><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/warehouse/chain-state-memento-series/></a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>1月 31, 2026</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>読了時間: 21分</time></div></footer></div></header><section class=article-content><h1 id=chain-of-responsibility--state--memento-パターン組み合わせ徹底調査報告書>Chain of Responsibility × State × Memento パターン組み合わせ徹底調査報告書</h1><h2 id=エグゼクティブサマリー>エグゼクティブサマリー</h2><p><strong>調査実施日</strong>: 2026年1月某日<br><strong>調査目的</strong>: Perlでの「Chain of Responsibility × State × Memento」デザインパターン組み合わせ連載構造案作成のための情報収集</p><p><strong>重要発見事項</strong>:</p><ol><li>✅ <strong>nqou.netに既存の競合シリーズが存在</strong> - Perl/Mooによるデザインパターン連載が既に展開中</li><li>✅ <strong>3パターン組み合わせは実用性が高い</strong> - ワークフローエンジン、ゲーム開発、エディタなど複数の実践的ユースケースが確認済み</li><li>⚠️ <strong>日本語での3パターン統合解説は希少</strong> - 個別パターンの解説は豊富だが、3つを組み合わせた日本語記事はほぼ皆無</li></ol><hr><h2 id=1-各パターンの本質と相互関係>1. 各パターンの本質と相互関係</h2><h3 id=11-chain-of-responsibility責任の連鎖>1.1 Chain of Responsibility（責任の連鎖）</h3><p><strong>本質</strong>:</p><ul><li>複数のハンドラオブジェクトをチェーン状に連結し、リクエストを順次処理</li><li>各ハンドラは処理可能なら処理、不可能なら次のハンドラに委譲</li><li>送信者と受信者の疎結合を実現</li></ul><p><strong>出典</strong>:</p><ul><li>refactoring.guru「Chain of Responsibility」</li><li>GeeksforGeeks「Chain of Responsibility Design Pattern」</li><li>URL: <a class=link href=https://refactoring.guru/design-patterns/chain-of-responsibility target=_blank rel=noopener>https://refactoring.guru/design-patterns/chain-of-responsibility</a></li></ul><p><strong>信頼度</strong>: 10/10（GoF公式パターン、広範な文献で一致）</p><hr><h3 id=12-state状態>1.2 State（状態）</h3><p><strong>本質</strong>:</p><ul><li>オブジェクトの内部状態に応じて振る舞いを動的に変更</li><li>各状態をクラス化することで、条件分岐を排除</li><li>状態遷移ロジックを明示的に管理</li></ul><p><strong>出典</strong>:</p><ul><li>momentslog.com「Applying the State Pattern in Workflow Engines」</li><li>note「デザインパターン: State」</li><li>URL: <a class=link href=https://www.momentslog.com/development/design-pattern/applying-the-state-pattern-in-workflow-engines-for-dynamic-process-management target=_blank rel=noopener>https://www.momentslog.com/development/design-pattern/applying-the-state-pattern-in-workflow-engines-for-dynamic-process-management</a></li></ul><p><strong>信頼度</strong>: 10/10（GoF公式パターン）</p><hr><h3 id=13-mementoメメント>1.3 Memento（メメント）</h3><p><strong>本質</strong>:</p><ul><li>オブジェクトの状態をカプセル化を破らずに外部化し、保存・復元</li><li>Undo/Redo、チェックポイント、セーブ/ロード機能の基盤</li><li>Originator・Memento・Caretakerの3役構成</li></ul><p><strong>出典</strong>:</p><ul><li>refactoring.guru「Memento」</li><li>GeeksforGeeks「Memento Design Pattern」</li><li>Qiita「MementoパターンでUndo/Redo機能を実装」</li><li>URL: <a class=link href=https://qiita.com/Tadataka_Takahashi/items/5d39ccb10d51c6f11e94 target=_blank rel=noopener>https://qiita.com/Tadataka_Takahashi/items/5d39ccb10d51c6f11e94</a></li></ul><p><strong>信頼度</strong>: 10/10（GoF公式パターン）</p><hr><h3 id=14-3パターンの組み合わせる意義>1.4 3パターンの組み合わせる意義</h3><p><strong>統合パターンの価値</strong>:</p><ol><li><p><strong>分離された責任領域</strong></p><ul><li>Chain of Responsibility: 「誰が処理するか」のルーティング</li><li>State: 「どのように振る舞うか」の動的制御</li><li>Memento: 「過去にどうだったか」の履歴管理</li></ul></li><li><p><strong>相互補完関係</strong></p><ul><li>Stateで管理される状態をMementoで保存</li><li>Chain of Responsibilityで処理されるリクエストが状態遷移を引き起こす</li><li>状態変更前にMementoを作成することでUndo/Redoを実現</li></ul></li><li><p><strong>エンタープライズレベルの堅牢性</strong></p><ul><li>エラー時のロールバック（Memento）</li><li>柔軟な処理フロー（Chain of Responsibility）</li><li>複雑な状態管理（State）</li></ul></li></ol><p><strong>出典</strong>:</p><ul><li>AI検索結果「Combining the Chain of Responsibility, State, and Memento design patterns」</li><li>Stack Overflow「Memento design pattern and State design pattern」</li><li>URL: <a class=link href=https://stackoverflow.com/questions/18420376/memento-design-pattern-and-state-design-pattern target=_blank rel=noopener>https://stackoverflow.com/questions/18420376/memento-design-pattern-and-state-design-pattern</a></li></ul><p><strong>信頼度</strong>: 8/10（理論的根拠は強固だが、実装例がやや少ない）</p><hr><h3 id=15-典型的な使用場面>1.5 典型的な使用場面</h3><h4 id=a-ワークフロー管理システム最も自然な適用例>A. ワークフロー管理システム（最も自然な適用例）</h4><p><strong>構成</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>文書承認フロー例:
</span></span><span class=line><span class=cl>- Chain of Responsibility: 承認者の連鎖（担当者→課長→部長→役員）
</span></span><span class=line><span class=cl>- State: 文書状態（Draft → Review → Approved → Archived）
</span></span><span class=line><span class=cl>- Memento: 各承認段階のスナップショット保存
</span></span></code></pre></td></tr></table></div></div><p><strong>理由</strong>:</p><ul><li>承認プロセスは本質的にチェーン構造</li><li>文書の状態遷移が明確</li><li>差し戻しや監査のために履歴保存が必須</li></ul><p><strong>出典</strong>: AI検索「State pattern Memento pattern combination workflow engine」<br><strong>信頼度</strong>: 9/10（複数の実例が確認できる）</p><hr><h4 id=b-ゲーム開発>B. ゲーム開発</h4><p><strong>構成</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>RPGゲームエンジン例:
</span></span><span class=line><span class=cl>- Chain of Responsibility: イベント処理（UI層→ゲームロジック層→物理エンジン層）
</span></span><span class=line><span class=cl>- State: プレイヤー/敵の状態（通常→攻撃中→ダメージ→死亡）
</span></span><span class=line><span class=cl>- Memento: セーブ/ロード、リプレイ、チェックポイント
</span></span></code></pre></td></tr></table></div></div><p><strong>理由</strong>:</p><ul><li>イベント処理の優先順位付けが必要</li><li>キャラクター状態が複雑</li><li>セーブ/ロード機能は必須</li></ul><p><strong>出典</strong>:</p><ul><li>Unity PDF「ゲームプログラミングのパターンを活用してコードをレベルアップさせる」</li><li>Qiita「デザインパターン State」ゲーム例</li><li>URL: <a class=link href=https://unity3d.jp/wp-content/uploads/2024/09/9Level-up-your-code-with-Game-Programming-Pattern_JAP.pdf target=_blank rel=noopener>https://unity3d.jp/wp-content/uploads/2024/09/9Level-up-your-code-with-Game-Programming-Pattern_JAP.pdf</a></li></ul><p><strong>信頼度</strong>: 9/10（ゲーム業界での標準的パターン）</p><hr><h4 id=c-guiエディタテキストエディタ画像エディタ>C. GUIエディタ（テキストエディタ、画像エディタ）</h4><p><strong>構成</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>テキストエディタ例:
</span></span><span class=line><span class=cl>- Chain of Responsibility: コマンド処理（検証→実行→ログ）
</span></span><span class=line><span class=cl>- State: エディタモード（挿入モード→コマンドモード→ビジュアルモード）
</span></span><span class=line><span class=cl>- Memento: Undo/Redo履歴
</span></span></code></pre></td></tr></table></div></div><p><strong>理由</strong>:</p><ul><li>複雑なコマンド処理パイプライン</li><li>モード切替による振る舞い変化</li><li>Undo/Redoは基本機能</li></ul><p><strong>出典</strong>:</p><ul><li>Qiita「MementoパターンでUndo/Redo機能を実装：テキストエディタの状態管理」</li><li>momentslog「Memento Pattern in Text Editors」</li><li>URL: <a class=link href=https://www.momentslog.com/development/design-pattern/memento-pattern-in-text-editors-undo-redo-history-management target=_blank rel=noopener>https://www.momentslog.com/development/design-pattern/memento-pattern-in-text-editors-undo-redo-history-management</a></li></ul><p><strong>信頼度</strong>: 10/10（実装例が豊富）</p><hr><h4 id=d-対話システムチャットボット>D. 対話システム/チャットボット</h4><p><strong>構成</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>タスク指向型対話システム例:
</span></span><span class=line><span class=cl>- Chain of Responsibility: 意図解釈（スロット抽出→権限確認→フォールバック）
</span></span><span class=line><span class=cl>- State: 対話状態（質問待ち→確認中→完了）
</span></span><span class=line><span class=cl>- Memento: 会話履歴、コンテキスト復元
</span></span></code></pre></td></tr></table></div></div><p><strong>理由</strong>:</p><ul><li>多段階の自然言語処理パイプライン</li><li>対話フローの状態管理</li><li>コンテキストの保存が必要</li></ul><p><strong>出典</strong>:</p><ul><li>Qiita「対話システム（Dialogue systems）の研究動向①」</li><li>note「複合AIシステムのデザインパターン（対話型AI、CoPilot、RAG）」</li><li>URL: <a class=link href=https://note.com/ippei_suzuki_us/n/n1f3f9a8f9b4a target=_blank rel=noopener>https://note.com/ippei_suzuki_us/n/n1f3f9a8f9b4a</a></li></ul><p><strong>信頼度</strong>: 7/10（理論的には適用可能だが、実装例がやや少ない）</p><hr><h2 id=2-実装上の注意点perl--moo>2. 実装上の注意点（Perl + Moo）</h2><h3 id=21-mooでの3パターン実装のベストプラクティス>2.1 Mooでの3パターン実装のベストプラクティス</h3><h4 id=a-chain-of-responsibility-パターン>A. Chain of Responsibility パターン</h4><p><strong>推奨アプローチ</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=c1># Moo::Roleで共通インターフェースを定義</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>ChainHandler</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo::Role</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>next_handler</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;rw&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>requires</span> <span class=s>&#39;handle&#39;</span><span class=p>;</span>  <span class=c1># 実装クラスで必須</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 具体的ハンドラ</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>ConcreteHandler</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>with</span> <span class=s>&#39;ChainHandler&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>handle</span><span class=p>($self, $request) {</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nv>$self</span><span class=o>-&gt;</span><span class=n>can_handle</span><span class=p>(</span><span class=nv>$request</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1># 処理</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>elsif</span> <span class=p>(</span><span class=nv>$self</span><span class=o>-&gt;</span><span class=n>next_handler</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>next_handler</span><span class=o>-&gt;</span><span class=n>handle</span><span class=p>(</span><span class=nv>$request</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>重要ポイント</strong>:</p><ol><li><strong>Moo::Roleでインターフェースを統一</strong></li><li><strong>チェーン構築をファクトリで分離</strong>（ハンドラ自身にチェーン構築ロジックを持たせない）</li><li><strong>フォールバックハンドラを必ず用意</strong>（無限ループ防止）</li></ol><p><strong>出典</strong>:</p><ul><li>nqou.net「第3回-【Perl/Moo】バリデータをチェーンで連携 - Chain of Responsibilityパターン入門」</li><li>Perl Maven「OOP with Moo」</li><li>URL: <a class=link href=https://www.nqou.net/2026/01/09/100200/ target=_blank rel=noopener>https://www.nqou.net/2026/01/09/100200/</a>（アクセス不可だったが検索結果で確認）</li></ul><p><strong>信頼度</strong>: 9/10（nqou.netに実装例あり）</p><hr><h4 id=b-state-パターン>B. State パターン</h4><p><strong>推奨アプローチ</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=c1># 状態の基底Role</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>State::Base</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo::Role</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>requires</span> <span class=s>&#39;handle_request&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 具体的な状態</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>State::Draft</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>with</span> <span class=s>&#39;State::Base&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>handle_request</span><span class=p>($self, $context) {</span>
</span></span><span class=line><span class=cl>    <span class=c1># Draft状態特有の処理</span>
</span></span><span class=line><span class=cl>    <span class=nv>$context</span><span class=o>-&gt;</span><span class=n>state</span><span class=p>(</span><span class=nn>State::Review</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>);</span>  <span class=c1># 状態遷移</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># コンテキスト（状態を保持するオブジェクト）</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>Document</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>state</span> <span class=o>=&gt;</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;rw&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>isa</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span> <span class=nv>$_</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>-&gt;</span><span class=n>does</span><span class=p>(</span><span class=s>&#39;State::Base&#39;</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>die</span> <span class=s>&#34;Not a state!&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>request</span><span class=p>($self) {</span>
</span></span><span class=line><span class=cl>    <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>state</span><span class=o>-&gt;</span><span class=n>handle_request</span><span class=p>(</span><span class=nv>$self</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>重要ポイント</strong>:</p><ol><li><strong>状態オブジェクト自体はステートレス/イミュータブル</strong></li><li><strong>状態遷移はContextクラスが管理</strong></li><li><strong>isaサブルーチンで型チェック</strong>（Mooは標準で型システムを持たない）</li></ol><p><strong>出典</strong>:</p><ul><li>Perl Maven「OOP with Moo」</li><li>LPW-2025 PDF「Design Patterns in Modern Perl」</li><li>URL: <a class=link href=https://manwar.org/talks/LPW-2025.pdf target=_blank rel=noopener>https://manwar.org/talks/LPW-2025.pdf</a></li></ul><p><strong>信頼度</strong>: 8/10（実装例はあるが、Moo特有のサンプルは少ない）</p><hr><h4 id=c-memento-パターン>C. Memento パターン</h4><p><strong>推奨アプローチ</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=c1># Memento（スナップショット）</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>DocumentMemento</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>state_snapshot</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>content_snapshot</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Originator（元のオブジェクト）</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>Document</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>content</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;rw&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>state</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;rw&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>create_memento</span><span class=p>($self) {</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nn>DocumentMemento</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>state_snapshot</span> <span class=o>=&gt;</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>state</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>content_snapshot</span> <span class=o>=&gt;</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>content</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>restore</span><span class=p>($self, $memento) {</span>
</span></span><span class=line><span class=cl>    <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>state</span><span class=p>(</span><span class=nv>$memento</span><span class=o>-&gt;</span><span class=n>state_snapshot</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>content</span><span class=p>(</span><span class=nv>$memento</span><span class=o>-&gt;</span><span class=n>content_snapshot</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Caretaker（履歴管理）</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>History</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>_history</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span> <span class=n>default</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span> <span class=o>[]</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>_current_index</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;rw&#39;</span><span class=p>,</span> <span class=n>default</span> <span class=o>=&gt;</span> <span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>push</span><span class=p>($self, $memento) {</span>
</span></span><span class=line><span class=cl>    <span class=c1># Redo履歴をクリア</span>
</span></span><span class=line><span class=cl>    <span class=nb>splice</span> <span class=nv>@</span><span class=p>{</span><span class=nv>$self</span><span class=o>-&gt;</span><span class=n>_history</span><span class=p>},</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>_current_index</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nb>push</span> <span class=nv>@</span><span class=p>{</span><span class=nv>$self</span><span class=o>-&gt;</span><span class=n>_history</span><span class=p>},</span> <span class=nv>$memento</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>_current_index</span><span class=p>(</span><span class=nv>$self</span><span class=o>-&gt;</span><span class=n>_current_index</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>undo</span><span class=p>($self) {</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=k>if</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>_current_index</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>_current_index</span><span class=p>(</span><span class=nv>$self</span><span class=o>-&gt;</span><span class=n>_current_index</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>_history</span><span class=o>-&gt;</span><span class=p>[</span><span class=nv>$self</span><span class=o>-&gt;</span><span class=n>_current_index</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>重要ポイント</strong>:</p><ol><li><strong>Mementoは読み取り専用（is => &lsquo;ro&rsquo;）</strong></li><li><strong>Caretakerでundo/redoスタック管理</strong></li><li><strong>深いコピーが必要な場合はStorableモジュール使用</strong></li></ol><p><strong>出典</strong>:</p><ul><li>一般的なMementoパターン実装例（Perl版）</li><li>GeeksforGeeks「Memento Design Pattern」</li></ul><p><strong>信頼度</strong>: 8/10（Perl特有の実装例は少ないが、パターン自体は明確）</p><hr><h3 id=22-perl-v536の機能活用>2.2 Perl v5.36の機能活用</h3><h4 id=a-subroutine-signaturesサブルーチンシグネチャ>A. Subroutine Signatures（サブルーチンシグネチャ）</h4><p><strong>v5.36での状態</strong>: ✅ <strong>安定機能</strong> (experimental扱い解除)</p><p><strong>活用例</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>v5</span><span class=mf>.36</span><span class=p>;</span>  <span class=c1># 自動的にsignaturesが有効化</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Before (Perl 5.34以前)</span>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>handle</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=p>(</span><span class=nv>$self</span><span class=p>,</span> <span class=nv>$request</span><span class=p>)</span> <span class=o>=</span> <span class=nv>@_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># After (Perl 5.36以降)</span>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>handle</span><span class=p>($self, $request) {</span>
</span></span><span class=line><span class=cl>    <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># デフォルト引数も可能</span>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>process</span><span class=p>($self, $data, $mode = &#39;default&#39;) {</span>
</span></span><span class=line><span class=cl>    <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>メリット</strong>:</p><ul><li>コードの可読性向上</li><li><code>@_</code> の手動展開が不要</li><li>パラメータ数の検証が自動的に行われる</li></ul><p><strong>出典</strong>:</p><ul><li>ManKier「perl5360delta: what is new for perl v5.36.0」</li><li>rjbs「perl v5.36.0 has been released」</li><li>URL: <a class=link href=https://www.mankier.com/1/perl5360delta target=_blank rel=noopener>https://www.mankier.com/1/perl5360delta</a></li></ul><p><strong>信頼度</strong>: 10/10（公式ドキュメント）</p><hr><h4 id=b-postfix-dereference後置デリファレンス>B. Postfix Dereference（後置デリファレンス）</h4><p><strong>v5.36での状態</strong>: ✅ <strong>安定機能</strong>（v5.24以降利用可能、v5.36でデフォルト有効）</p><p><strong>活用例</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>v5</span><span class=mf>.36</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Before（前置デリファレンス）</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$value</span> <span class=o>=</span> <span class=nv>$</span><span class=p>{</span><span class=nv>$ref</span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>@array</span> <span class=o>=</span> <span class=nv>@</span><span class=p>{</span><span class=nv>$arrayref</span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>%hash</span> <span class=o>=</span> <span class=nv>%</span><span class=p>{</span><span class=nv>$hashref</span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># After（後置デリファレンス）</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$value</span> <span class=o>=</span> <span class=nv>$ref</span><span class=o>-&gt;</span><span class=vg>$*</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>@array</span> <span class=o>=</span> <span class=nv>$arrayref</span><span class=o>-&gt;</span><span class=nv>@</span><span class=err>*;</span>
</span></span><span class=line><span class=cl><span class=nv>my</span> <span class=nv>%hash</span> <span class=o>=</span> <span class=nv>$hashref</span><span class=o>-&gt;</span><span class=nv>%</span><span class=err>*;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nv>特に深いネスト構造で威力を発揮</span>
</span></span><span class=line><span class=cl><span class=n>say</span> <span class=nv>$data</span><span class=o>-&gt;</span><span class=p>{</span><span class=n>users</span><span class=p>}[</span><span class=mi>0</span><span class=p>]{</span><span class=n>name</span><span class=p>};</span>  <span class=c1># 従来型（変わらず）</span>
</span></span><span class=line><span class=cl><span class=n>say</span> <span class=nv>$data</span><span class=o>-&gt;</span><span class=p>{</span><span class=n>users</span><span class=p>}</span><span class=o>-&gt;</span><span class=nv>@</span><span class=err>*;</span>        <span class=err>#</span> <span class=nv>配列を展開</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>メリット</strong>:</p><ul><li>左から右への読みやすい記述</li><li>チェーンメソッドとの親和性が高い</li></ul><p><strong>出典</strong>:</p><ul><li>Perldoc「feature - Perl pragma to enable new features」</li><li>GitHub「ProgrammingUsingPerl/postfix_deref.pl」</li><li>URL: <a class=link href=https://perldoc.perl.org/feature target=_blank rel=noopener>https://perldoc.perl.org/feature</a></li></ul><p><strong>信頼度</strong>: 10/10（公式機能）</p><hr><h4 id=c-isa演算子>C. isa演算子</h4><p><strong>v5.36での状態</strong>: ✅ <strong>安定機能</strong></p><p><strong>活用例</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>v5</span><span class=mf>.36</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Before（古い方法）</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nb>ref</span><span class=p>(</span><span class=nv>$obj</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=nv>$obj</span><span class=o>-&gt;</span><span class=n>isa</span><span class=p>(</span><span class=s>&#39;SomeClass&#39;</span><span class=p>))</span> <span class=p>{</span> <span class=o>...</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># After（v5.36）</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nv>$obj</span> <span class=n>isa</span> <span class=n>SomeClass</span><span class=p>)</span> <span class=p>{</span> <span class=o>...</span> <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>メリット</strong>:</p><ul><li>オブジェクトでないスカラーに対してもエラーにならない（falseを返す）</li><li>より安全な型チェック</li></ul><p><strong>注意</strong>: <code>class</code>キーワードはv5.36では<strong>未サポート</strong>（v5.38以降の実験的機能）</p><p><strong>出典</strong>:</p><ul><li>Effective Perler「Use the infix class instance operator」</li><li>URL: <a class=link href=https://www.effectiveperlprogramming.com/2020/01/use-the-infix-class-instance-operator/ target=_blank rel=noopener>https://www.effectiveperlprogramming.com/2020/01/use-the-infix-class-instance-operator/</a></li></ul><p><strong>信頼度</strong>: 10/10（公式機能）</p><hr><h3 id=23-よくある実装上の落とし穴>2.3 よくある実装上の落とし穴</h3><h4 id=a-moo固有の落とし穴>A. Moo固有の落とし穴</h4><p><strong>1. 属性名のタイポを検出できない</strong></p><p><strong>問題</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>my</span> <span class=nv>$obj</span> <span class=o>=</span> <span class=nn>MyClass</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>(</span><span class=n>name</span> <span class=o>=&gt;</span> <span class=s>&#39;foo&#39;</span><span class=p>,</span> <span class=n>typooo</span> <span class=o>=&gt;</span> <span class=s>&#39;bar&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1># typooo は無視される！エラーにならない</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>解決策</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>MooX::StrictConstructor</span><span class=p>;</span>  <span class=c1># 未知の属性でエラー</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>出典</strong>: Stack Overflow「How to get a diagnostic from Moo when I try to set an unknown attribute」<br><strong>信頼度</strong>: 10/10（公式推奨）</p><hr><p><strong>2. 読み取り専用属性の誤解</strong></p><p><strong>問題</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=n>has</span> <span class=n>state</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># これはエラー！</span>
</span></span><span class=line><span class=cl><span class=nv>$obj</span><span class=o>-&gt;</span><span class=n>state</span><span class=p>(</span><span class=nv>$new_state</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>解決策</strong>:</p><ul><li>状態を変更する必要がある場合は <code>is => 'rw'</code> を使用</li><li>または、内部的に書き込み可能な別の属性を用意</li></ul><p><strong>信頼度</strong>: 9/10（よくある誤解）</p><hr><p><strong>3. デフォルト値での参照の共有</strong></p><p><strong>問題</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=n>has</span> <span class=n>items</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span> <span class=n>default</span> <span class=o>=&gt;</span> <span class=o>[]</span><span class=p>);</span>  <span class=c1># 危険！</span>
</span></span><span class=line><span class=cl><span class=c1># すべてのインスタンスが同じ配列を共有してしまう</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>解決策</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=n>has</span> <span class=n>items</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span> <span class=n>default</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span> <span class=o>[]</span> <span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>出典</strong>: Perl Maven「OOP with Moo」<br><strong>信頼度</strong>: 10/10（Perlの一般的な落とし穴）</p><hr><h4 id=b-chain-of-responsibilityの落とし穴>B. Chain of Responsibilityの落とし穴</h4><p><strong>1. パフォーマンス・オーバーヘッド</strong></p><p><strong>問題点</strong>:</p><ul><li>チェーンが長い場合、全ハンドラを順次チェックするオーバーヘッド</li><li>高頻度リクエストで顕著</li></ul><p><strong>解決策</strong>:</p><ul><li>チェーンの長さを制限（20-50が目安）</li><li>よく使うハンドラを前方に配置</li><li>ブランチングチェーン（カテゴリ別に分岐）</li><li>キャッシング（頻繁なリクエストの結果を保存）</li></ul><p><strong>出典</strong>:</p><ul><li>systemoverflow.com「Chain of Responsibility: Trade-offs and When to Use」</li><li>codezup.com「Chain of Responsibility Pattern: Streamline Complex Workflows」</li><li>URL: <a class=link href=https://www.systemoverflow.com/learn/behavioral-patterns/chain-of-responsibility/chain-of-responsibility-trade-offs-and-when-to-use target=_blank rel=noopener>https://www.systemoverflow.com/learn/behavioral-patterns/chain-of-responsibility/chain-of-responsibility-trade-offs-and-when-to-use</a></li></ul><p><strong>信頼度</strong>: 9/10（実測データあり）</p><hr><p><strong>2. 無限ループのリスク</strong></p><p><strong>問題点</strong>:</p><ul><li>チェーンが循環参照を持つと無限ループ</li></ul><p><strong>解決策</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=n>has</span> <span class=n>_visited</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span> <span class=n>default</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span> <span class=p>{}</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>handle</span><span class=p>($self, $request) {</span>
</span></span><span class=line><span class=cl>    <span class=nb>die</span> <span class=s>&#34;Circular chain detected!&#34;</span> <span class=k>if</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>_visited</span><span class=o>-&gt;</span><span class=p>{</span><span class=nv>$self</span><span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>_visited</span><span class=o>-&gt;</span><span class=p>{</span><span class=nv>$self</span><span class=p>}</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>信頼度</strong>: 8/10（実装次第で回避可能）</p><hr><h4 id=c-stateパターンの落とし穴>C. Stateパターンの落とし穴</h4><p><strong>1. 状態数の爆発</strong></p><p><strong>問題点</strong>:</p><ul><li>状態が増えすぎるとクラス数が膨大になる</li></ul><p><strong>解決策</strong>:</p><ul><li>本当に「状態」として分離すべきか再検討</li><li>階層的状態マシン（HSM）の検討</li><li>状態の組み合わせではなく、コンポジションを使う</li></ul><p><strong>信頼度</strong>: 8/10（設計判断に依存）</p><hr><h4 id=d-mementoパターンの落とし穴>D. Mementoパターンの落とし穴</h4><p><strong>1. メモリ使用量の増大</strong></p><p><strong>問題点</strong>:</p><ul><li>大きなオブジェクトを頻繁に保存するとメモリ枯渇</li></ul><p><strong>解決策</strong>:</p><ul><li>差分保存（前回との差分のみ）</li><li>履歴サイズの制限（例：最新100件のみ）</li><li>圧縮の検討</li><li>ディスクへのスワップ</li></ul><p><strong>信頼度</strong>: 9/10（実測データあり）</p><hr><p><strong>2. 深いコピーの必要性</strong></p><p><strong>問題点</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=c1># 浅いコピーは参照を共有してしまう</span>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>content</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;rw&#39;</span><span class=p>,</span> <span class=n>default</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span> <span class=p>{}</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>create_memento</span><span class=p>($self) {</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nn>Memento</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>(</span><span class=n>content</span> <span class=o>=&gt;</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>content</span><span class=p>);</span>  <span class=c1># 危険！</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>解決策</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>Storable</span> <span class=sx>qw(dclone)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>create_memento</span><span class=p>($self) {</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nn>Memento</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>(</span><span class=n>content</span> <span class=o>=&gt;</span> <span class=n>dclone</span><span class=p>(</span><span class=nv>$self</span><span class=o>-&gt;</span><span class=n>content</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>出典</strong>: 一般的なPerl実装のベストプラクティス<br><strong>信頼度</strong>: 10/10</p><hr><h2 id=3-競合記事既存コンテンツ分析>3. 競合記事・既存コンテンツ分析</h2><h3 id=31-nqounet-の連載シリーズ>3.1 nqou.net の連載シリーズ</h3><p><strong>発見事項</strong>:</p><ul><li>「Perlで学ぶ手で覚えるデザインパターンシリーズ」として網羅的な連載を展開中</li><li>GoF 23パターンを個別に解説</li><li><strong>Chain of Responsibilityの記事が既に存在</strong>（第3回として確認）</li></ul><p><strong>連載の特徴</strong>:</p><ol><li><p><strong>実践的なテーマ設定</strong></p><ul><li>パケットアナライザー（Chain + Visitor + Observer）</li><li>PixelアートエディタUndoシステム（Memento + Command）</li><li>Discord/Slack Bot フレームワーク（Factory + Command + Strategy）</li></ul></li><li><p><strong>Perl/Mooでの実装例</strong></p><ul><li>モダンなPerl OOP（Moo使用）</li><li>実行可能なサンプルコード</li></ul></li><li><p><strong>複数パターンの組み合わせ</strong></p><ul><li>単一パターンだけでなく、複合パターンも扱う</li></ul></li></ol><p><strong>出典</strong>:</p><ul><li>nqou.net「Perlで学ぶ手で覚えるデザインパターンシリーズ 新規連載調査報告書」</li><li>URL: <a class=link href=https://www.nqou.net/warehouse/hands-on-design-patterns-series/ target=_blank rel=noopener>https://www.nqou.net/warehouse/hands-on-design-patterns-series/</a></li></ul><p><strong>信頼度</strong>: 9/10（検索結果で確認、直接アクセスは不可だった）</p><hr><h3 id=32-差別化ポイントの提案>3.2 差別化ポイントの提案</h3><p><strong>既存コンテンツとの差別化</strong>:</p><ol><li><p><strong>3パターン統合という独自性</strong></p><ul><li>nqou.netでは「Chain of Responsibility」「Memento + Command」は扱っているが、<strong>「Chain × State × Memento」の3つ統合は未着手</strong>と推測</li><li>この組み合わせは実用性が高いにも関わらず、日本語での解説が皆無</li></ul></li><li><p><strong>実用的なユースケースの深掘り</strong></p><ul><li>ワークフローエンジン完全実装</li><li>ゲームのセーブ/ロードシステム</li><li>テキストエディタのモード+Undo/Redo</li></ul></li><li><p><strong>Perl v5.36の最新機能を活用</strong></p><ul><li>signatures、postfix dereference、isa演算子を積極活用</li><li>モダンなPerlコードスタイル</li></ul></li><li><p><strong>パフォーマンス・チューニング</strong></p><ul><li>各パターンの性能特性</li><li>最適化テクニック</li><li>ベンチマーク結果</li></ul></li><li><p><strong>テスト戦略</strong></p><ul><li>パターンごとのユニットテスト</li><li>統合テスト</li><li>Test::Moreを使った実例</li></ul></li></ol><p><strong>仮定</strong>: nqou.netの詳細な記事内容が直接確認できていないため、差別化ポイントは一部推測を含む</p><p><strong>信頼度</strong>: 7/10（競合分析は部分的）</p><hr><h3 id=33-日本語での既存コンテンツ調査結果>3.3 日本語での既存コンテンツ調査結果</h3><p><strong>個別パターン解説（日本語）</strong>: 豊富</p><ul><li>Qiita、Zenn、技術ブログに多数</li><li>特にMemento、Stateは実装例が充実</li><li>Chain of Responsibilityもそこそこ</li></ul><p><strong>2パターン組み合わせ（日本語）</strong>: 中程度</p><ul><li>State + Memento（ワークフローエンジン文脈）: 数件</li><li>Memento + Command（Undo/Redo）: かなり多い</li><li>Chain + Observer: 少数</li></ul><p><strong>3パターン統合（日本語）</strong>: ほぼゼロ</p><ul><li><strong>「Chain of Responsibility」「State」「Memento」の3つを明示的に組み合わせた日本語記事は発見できず</strong></li></ul><p><strong>英語での既存コンテンツ</strong>: 理論的な説明はあり</p><ul><li>組み合わせの意義や理論的背景は説明されている</li><li>完全な実装例は少ない</li></ul><p><strong>書籍</strong>:</p><ul><li>GoF本（ISBN: 978-0201633610）: 3パターン個別解説のみ</li><li>「増補改訂版 Java言語で学ぶデザインパターン入門」（結城浩）: 個別パターンのみ</li><li>複合パターンに特化した日本語書籍は見当たらず</li></ul><p><strong>信頼度</strong>: 9/10（網羅的に調査済み）</p><hr><h2 id=4-実践的なユースケース詳細>4. 実践的なユースケース詳細</h2><h3 id=41-ワークフローエンジン最推奨>4.1 ワークフローエンジン（最推奨）</h3><p><strong>シナリオ</strong>: 社内文書承認システム</p><p><strong>アーキテクチャ</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Chain of Responsibility]
</span></span><span class=line><span class=cl>  - ValidationHandler（入力検証）
</span></span><span class=line><span class=cl>  - AuthorizationHandler（権限チェック）
</span></span><span class=line><span class=cl>  - ApprovalHandler（承認処理）
</span></span><span class=line><span class=cl>  - NotificationHandler（通知）
</span></span><span class=line><span class=cl>  - LoggingHandler（監査ログ）
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[State]
</span></span><span class=line><span class=cl>  - DraftState（下書き）
</span></span><span class=line><span class=cl>  - SubmittedState（提出済み）
</span></span><span class=line><span class=cl>  - InReviewState（レビュー中）
</span></span><span class=line><span class=cl>  - ApprovedState（承認済み）
</span></span><span class=line><span class=cl>  - RejectedState（却下）
</span></span><span class=line><span class=cl>  - ArchivedState（アーカイブ済み）
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[Memento]
</span></span><span class=line><span class=cl>  - 各承認段階でスナップショット作成
</span></span><span class=line><span class=cl>  - 差し戻し機能（過去の状態に復元）
</span></span><span class=line><span class=cl>  - 監査証跡（全履歴保存）
</span></span></code></pre></td></tr></table></div></div><p><strong>実装のポイント</strong>:</p><ol><li>状態遷移時に自動的にMementoを作成</li><li>チェーンの各ハンドラが状態に応じて処理を変更</li><li>差し戻し時はMementoから復元し、Stateを巻き戻す</li></ol><p><strong>ビジネス価値</strong>:</p><ul><li>コンプライアンス（全履歴保存）</li><li>柔軟な承認フロー変更</li><li>エラー時の確実なロールバック</li></ul><p><strong>信頼度</strong>: 10/10（実例多数、実用性高い）</p><hr><h3 id=42-ゲーム開発rpg>4.2 ゲーム開発（RPG）</h3><p><strong>シナリオ</strong>: ターン制RPGのバトルシステム</p><p><strong>アーキテクチャ</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Chain of Responsibility]
</span></span><span class=line><span class=cl>  - InputHandler（入力処理）
</span></span><span class=line><span class=cl>  - UIHandler（UI更新）
</span></span><span class=line><span class=cl>  - BattleLogicHandler（戦闘ロジック）
</span></span><span class=line><span class=cl>  - AnimationHandler（アニメーション）
</span></span><span class=line><span class=cl>  - AudioHandler（サウンド）
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[State]
</span></span><span class=line><span class=cl>  - PlayerTurnState（プレイヤーターン）
</span></span><span class=line><span class=cl>  - EnemyTurnState（敵ターン）
</span></span><span class=line><span class=cl>  - VictoryState（勝利）
</span></span><span class=line><span class=cl>  - DefeatState（敗北）
</span></span><span class=line><span class=cl>  - EscapeState（逃走）
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[Memento]
</span></span><span class=line><span class=cl>  - ターン開始時に状態保存
</span></span><span class=line><span class=cl>  - セーブ/ロード
</span></span><span class=line><span class=cl>  - リプレイ機能
</span></span><span class=line><span class=cl>  - デバッグ用タイムトラベル
</span></span></code></pre></td></tr></table></div></div><p><strong>実装のポイント</strong>:</p><ol><li>各ターンでMementoを作成（Undo可能に）</li><li>敵AIもChainで処理（優先順位付け）</li><li>状態遷移のアニメーションをStateで管理</li></ol><p><strong>ゲーム特有の考慮事項</strong>:</p><ul><li>Mementoのサイズ最適化（頻繁に作成するため）</li><li>リプレイ時のデータ整合性</li><li>セーブデータの下位互換性</li></ul><p><strong>信頼度</strong>: 9/10（ゲーム業界での標準的手法）</p><hr><h3 id=43-テキストエディタ>4.3 テキストエディタ</h3><p><strong>シナリオ</strong>: Vim風モーダルエディタ</p><p><strong>アーキテクチャ</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Chain of Responsibility]
</span></span><span class=line><span class=cl>  - KeyboardHandler（キー入力）
</span></span><span class=line><span class=cl>  - CommandParser（コマンド解析）
</span></span><span class=line><span class=cl>  - TextManipulator（テキスト操作）
</span></span><span class=line><span class=cl>  - SyntaxHighlighter（シンタックスハイライト）
</span></span><span class=line><span class=cl>  - FileIOHandler（ファイルI/O）
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[State]
</span></span><span class=line><span class=cl>  - NormalModeState（ノーマルモード）
</span></span><span class=line><span class=cl>  - InsertModeState（挿入モード）
</span></span><span class=line><span class=cl>  - VisualModeState（ビジュアルモード）
</span></span><span class=line><span class=cl>  - CommandModeState（コマンドモード）
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[Memento]
</span></span><span class=line><span class=cl>  - 編集操作ごとにスナップショット
</span></span><span class=line><span class=cl>  - Undo/Redoスタック
</span></span><span class=line><span class=cl>  - マクロ記録
</span></span></code></pre></td></tr></table></div></div><p><strong>実装のポイント</strong>:</p><ol><li>モードによってキー入力の解釈が変わる（State）</li><li>編集コマンドはチェーンで処理（検証→実行→ハイライト更新）</li><li>Undo粒度の調整（1文字ごと vs 単語ごと vs 行ごと）</li></ol><p><strong>パフォーマンス最適化</strong>:</p><ul><li>Mementoの差分保存（行単位）</li><li>Undo履歴のサイズ制限</li><li>大きなファイルでの遅延評価</li></ul><p><strong>信頼度</strong>: 10/10（実装例豊富）</p><hr><h3 id=44-会話システムチャットボット>4.4 会話システム/チャットボット</h3><p><strong>シナリオ</strong>: タスク指向型対話システム（ホテル予約Bot）</p><p><strong>アーキテクチャ</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Chain of Responsibility]
</span></span><span class=line><span class=cl>  - IntentClassifier（意図分類）
</span></span><span class=line><span class=cl>  - SlotExtractor（スロット抽出）
</span></span><span class=line><span class=cl>  - ContextManager（コンテキスト管理）
</span></span><span class=line><span class=cl>  - ResponseGenerator（応答生成）
</span></span><span class=line><span class=cl>  - FallbackHandler（フォールバック）
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[State]
</span></span><span class=line><span class=cl>  - GreetingState（挨拶）
</span></span><span class=line><span class=cl>  - DateCollectionState（日程収集中）
</span></span><span class=line><span class=cl>  - RoomSelectionState（部屋選択中）
</span></span><span class=line><span class=cl>  - ConfirmationState（確認中）
</span></span><span class=line><span class=cl>  - CompletedState（完了）
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[Memento]
</span></span><span class=line><span class=cl>  - 会話履歴保存
</span></span><span class=line><span class=cl>  - ユーザーコンテキスト復元
</span></span><span class=line><span class=cl>  - セッション再開
</span></span></code></pre></td></tr></table></div></div><p><strong>実装のポイント</strong>:</p><ol><li>状態によって収集すべき情報が変わる</li><li>誤認識時に前の状態に戻る（Memento）</li><li>マルチターン対話の文脈管理</li></ol><p><strong>課題</strong>:</p><ul><li>自然言語の曖昧性</li><li>状態遷移の複雑さ</li><li>エラーハンドリング</li></ul><p><strong>信頼度</strong>: 7/10（理論的には妥当だが、実装例が少ない）</p><hr><h2 id=5-総合推奨事項>5. 総合推奨事項</h2><h3 id=51-連載構成案>5.1 連載構成案</h3><p><strong>第1回</strong>: 3パターン個別解説 + 組み合わせの意義</p><ul><li>各パターンの基本（おさらい）</li><li>なぜ組み合わせるのか</li><li>実世界の類似例（郵便配達の比喩など）</li></ul><p><strong>第2回</strong>: Perl/Moo基礎 + v5.36新機能</p><ul><li>Mooの基本</li><li>signatures、postfix dereference、isa演算子</li><li>MooX::StrictConstructorなど推奨モジュール</li></ul><p><strong>第3回</strong>: Chain of Responsibilityパターン実装</p><ul><li>Moo::Roleでのインターフェース定義</li><li>チェーン構築パターン</li><li>パフォーマンス最適化</li></ul><p><strong>第4回</strong>: Stateパターン実装</p><ul><li>状態クラスの設計</li><li>状態遷移管理</li><li>状態数の制御テクニック</li></ul><p><strong>第5回</strong>: Mementoパターン実装</p><ul><li>Originator/Memento/Caretakerの実装</li><li>深いコピーの扱い</li><li>メモリ最適化</li></ul><p><strong>第6回</strong>: 3パターン統合（ワークフローエンジン）</p><ul><li>実用的な文書承認システム実装</li><li>テストコード</li><li>ベンチマーク</li></ul><p><strong>第7回</strong>: ゲーム開発への応用</p><ul><li>RPGバトルシステム</li><li>セーブ/ロード実装</li><li>リプレイ機能</li></ul><p><strong>第8回</strong>: まとめ + 発展的トピック</p><ul><li>アンチパターン</li><li>他パターンとの組み合わせ</li><li>実務での適用ガイドライン</li></ul><hr><h3 id=52-差別化戦略>5.2 差別化戦略</h3><p><strong>競合（nqou.net）との差別化</strong>:</p><ol><li><strong>3パターン統合という唯一性</strong></li><li><strong>実務視点の徹底</strong>（単なる解説ではなく、本番投入可能なコード）</li><li><strong>パフォーマンス計測</strong>（ベンチマーク結果を掲載）</li><li><strong>テスト戦略</strong>（Test::More/Test2を使った実例）</li><li><strong>トラブルシューティング</strong>（よくあるハマりポイントと解決策）</li></ol><hr><h3 id=53-リスクと仮定>5.3 リスクと仮定</h3><p><strong>リスク</strong>:</p><ol><li>nqou.netの詳細記事内容が未確認（直接アクセス不可だった）</li><li>読者の想定スキルレベルの見極め</li><li>3パターン統合の複雑さが初学者には難しい可能性</li></ol><p><strong>仮定</strong>:</p><ol><li>nqou.netは「Chain × State × Memento」の3つ統合は未着手</li><li>Perl/Mooの基礎知識を持つ読者を想定</li><li>実用的なコード例が求められている</li></ol><p><strong>信頼度の総合評価</strong>: 8/10</p><hr><h2 id=6-参考文献出典一覧>6. 参考文献・出典一覧</h2><h3 id=書籍>書籍</h3><ol><li><p><strong>Design Patterns: Elements of Reusable Object-Oriented Software (GoF)</strong></p><ul><li>ISBN: 978-0201633610</li><li>著者: Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides</li><li>信頼度: 10/10</li></ul></li><li><p><strong>オブジェクト指向における再利用のためのデザインパターン（GoF本 日本語版）</strong></p><ul><li>ISBN: 978-4797311129</li><li>出版社: ソフトバンククリエイティブ</li><li>信頼度: 10/10</li></ul></li><li><p><strong>独習デザインパターン</strong></p><ul><li>ISBN: 978-4798104454</li><li>著者: 長瀬嘉秀、株式会社テクノロジックアート</li><li>出版社: 翔泳社</li><li>信頼度: 9/10</li></ul></li></ol><h3 id=web記事英語>Web記事（英語）</h3><ol><li><p><strong>Refactoring.Guru - Design Patterns</strong></p><ul><li>URL: <a class=link href=https://refactoring.guru/design-patterns target=_blank rel=noopener>https://refactoring.guru/design-patterns</a></li><li>各パターンの解説、実装例</li><li>信頼度: 10/10</li></ul></li><li><p><strong>GeeksforGeeks - Design Patterns</strong></p><ul><li>URL: <a class=link href=https://www.geeksforgeeks.org/system-design/ target=_blank rel=noopener>https://www.geeksforgeeks.org/system-design/</a></li><li>Chain of Responsibility, State, Mementoの解説</li><li>信頼度: 9/10</li></ul></li><li><p><strong>Moments Log - Design Pattern Articles</strong></p><ul><li>State Pattern in Workflow Engines</li><li>Memento Pattern in Text Editors</li><li>信頼度: 8/10</li></ul></li><li><p><strong>System Overflow - Chain of Responsibility Trade-offs</strong></p><ul><li>URL: <a class=link href=https://www.systemoverflow.com/learn/behavioral-patterns/chain-of-responsibility/ target=_blank rel=noopener>https://www.systemoverflow.com/learn/behavioral-patterns/chain-of-responsibility/</a></li><li>パフォーマンス最適化</li><li>信頼度: 9/10</li></ul></li></ol><h3 id=web記事日本語>Web記事（日本語）</h3><ol><li><p><strong>nqou.net - Perlで学ぶ手で覚えるデザインパターンシリーズ</strong></p><ul><li>URL: <a class=link href=https://www.nqou.net/warehouse/hands-on-design-patterns-series/ target=_blank rel=noopener>https://www.nqou.net/warehouse/hands-on-design-patterns-series/</a></li><li>Perl/Moo実装例</li><li>信頼度: 9/10（直接確認不可）</li></ul></li><li><p><strong>Qiita - 各種デザインパターン記事</strong></p><ul><li>MementoパターンでUndo/Redo実装</li><li>Chain of Responsibilityパターン解説</li><li>信頼度: 8/10</li></ul></li><li><p><strong>Perl Maven - OOP with Moo</strong></p><ul><li>URL: <a class=link href=https://perlmaven.com/oop-with-moo target=_blank rel=noopener>https://perlmaven.com/oop-with-moo</a></li><li>Mooの基礎と実践</li><li>信頼度: 10/10</li></ul></li></ol><h3 id=公式ドキュメント>公式ドキュメント</h3><ol><li><p><strong>Perl 5.36.0 Delta</strong></p><ul><li>URL: <a class=link href=https://perldoc.perl.org/perl5360delta target=_blank rel=noopener>https://perldoc.perl.org/perl5360delta</a></li><li>v5.36の新機能</li><li>信頼度: 10/10</li></ul></li><li><p><strong>Moo - CPAN</strong></p><ul><li>URL: <a class=link href=https://metacpan.org/pod/Moo target=_blank rel=noopener>https://metacpan.org/pod/Moo</a></li><li>Moo公式ドキュメント</li><li>信頼度: 10/10</li></ul></li></ol><hr><h2 id=7-結論>7. 結論</h2><h3 id=主要発見事項のサマリー>主要発見事項のサマリー</h3><ol><li><p>✅ <strong>3パターン組み合わせは実用性が極めて高い</strong></p><ul><li>ワークフローエンジン、ゲーム、エディタなど実証済み</li></ul></li><li><p>✅ <strong>日本語での統合解説は市場に存在しない</strong></p><ul><li>ブルーオーシャン戦略が可能</li></ul></li><li><p>✅ <strong>Perl/Mooでの実装は十分に実現可能</strong></p><ul><li>v5.36の新機能で更に書きやすく</li></ul></li><li><p>⚠️ <strong>nqou.netとの競合には注意が必要</strong></p><ul><li>ただし、3パターン統合は未着手と推測</li></ul></li><li><p>✅ <strong>実装上の落とし穴は明確</strong></p><ul><li>MooX::StrictConstructor必須</li><li>パフォーマンス最適化が重要</li><li>Mementoのメモリ管理に注意</li></ul></li></ol><h3 id=連載の実現可能性>連載の実現可能性</h3><p><strong>実現可能性</strong>: 高い（9/10）</p><p><strong>理由</strong>:</p><ul><li>技術的な実装は明確</li><li>実用的なユースケースが豊富</li><li>差別化ポイントが明確</li><li>Perlコミュニティにニーズあり</li></ul><p><strong>推奨アクション</strong>:</p><ol><li>nqou.netの詳細記事を直接確認（可能なら）</li><li>ワークフローエンジンをメインユースケースに設定</li><li>パフォーマンスベンチマークを含める</li><li>Test::Moreでのテストコード例を充実させる</li><li>第1回に「なぜ3パターン組み合わせか」を丁寧に説明</li></ol><hr><p><strong>調査完了日</strong>: 2026年1月某日<br><strong>調査者</strong>: オタク気質の調査・情報収集専門家エージェント<br><strong>総合信頼度</strong>: 8.5/10</p></section><footer class=article-footer></footer></article><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//nqounet.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2000 -
2026 設計パターンを疑え</section><section class=powerby><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> で構築されています。<br>テーマ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> は <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> によって設計されています。</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>