<!doctype html><html lang=ja dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="調査ドキュメント：OOPとFP（関数型プログラミング）の融合設計 テーマ 「一歩先のオブジェクト指向：OOPと関数型プログラミング（FP）の融合による「ハイブリッド設計」のすすめ」\n調査日 2026年1月31日\n技術的制約 Perl v5.36以降、signatures・postfix dereferenceサポート必須 オブジェクト指向はMoo（Mooseでなく）を使用 モダンPerlを活用 1. OOPの限界と課題 1.1 状態管理の複雑さ 要点 OOPでは可変な状態（mutable state）がオブジェクト内に封じ込められるが、複数のオブジェクトが相互作用する大規模システムでは状態の追跡が困難になる 状態の変更が予期せぬ副作用を引き起こし、デバッグやテストが複雑化する 特に深い継承階層や複雑なオブジェクトグラフでは、どこで状態が変更されたのか特定するのが難しい 根拠 2024-2025年の複数のソフトウェアエンジニアリング研究によれば、OOPの最大の課題は「uncontrolled mutability（制御されない可変性）」とされている 状態を持つオブジェクトはテストやデバッグにおいて、実行タイミングによって異なる結果を生む可能性があり、再現性の確保が困難 エイリアシングバグ（同じオブジェクトへの複数の参照によって生じる予期しない変更）が頻発する 仮定 中規模以上のプロジェクトでは、状態管理の問題は避けられない 開発チームの成熟度によらず、可変状態は長期的に保守コストを増大させる 出典 URL: https://geniussoftware.net/object-oriented-programming-a-critical-analysis/ URL: https://codingclutch.com/disadvantages-of-object-oriented-programming/ URL: https://www.geeksforgeeks.org/cpp/benefits-advantages-of-oop/ 信頼度 9/10 - 複数の信頼できる技術サイトと学術論文で一貫して指摘されている問題\n"><title></title><link rel=canonical href=https://www.nqou.net/warehouse/oop-fp-hybrid-design/><link rel=stylesheet href=/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css><meta property='og:title' content><meta property='og:description' content="調査ドキュメント：OOPとFP（関数型プログラミング）の融合設計 テーマ 「一歩先のオブジェクト指向：OOPと関数型プログラミング（FP）の融合による「ハイブリッド設計」のすすめ」\n調査日 2026年1月31日\n技術的制約 Perl v5.36以降、signatures・postfix dereferenceサポート必須 オブジェクト指向はMoo（Mooseでなく）を使用 モダンPerlを活用 1. OOPの限界と課題 1.1 状態管理の複雑さ 要点 OOPでは可変な状態（mutable state）がオブジェクト内に封じ込められるが、複数のオブジェクトが相互作用する大規模システムでは状態の追跡が困難になる 状態の変更が予期せぬ副作用を引き起こし、デバッグやテストが複雑化する 特に深い継承階層や複雑なオブジェクトグラフでは、どこで状態が変更されたのか特定するのが難しい 根拠 2024-2025年の複数のソフトウェアエンジニアリング研究によれば、OOPの最大の課題は「uncontrolled mutability（制御されない可変性）」とされている 状態を持つオブジェクトはテストやデバッグにおいて、実行タイミングによって異なる結果を生む可能性があり、再現性の確保が困難 エイリアシングバグ（同じオブジェクトへの複数の参照によって生じる予期しない変更）が頻発する 仮定 中規模以上のプロジェクトでは、状態管理の問題は避けられない 開発チームの成熟度によらず、可変状態は長期的に保守コストを増大させる 出典 URL: https://geniussoftware.net/object-oriented-programming-a-critical-analysis/ URL: https://codingclutch.com/disadvantages-of-object-oriented-programming/ URL: https://www.geeksforgeeks.org/cpp/benefits-advantages-of-oop/ 信頼度 9/10 - 複数の信頼できる技術サイトと学術論文で一貫して指摘されている問題\n"><meta property='og:url' content='https://www.nqou.net/warehouse/oop-fp-hybrid-design/'><meta property='og:site_name' content='設計パターンを疑え'><meta property='og:type' content='article'><meta property='article:section' content='Warehouse'><meta property='article:published_time' content='2026-01-29T22:15:39+09:00'><meta property='article:modified_time' content='2026-01-29T22:15:39+09:00'><meta property='og:image' content='https://www.nqou.net/favicon.png'><meta name=twitter:title content><meta name=twitter:description content="調査ドキュメント：OOPとFP（関数型プログラミング）の融合設計 テーマ 「一歩先のオブジェクト指向：OOPと関数型プログラミング（FP）の融合による「ハイブリッド設計」のすすめ」\n調査日 2026年1月31日\n技術的制約 Perl v5.36以降、signatures・postfix dereferenceサポート必須 オブジェクト指向はMoo（Mooseでなく）を使用 モダンPerlを活用 1. OOPの限界と課題 1.1 状態管理の複雑さ 要点 OOPでは可変な状態（mutable state）がオブジェクト内に封じ込められるが、複数のオブジェクトが相互作用する大規模システムでは状態の追跡が困難になる 状態の変更が予期せぬ副作用を引き起こし、デバッグやテストが複雑化する 特に深い継承階層や複雑なオブジェクトグラフでは、どこで状態が変更されたのか特定するのが難しい 根拠 2024-2025年の複数のソフトウェアエンジニアリング研究によれば、OOPの最大の課題は「uncontrolled mutability（制御されない可変性）」とされている 状態を持つオブジェクトはテストやデバッグにおいて、実行タイミングによって異なる結果を生む可能性があり、再現性の確保が困難 エイリアシングバグ（同じオブジェクトへの複数の参照によって生じる予期しない変更）が頻発する 仮定 中規模以上のプロジェクトでは、状態管理の問題は避けられない 開発チームの成熟度によらず、可変状態は長期的に保守コストを増大させる 出典 URL: https://geniussoftware.net/object-oriented-programming-a-critical-analysis/ URL: https://codingclutch.com/disadvantages-of-object-oriented-programming/ URL: https://www.geeksforgeeks.org/cpp/benefits-advantages-of-oop/ 信頼度 9/10 - 複数の信頼できる技術サイトと学術論文で一貫して指摘されている問題\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://www.nqou.net/favicon.png'><link rel="shortcut icon" href=/favicon.png><style>@import 'https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap';:root{--base-font-family:Arial, "Noto Sans JP", sans-serif}</style><link rel=stylesheet href=/css/linkcard.css><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3923446804785015" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js defer></script><script defer>document.addEventListener("DOMContentLoaded",function(){try{typeof mermaid!="undefined"&&document.querySelector(".mermaid")&&mermaid.initialize({startOnLoad:!0,securityLevel:"strict"})}catch(e){console.warn("Mermaid failed to initialize:",e)}})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-E50H9ESN7E"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-E50H9ESN7E")</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=メニューを開く・閉じる>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/public_images/blog-nqounet-square.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>設計パターンを疑え</a></h1><h2 class=site-description>名前の嘘を暴き、意図で設計を語る</h2></div></header><ol class=menu-social><li><a href=https://github.com/nqounet target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://x.com/nqounet target=_blank title=X rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/advent-calendar-2025/><svg class="icon icon-tabler icon-tabler-calendar" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="5" width="16" height="16" rx="2"/><line x1="16" y1="3" x2="16" y2="7"/><line x1="8" y1="3" x2="8" y2="7"/><line x1="4" y1="11" x2="20" y2="11"/><path d="M8 15h.01"/><path d="M12 15h.01"/><path d="M16 15h.01"/><path d="M8 19h.01"/><path d="M12 19h.01"/><path d="M16 19h.01"/></svg>
<span>Perl Advent Calendar 2025 - AI Edition</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/warehouse/><svg class="icon icon-tabler icon-tabler-warehouse" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#bababa" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10l9-6 9 6"/><rect x="5" y="10" width="14" height="10" rx="2"/><rect x="10" y="14" width="4" height="6" rx="1"/><path d="M7 20v-4h2v4"/><path d="M15 20v-4h2v4"/></svg>
<span>Warehouse</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>ダークモード</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目次</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#テーマ>テーマ</a></li><li><a href=#調査日>調査日</a></li><li><a href=#技術的制約>技術的制約</a></li><li><a href=#1-oopの限界と課題>1. OOPの限界と課題</a><ol><li><a href=#11-状態管理の複雑さ>1.1 状態管理の複雑さ</a><ol><li><a href=#要点>要点</a></li><li><a href=#根拠>根拠</a></li><li><a href=#仮定>仮定</a></li><li><a href=#出典>出典</a></li><li><a href=#信頼度>信頼度</a></li></ol></li><li><a href=#12-可変オブジェクトの弊害>1.2 可変オブジェクトの弊害</a><ol><li><a href=#要点-1>要点</a></li><li><a href=#根拠-1>根拠</a></li><li><a href=#仮定-1>仮定</a></li><li><a href=#出典-1>出典</a></li><li><a href=#信頼度-1>信頼度</a></li></ol></li><li><a href=#13-並行処理における問題点>1.3 並行処理における問題点</a><ol><li><a href=#要点-2>要点</a></li><li><a href=#根拠-2>根拠</a></li><li><a href=#仮定-2>仮定</a></li><li><a href=#出典-2>出典</a></li><li><a href=#信頼度-2>信頼度</a></li></ol></li></ol></li><li><a href=#2-fpの基本概念とoopへの適用>2. FPの基本概念とOOPへの適用</a><ol><li><a href=#21-イミュータビリティ不変性>2.1 イミュータビリティ（不変性）</a><ol><li><a href=#要点-3>要点</a></li><li><a href=#根拠-3>根拠</a></li><li><a href=#oopへの適用>OOPへの適用</a></li><li><a href=#仮定-3>仮定</a></li><li><a href=#出典-3>出典</a></li><li><a href=#信頼度-3>信頼度</a></li></ol></li><li><a href=#22-純粋関数と副作用の分離>2.2 純粋関数と副作用の分離</a><ol><li><a href=#要点-4>要点</a></li><li><a href=#根拠-4>根拠</a></li><li><a href=#oopへの適用-1>OOPへの適用</a></li><li><a href=#仮定-4>仮定</a></li><li><a href=#出典-4>出典</a></li><li><a href=#信頼度-4>信頼度</a></li></ol></li><li><a href=#23-高階関数map-filter-reduce等>2.3 高階関数（map, filter, reduce等）</a><ol><li><a href=#要点-5>要点</a></li><li><a href=#根拠-5>根拠</a></li><li><a href=#oopへの適用perlの場合>OOPへの適用（Perlの場合）</a></li><li><a href=#仮定-5>仮定</a></li><li><a href=#出典-5>出典</a></li><li><a href=#信頼度-5>信頼度</a></li></ol></li><li><a href=#24-宣言的プログラミング>2.4 宣言的プログラミング</a><ol><li><a href=#要点-6>要点</a></li><li><a href=#根拠-6>根拠</a></li><li><a href=#oopへの適用-2>OOPへの適用</a></li><li><a href=#仮定-6>仮定</a></li><li><a href=#出典-6>出典</a></li><li><a href=#信頼度-6>信頼度</a></li></ol></li></ol></li><li><a href=#3-functional-core-imperative-shell-パターン>3. Functional Core, Imperative Shell パターン</a><ol><li><a href=#31-パターンの定義と起源>3.1 パターンの定義と起源</a><ol><li><a href=#要点-7>要点</a></li><li><a href=#根拠-7>根拠</a></li><li><a href=#パターンの構造>パターンの構造</a></li><li><a href=#仮定-7>仮定</a></li><li><a href=#出典-7>出典</a></li><li><a href=#信頼度-7>信頼度</a></li></ol></li><li><a href=#32-実践事例>3.2 実践事例</a><ol><li><a href=#要点-8>要点</a></li><li><a href=#根拠-8>根拠</a></li><li><a href=#perlmooでの実装例概念>Perl/Mooでの実装例（概念）</a></li><li><a href=#仮定-8>仮定</a></li><li><a href=#出典-8>出典</a></li><li><a href=#信頼度-8>信頼度</a></li></ol></li><li><a href=#33-テスタビリティへの効果>3.3 テスタビリティへの効果</a><ol><li><a href=#要点-9>要点</a></li><li><a href=#根拠-9>根拠</a></li><li><a href=#定量的効果一般的な報告>定量的効果（一般的な報告）</a></li><li><a href=#仮定-9>仮定</a></li><li><a href=#出典-9>出典</a></li><li><a href=#信頼度-9>信頼度</a></li></ol></li></ol></li><li><a href=#4-perlでのハイブリッド設計実現方法>4. Perlでのハイブリッド設計実現方法</a><ol><li><a href=#41-mooでのイミュータブルオブジェクト設計>4.1 Mooでのイミュータブルオブジェクト設計</a><ol><li><a href=#要点-10>要点</a></li><li><a href=#実装パターン>実装パターン</a></li><li><a href=#根拠-10>根拠</a></li><li><a href=#仮定-10>仮定</a></li><li><a href=#出典-10>出典</a></li><li><a href=#信頼度-10>信頼度</a></li></ol></li><li><a href=#42-perl-536以降のモダン機能signatures-postfix-deref>4.2 Perl 5.36以降のモダン機能（signatures, postfix deref）</a><ol><li><a href=#要点-11>要点</a></li><li><a href=#実装例>実装例</a></li><li><a href=#根拠-11>根拠</a></li><li><a href=#仮定-11>仮定</a></li><li><a href=#出典-11>出典</a></li><li><a href=#信頼度-11>信頼度</a></li></ol></li><li><a href=#43-listutil等の高階関数活用>4.3 List::Util等の高階関数活用</a><ol><li><a href=#要点-12>要点</a></li><li><a href=#実装例-1>実装例</a></li><li><a href=#根拠-12>根拠</a></li><li><a href=#仮定-12>仮定</a></li><li><a href=#出典-12>出典</a></li><li><a href=#信頼度-12>信頼度</a></li></ol></li><li><a href=#44-関数型スタイルのperl実装パターン>4.4 関数型スタイルのPerl実装パターン</a><ol><li><a href=#要点-13>要点</a></li><li><a href=#実装パターンpure-function-module>実装パターン：Pure Function Module</a></li><li><a href=#実装パターンimmutable-object-with-functional-updates>実装パターン：Immutable Object with Functional Updates</a></li><li><a href=#実装パターンfunctional-core--imperative-shell>実装パターン：Functional Core + Imperative Shell</a></li><li><a href=#根拠-13>根拠</a></li><li><a href=#仮定-13>仮定</a></li><li><a href=#出典-13>出典</a></li><li><a href=#信頼度-13>信頼度</a></li></ol></li></ol></li><li><a href=#5-競合記事分析>5. 競合記事分析</a><ol><li><a href=#51-英語圏の主要記事>5.1 英語圏の主要記事</a><ol><li><a href=#記事1-combining-object-oriented-and-functional-programming-in-large-projects>記事1: Combining Object-Oriented and Functional Programming in Large Projects</a></li><li><a href=#記事2-the-hybrid-power-of-oop-and-fp-building-scalable-architectures>記事2: The Hybrid Power of OOP and FP: Building Scalable Architectures</a></li><li><a href=#記事3-functional-programming-pragmatism-for-oop-teams>記事3: Functional Programming Pragmatism for OOP Teams</a></li></ol></li><li><a href=#52-日本語圏の記事>5.2 日本語圏の記事</a><ol><li><a href=#検索キーワード提案>検索キーワード提案</a></li></ol></li><li><a href=#53-差別化戦略>5.3 差別化戦略</a><ol><li><a href=#本記事の独自性>本記事の独自性</a></li><li><a href=#信頼度-14>信頼度</a></li></ol></li></ol></li><li><a href=#6-内部リンク調査>6. 内部リンク調査</a><ol><li><a href=#61-oop関連記事>6.1 OOP関連記事</a><ol><li><a href=#20251211000000>/2025/12/11/000000/</a></li><li><a href=#20260109004312>/2026/01/09/004312/</a></li><li><a href=#20260113231909>/2026/01/13/231909/</a></li><li><a href=#20260131001706>/2026/01/31/001706/</a></li></ol></li><li><a href=#62-fp設計パターン関連記事>6.2 FP/設計パターン関連記事</a><ol><li><a href=#20251208000000>/2025/12/08/000000/</a></li><li><a href=#その他の調査結果>その他の調査結果</a></li></ol></li><li><a href=#63-推奨内部リンク構成>6.3 推奨内部リンク構成</a><ol><li><a href=#信頼度-15>信頼度</a></li></ol></li></ol></li><li><a href=#7-追加調査項目>7. 追加調査項目</a><ol><li><a href=#71-perl-536以降の新機能詳細>7.1 Perl 5.36以降の新機能詳細</a><ol><li><a href=#trycatch構文perl-534>try/catch構文（Perl 5.34+）</a></li><li><a href=#builtin-モジュールperl-536>builtin モジュール（Perl 5.36+）</a></li></ol></li><li><a href=#72-関連するcpanモジュール>7.2 関連するCPANモジュール</a><ol><li><a href=#typetiny>Type::Tiny</a></li><li><a href=#functionparameters>Function::Parameters</a></li></ol></li></ol></li><li><a href=#8-まとめと推奨事項>8. まとめと推奨事項</a><ol><li><a href=#81-記事の構成案>8.1 記事の構成案</a></li><li><a href=#82-ターゲット読者>8.2 ターゲット読者</a></li><li><a href=#83-推奨キーワード>8.3 推奨キーワード</a></li><li><a href=#84-記事の独自価値>8.4 記事の独自価値</a></li></ol></li><li><a href=#9-参考文献出典一覧>9. 参考文献・出典一覧</a><ol><li><a href=#学術論文技術文書>学術論文・技術文書</a></li><li><a href=#技術記事ブログ>技術記事・ブログ</a></li><li><a href=#perl関連リソース>Perl関連リソース</a></li><li><a href=#パターンアーキテクチャ>パターン・アーキテクチャ</a></li><li><a href=#書籍推奨>書籍（推奨）</a></li></ol></li><li><a href=#10-調査の限界と今後の課題>10. 調査の限界と今後の課題</a><ol><li><a href=#101-限界>10.1 限界</a></li><li><a href=#102-今後の課題>10.2 今後の課題</a></li></ol></li><li><a href=#調査総括>調査総括</a><ol><li><a href=#総合評価>総合評価</a></li><li><a href=#記事化の推奨度>記事化の推奨度</a></li><li><a href=#期待される効果>期待される効果</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/warehouse/oop-fp-hybrid-design/><img src=/favicon.png loading=lazy alt="Featured image of post "></a></div><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/warehouse/oop-fp-hybrid-design/></a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>1月 29, 2026</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>読了時間: 20分</time></div></footer></div></header><section class=article-content><h1 id=調査ドキュメントoopとfp関数型プログラミングの融合設計>調査ドキュメント：OOPとFP（関数型プログラミング）の融合設計</h1><h2 id=テーマ>テーマ</h2><p>「一歩先のオブジェクト指向：OOPと関数型プログラミング（FP）の融合による「ハイブリッド設計」のすすめ」</p><h2 id=調査日>調査日</h2><p>2026年1月31日</p><h2 id=技術的制約>技術的制約</h2><ul><li>Perl v5.36以降、signatures・postfix dereferenceサポート必須</li><li>オブジェクト指向はMoo（Mooseでなく）を使用</li><li>モダンPerlを活用</li></ul><hr><h2 id=1-oopの限界と課題>1. OOPの限界と課題</h2><h3 id=11-状態管理の複雑さ>1.1 状態管理の複雑さ</h3><h4 id=要点>要点</h4><ul><li>OOPでは可変な状態（mutable state）がオブジェクト内に封じ込められるが、複数のオブジェクトが相互作用する大規模システムでは状態の追跡が困難になる</li><li>状態の変更が予期せぬ副作用を引き起こし、デバッグやテストが複雑化する</li><li>特に深い継承階層や複雑なオブジェクトグラフでは、どこで状態が変更されたのか特定するのが難しい</li></ul><h4 id=根拠>根拠</h4><ul><li>2024-2025年の複数のソフトウェアエンジニアリング研究によれば、OOPの最大の課題は「uncontrolled mutability（制御されない可変性）」とされている</li><li>状態を持つオブジェクトはテストやデバッグにおいて、実行タイミングによって異なる結果を生む可能性があり、再現性の確保が困難</li><li>エイリアシングバグ（同じオブジェクトへの複数の参照によって生じる予期しない変更）が頻発する</li></ul><h4 id=仮定>仮定</h4><ul><li>中規模以上のプロジェクトでは、状態管理の問題は避けられない</li><li>開発チームの成熟度によらず、可変状態は長期的に保守コストを増大させる</li></ul><h4 id=出典>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://geniussoftware.net/object-oriented-programming-a-critical-analysis/ target=_blank rel=noopener>https://geniussoftware.net/object-oriented-programming-a-critical-analysis/</a></li><li><strong>URL</strong>: <a class=link href=https://codingclutch.com/disadvantages-of-object-oriented-programming/ target=_blank rel=noopener>https://codingclutch.com/disadvantages-of-object-oriented-programming/</a></li><li><strong>URL</strong>: <a class=link href=https://www.geeksforgeeks.org/cpp/benefits-advantages-of-oop/ target=_blank rel=noopener>https://www.geeksforgeeks.org/cpp/benefits-advantages-of-oop/</a></li></ul><h4 id=信頼度>信頼度</h4><p><strong>9/10</strong> - 複数の信頼できる技術サイトと学術論文で一貫して指摘されている問題</p><hr><h3 id=12-可変オブジェクトの弊害>1.2 可変オブジェクトの弊害</h3><h4 id=要点-1>要点</h4><ul><li>可変オブジェクトはカプセル化の原則を満たしていても、意図しない状態変更のリスクを常に伴う</li><li>共有された可変オブジェクトは、コードの異なる部分から変更される可能性があり、予測不可能な動作の原因となる</li><li>可変性はバグの温床であり、特にマルチスレッド環境では深刻な問題を引き起こす</li></ul><h4 id=根拠-1>根拠</h4><ul><li>可変オブジェクトを使用する場合、防御的コピーが必要になり、パフォーマンスとメモリ使用量が増加</li><li>HashMap/Hashのキーとして使用する際、可変オブジェクトはhashコードが変更される可能性があり、データ構造の整合性を損なう</li><li>時間経過とともに変化するオブジェクトの状態は、単体テストで完全にカバーするのが極めて困難</li></ul><h4 id=仮定-1>仮定</h4><ul><li>イミュータブル（不変）なオブジェクト設計は、多くの場合において可変設計より優れている</li><li>現代のハードウェアとガベージコレクション技術により、イミュータブルオブジェクトのパフォーマンス影響は許容範囲内</li></ul><h4 id=出典-1>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://www.baeldung.com/java-immutable-object target=_blank rel=noopener>https://www.baeldung.com/java-immutable-object</a></li><li><strong>URL</strong>: <a class=link href=https://www.codewithc.com/mastering-immutable-objects-in-programming/ target=_blank rel=noopener>https://www.codewithc.com/mastering-immutable-objects-in-programming/</a></li><li><strong>URL</strong>: <a class=link href=https://www.geeksforgeeks.org/system-design/immutable-architecture-pattern-system-design/ target=_blank rel=noopener>https://www.geeksforgeeks.org/system-design/immutable-architecture-pattern-system-design/</a></li></ul><h4 id=信頼度-1>信頼度</h4><p><strong>10/10</strong> - 業界標準のベストプラクティスとして広く認められている</p><hr><h3 id=13-並行処理における問題点>1.3 並行処理における問題点</h3><h4 id=要点-2>要点</h4><ul><li>OOPでは、オブジェクトが状態と振る舞いを両方持つため、並行アクセス時に競合状態（race condition）が発生しやすい</li><li>スレッドセーフティを確保するため明示的な同期（ロック）が必要だが、これがデッドロックの原因となる</li><li>現代のマルチコア、分散システム環境において、OOPの状態管理モデルはスケーラビリティの障壁となる</li></ul><h4 id=根拠-2>根拠</h4><ul><li>2024-2025年の研究によれば、並行プログラミングにおけるOOPの最大の課題はイミュータビリティの欠如</li><li>関数型プログラミングの原則（イミュータビリティ、純粋関数）を取り入れることで、スレッド間でのデータ共有が安全になる</li><li>アクターモデルやリアクティブプログラミングなど、現代的な並行処理モデルはOOP中心の言語では統合が困難</li></ul><h4 id=仮定-2>仮定</h4><ul><li>クラウドネイティブ、マイクロサービス、AI/ML処理などの現代的なワークロードでは並行処理が不可欠</li><li>2025年以降、マルチコア活用がさらに重要になる</li></ul><h4 id=出典-2>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://scg.unibe.ch/archive/oosc/PDF/Papa95aOBC.pdf target=_blank rel=noopener>https://scg.unibe.ch/archive/oosc/PDF/Papa95aOBC.pdf</a> (論文PDF)</li><li><strong>URL</strong>: <a class=link href=https://www.xevlive.com/2025/05/04/object-oriented-programming-in-the-concurrency-age-a-new-approach-to-parallelism/ target=_blank rel=noopener>https://www.xevlive.com/2025/05/04/object-oriented-programming-in-the-concurrency-age-a-new-approach-to-parallelism/</a></li></ul><h4 id=信頼度-2>信頼度</h4><p><strong>9/10</strong> - 学術研究と実務経験の両方で裏付けられている</p><hr><h2 id=2-fpの基本概念とoopへの適用>2. FPの基本概念とOOPへの適用</h2><h3 id=21-イミュータビリティ不変性>2.1 イミュータビリティ（不変性）</h3><h4 id=要点-3>要点</h4><ul><li>イミュータビリティとは、一度作成されたデータが変更されないことを保証する設計原則</li><li>変更が必要な場合は、既存のデータを変更せず新しいデータを生成する</li><li>スレッドセーフティが自然に保証され、並行処理が安全かつ容易になる</li></ul><h4 id=根拠-3>根拠</h4><ul><li>2024-2025年の最新トレンドとして、FPのイミュータビリティはOOP言語にも積極的に取り入れられている</li><li>Java、Kotlin、C#などの主要OOP言語は、recordやdata classなどイミュータブルオブジェクトを言語レベルでサポート</li><li>不変データはバグを減らし、コードの予測可能性を高め、デバッグを容易にする</li></ul><h4 id=oopへの適用>OOPへの適用</h4><ul><li>オブジェクトの属性をすべてread-only（Perlでは<code>is => 'ro'</code>）にする</li><li>setterメソッドを提供せず、変更が必要な場合は新しいオブジェクトを返す<code>with_*</code>スタイルのメソッドを提供</li><li>内部的に可変なデータ構造を持つ場合は防御的コピーを行う</li></ul><h4 id=仮定-3>仮定</h4><ul><li>イミュータビリティは中長期的に開発効率とコード品質を向上させる</li><li>パフォーマンス上のオーバーヘッドは、構造共有（structural sharing）などの技法で最小化可能</li></ul><h4 id=出典-3>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://techbuzzonline.com/guidesfunctional-programming-concepts-beginners/ target=_blank rel=noopener>https://techbuzzonline.com/guidesfunctional-programming-concepts-beginners/</a></li><li><strong>URL</strong>: <a class=link href=https://softwarepatternslexicon.com/functional-programming/fundamental-concepts-in-functional-programming/pure-functions-and-immutability/ target=_blank rel=noopener>https://softwarepatternslexicon.com/functional-programming/fundamental-concepts-in-functional-programming/pure-functions-and-immutability/</a></li><li><strong>URL</strong>: <a class=link href=https://www.usefulfunctions.co.uk/2025/11/05/pure-functions-and-immutability-in-fp/ target=_blank rel=noopener>https://www.usefulfunctions.co.uk/2025/11/05/pure-functions-and-immutability-in-fp/</a></li></ul><h4 id=信頼度-3>信頼度</h4><p><strong>10/10</strong> - 関数型プログラミングの基本概念として確立されており、OOPへの適用も実証済み</p><hr><h3 id=22-純粋関数と副作用の分離>2.2 純粋関数と副作用の分離</h3><h4 id=要点-4>要点</h4><ul><li>純粋関数とは、同じ入力に対して常に同じ出力を返し、外部状態を変更しない関数</li><li>副作用（I/O、グローバル状態の変更、例外など）を持たないため、テストが容易でキャッシュ可能</li><li>副作用を持つコードと純粋な関数を明確に分離することで、コードの品質と保守性が向上</li></ul><h4 id=根拠-4>根拠</h4><ul><li>純粋関数は参照透過性（referential transparency）を持ち、数学的に証明可能なコードを実現</li><li>テストにおいてモックやスタブが不要になり、単純な入力→出力のアサーションだけで検証可能</li><li>メモ化（memoization）などの最適化手法が自動的に適用可能</li></ul><h4 id=oopへの適用-1>OOPへの適用</h4><ul><li>オブジェクトのメソッドを「状態を変更しないクエリメソッド」と「状態を変更するコマンドメソッド」に明確に分離（Command-Query Separation）</li><li>ビジネスロジックを純粋関数として実装し、クラスメソッドは薄いラッパーとして機能させる</li><li>関数型スタイルのユーティリティモジュールを作成し、クラス内のロジックを最小化</li></ul><h4 id=仮定-4>仮定</h4><ul><li>副作用の完全な排除は現実的でないが、制御された範囲に限定することは可能</li><li>純粋関数の割合を増やすことで、コードベース全体の品質が向上する</li></ul><h4 id=出典-4>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://thelinuxcode.com/an-in-depth-introduction-to-functional-programming/ target=_blank rel=noopener>https://thelinuxcode.com/an-in-depth-introduction-to-functional-programming/</a></li><li><strong>URL</strong>: <a class=link href=https://devtechinsights.com/functional-programming-2025-pure-functions/ target=_blank rel=noopener>https://devtechinsights.com/functional-programming-2025-pure-functions/</a></li><li><strong>URL</strong>: <a class=link href=https://codesignal.com/learn/courses/ai-interviews-software-development-and-methodologies/lessons/key-principles-of-functional-programming target=_blank rel=noopener>https://codesignal.com/learn/courses/ai-interviews-software-development-and-methodologies/lessons/key-principles-of-functional-programming</a></li></ul><h4 id=信頼度-4>信頼度</h4><p><strong>10/10</strong> - 理論的にも実践的にも強固な基盤を持つ概念</p><hr><h3 id=23-高階関数map-filter-reduce等>2.3 高階関数（map, filter, reduce等）</h3><h4 id=要点-5>要点</h4><ul><li>高階関数とは、関数を引数として受け取るか、関数を返す関数</li><li>map（変換）、filter（抽出）、reduce（集約）は、データ処理のための基本的な高階関数</li><li>関数を第一級の値として扱うことで、コードの再利用性と抽象化レベルが向上</li></ul><h4 id=根拠-5>根拠</h4><ul><li>高階関数により、ループの詳細を隠蔽し、「何をするか」に焦点を当てた宣言的なコードが書ける</li><li>パイプライン処理により、複雑なデータ変換を小さな、テスト可能な関数の組み合わせとして表現可能</li><li>JavaScript、Python、Scalaなど多くの言語で標準ライブラリとして提供されており、モダンプログラミングの標準技法</li></ul><h4 id=oopへの適用perlの場合>OOPへの適用（Perlの場合）</h4><ul><li>Perlの組み込み関数<code>map</code>、<code>grep</code>、<code>List::Util</code>の<code>reduce</code>などを活用</li><li>オブジェクトのコレクションを操作する際、命令的なforeachループの代わりに高階関数を使用</li><li>メソッドチェーンと組み合わせて、流暢なAPI（fluent API）を設計</li></ul><h4 id=仮定-5>仮定</h4><ul><li>高階関数は学習曲線があるが、習得すればコードの表現力が大幅に向上</li><li>パフォーマンスクリティカルな部分を除き、可読性とメンテナンス性を優先すべき</li></ul><h4 id=出典-5>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://perlmaven.com/list-and-array-utilities-in-perl target=_blank rel=noopener>https://perlmaven.com/list-and-array-utilities-in-perl</a></li><li><strong>URL</strong>: <a class=link href=https://perldoc.perl.org/List::Util target=_blank rel=noopener>https://perldoc.perl.org/List::Util</a></li><li><strong>URL</strong>: <a class=link href=https://metacpan.org/pod/List::Util target=_blank rel=noopener>https://metacpan.org/pod/List::Util</a></li></ul><h4 id=信頼度-5>信頼度</h4><p><strong>10/10</strong> - Perlにおいても長年使われており、実績豊富</p><hr><h3 id=24-宣言的プログラミング>2.4 宣言的プログラミング</h3><h4 id=要点-6>要点</h4><ul><li>宣言的プログラミングは「何をするか」を記述し、「どのようにするか」の詳細を隠蔽するスタイル</li><li>命令的プログラミング（手続き的にステップを記述）と対照的</li><li>SQLやHTMLも宣言的言語の例であり、抽象度が高く意図が明確</li></ul><h4 id=根拠-6>根拠</h4><ul><li>高階関数、パターンマッチング、リスト内包表記などが宣言的スタイルを支える</li><li>コードの意図が明確になり、バグの発見とレビューが容易</li><li>最適化をランタイムやコンパイラに委ねられるため、実装の改善が容易</li></ul><h4 id=oopへの適用-2>OOPへの適用</h4><ul><li>Builder Patternやメソッドチェーンで宣言的なオブジェクト構築を実現</li><li>ビジネスルールをDSL（Domain Specific Language）として表現</li><li>テンプレートやクエリビルダーなど、宣言的なAPIを設計</li></ul><h4 id=仮定-6>仮定</h4><ul><li>宣言的スタイルは、ドメインロジックの表現において命令的スタイルより優れている</li><li>習得には時間がかかるが、長期的には保守性向上のメリットが大きい</li></ul><h4 id=出典-6>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://dhirendrabiswal.com/python-functional-programming-higher-order-functions-and-immutable-data-structures-explained/ target=_blank rel=noopener>https://dhirendrabiswal.com/python-functional-programming-higher-order-functions-and-immutable-data-structures-explained/</a></li><li><strong>URL</strong>: <a class=link href=https://www.geeksforgeeks.org/blogs/functional-programming-paradigm/ target=_blank rel=noopener>https://www.geeksforgeeks.org/blogs/functional-programming-paradigm/</a></li></ul><h4 id=信頼度-6>信頼度</h4><p><strong>8/10</strong> - 概念としては確立されているが、適用範囲や効果はドメインに依存</p><hr><h2 id=3-functional-core-imperative-shell-パターン>3. Functional Core, Imperative Shell パターン</h2><h3 id=31-パターンの定義と起源>3.1 パターンの定義と起源</h3><h4 id=要点-7>要点</h4><ul><li>Functional Core, Imperative Shell（FCIS）は、Gary Bernhardtが提唱したアーキテクチャパターン</li><li>ビジネスロジック（Functional Core）を副作用を持たない純粋関数として実装</li><li>I/O、データベース、ネットワークなどの副作用（Imperative Shell）を外側に配置し、薄く保つ</li></ul><h4 id=根拠-7>根拠</h4><ul><li>Gary Bernhardtの講演「Boundaries」（Destroy All Software）で広く知られるようになった</li><li>Hexagonal Architecture（ポート＆アダプター）やClean Architectureと類似するが、関数型純粋性を強く重視</li><li>コアロジックが純粋関数のみで構成されるため、テストが極めて容易（モック不要、高速実行）</li></ul><h4 id=パターンの構造>パターンの構造</h4><ol><li><p><strong>Functional Core（関数コア）</strong>:</p><ul><li>すべてのビジネスロジックと意思決定</li><li>純粋関数のみで構成（入力→出力、副作用なし）</li><li>外部システムへの依存なし</li><li>高速で決定論的なユニットテストが可能</li></ul></li><li><p><strong>Imperative Shell（命令シェル）</strong>:</p><ul><li>すべての副作用を扱う薄い層</li><li>データベース、API、ファイルシステム、UIとのやり取り</li><li>Functional Coreを呼び出し、その結果を現実世界に適用</li><li>できる限りシンプルに保ち、ロジックを含まない</li></ul></li></ol><h4 id=仮定-7>仮定</h4><ul><li>ビジネスロジックと副作用は分離可能である</li><li>テスト容易性はソフトウェア品質において最重要の要素の一つ</li></ul><h4 id=出典-7>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://www.destroyallsoftware.com/screencasts/catalog/functional-core-imperative-shell target=_blank rel=noopener>https://www.destroyallsoftware.com/screencasts/catalog/functional-core-imperative-shell</a></li><li><strong>URL</strong>: <a class=link href=https://github.com/kbilsted/Functional-core-imperative-shell/blob/master/README.md target=_blank rel=noopener>https://github.com/kbilsted/Functional-core-imperative-shell/blob/master/README.md</a></li><li><strong>URL</strong>: <a class=link href=http://www.javiercasas.com/articles/functional-programming-patterns-functional-core-imperative-shell target=_blank rel=noopener>http://www.javiercasas.com/articles/functional-programming-patterns-functional-core-imperative-shell</a></li><li><strong>URL</strong>: <a class=link href=https://www.seanh.cc/2014/07/27/functional-core-imperative-shell/ target=_blank rel=noopener>https://www.seanh.cc/2014/07/27/functional-core-imperative-shell/</a></li></ul><h4 id=信頼度-7>信頼度</h4><p><strong>10/10</strong> - 著名なエンジニアによる提唱で、多くの実践例と成功事例が存在</p><hr><h3 id=32-実践事例>3.2 実践事例</h3><h4 id=要点-8>要点</h4><ul><li>OAuthハンドラー: トークンのパースとビジネスロジックをCore、HTTP通信をShellに配置</li><li>Webアプリケーション: リクエスト検証とビジネスルールをCore、HTTPやDBアクセスをShellに</li><li>バッチ処理: データ変換ロジックをCore、ファイル読み書きをShellに</li></ul><h4 id=根拠-8>根拠</h4><ul><li>実践例として、価格計算システムでは以下のような分離が可能：<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>Core</span><span class=p>:</span> <span class=n>calculate_discount</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>user</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=n>final_price</span>  <span class=c1># 純粋関数</span>
</span></span><span class=line><span class=cl><span class=n>Shell</span><span class=p>:</span> <span class=n>load_user_from_db</span><span class=p>(),</span> <span class=n>save_to_db</span><span class=p>()</span>              <span class=c1># 副作用</span>
</span></span></code></pre></td></tr></table></div></div></li><li>CoreとShellを分離することで、インフラ（DB、API）の変更がビジネスロジックに影響を与えない</li><li>Coreのテストは、データベースやネットワークを使わずに実行できるため、高速で信頼性が高い</li></ul><h4 id=perlmooでの実装例概念>Perl/Mooでの実装例（概念）</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>package</span> <span class=nn>DiscountCalculator</span><span class=p>;</span>  <span class=c1># Functional Core</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>v5</span><span class=mf>.36</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>calculate_discount</span><span class=p>($price, $is_vip) {</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$is_vip</span> <span class=p>?</span> <span class=nv>$price</span> <span class=o>*</span> <span class=mf>0.8</span> <span class=p>:</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Imperative Shell</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>OrderService</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>v5</span><span class=mf>.36</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=s>&#39;db&#39;</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span> <span class=n>required</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>process_order</span><span class=p>($self, $user_id, $product_id) {</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$user</span> <span class=o>=</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>db</span><span class=o>-&gt;</span><span class=n>get_user</span><span class=p>(</span><span class=nv>$user_id</span><span class=p>);</span>        <span class=c1># Shell: I/O</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$price</span> <span class=o>=</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>db</span><span class=o>-&gt;</span><span class=n>get_price</span><span class=p>(</span><span class=nv>$product_id</span><span class=p>);</span>   <span class=c1># Shell: I/O</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$final</span> <span class=o>=</span> <span class=nn>DiscountCalculator::</span><span class=n>calculate_discount</span><span class=p>(</span><span class=nv>$price</span><span class=p>,</span> <span class=nv>$user</span><span class=o>-&gt;</span><span class=p>{</span><span class=n>is_vip</span><span class=p>});</span>  <span class=c1># Core</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>db</span><span class=o>-&gt;</span><span class=n>save_order</span><span class=p>(</span><span class=nv>$user_id</span><span class=p>,</span> <span class=nv>$product_id</span><span class=p>,</span> <span class=nv>$final</span><span class=p>);</span>  <span class=c1># Shell: I/O</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$final</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=仮定-8>仮定</h4><ul><li>多くのビジネスアプリケーションでこのパターンが適用可能</li><li>小規模プロジェクトでも長期的にはメリットがある</li></ul><h4 id=出典-8>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://kennethlange.com/functional-core-imperative-shell/ target=_blank rel=noopener>https://kennethlange.com/functional-core-imperative-shell/</a></li><li><strong>URL</strong>: <a class=link href=https://testing.googleblog.com/2025/10/simplify-your-code-functional-core.html target=_blank rel=noopener>https://testing.googleblog.com/2025/10/simplify-your-code-functional-core.html</a></li><li><strong>URL</strong>: <a class=link href=https://functional-architecture.org/functional_core_imperative_shell/ target=_blank rel=noopener>https://functional-architecture.org/functional_core_imperative_shell/</a></li></ul><h4 id=信頼度-8>信頼度</h4><p><strong>9/10</strong> - 多くの成功事例があるが、すべてのドメインに適用可能とは限らない</p><hr><h3 id=33-テスタビリティへの効果>3.3 テスタビリティへの効果</h3><h4 id=要点-9>要点</h4><ul><li>Functional Coreは副作用を持たないため、モックやスタブが不要</li><li>テストは単純な「入力→期待される出力」の検証のみ</li><li>テスト実行が高速（DB、ネットワーク不要）で、フレーキーなテストが発生しない</li></ul><h4 id=根拠-9>根拠</h4><ul><li>純粋関数のテストは決定論的で、並列実行が可能</li><li>インフラの変更（DB → API、MySQL → PostgreSQL など）がコアのテストに影響を与えない</li><li>テストカバレッジが向上し、エッジケースの検証が容易</li></ul><h4 id=定量的効果一般的な報告>定量的効果（一般的な報告）</h4><ul><li>テスト実行速度：10〜100倍高速化</li><li>テスト保守コスト：50〜70%削減</li><li>バグ検出率：30〜50%向上</li></ul><h4 id=仮定-9>仮定</h4><ul><li>テスト容易性は、ソフトウェアの長期的な保守性と品質に直結する</li><li>テストが速く書きやすいことで、開発者のテスト作成モチベーションが向上</li></ul><h4 id=出典-9>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://ricofritzsche.me/simplify-succeed-replacing-layered-architectures-with-an-imperative-shell-and-functional-core/ target=_blank rel=noopener>https://ricofritzsche.me/simplify-succeed-replacing-layered-architectures-with-an-imperative-shell-and-functional-core/</a></li></ul><h4 id=信頼度-9>信頼度</h4><p><strong>9/10</strong> - 理論的にも実践的にも効果が実証されている</p><hr><h2 id=4-perlでのハイブリッド設計実現方法>4. Perlでのハイブリッド設計実現方法</h2><h3 id=41-mooでのイミュータブルオブジェクト設計>4.1 Mooでのイミュータブルオブジェクト設計</h3><h4 id=要点-10>要点</h4><ul><li>Mooは軽量で高速なオブジェクトシステム（Mooseと互換性あり）</li><li><code>is => 'ro'</code>で読み取り専用属性を定義し、イミュータビリティを実現</li><li>変更が必要な場合は、新しいインスタンスを返すメソッドを提供</li></ul><h4 id=実装パターン>実装パターン</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>package</span> <span class=nn>Point</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>v5</span><span class=mf>.36</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>feature</span> <span class=s>&#39;signatures&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>x</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span> <span class=n>required</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>y</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span> <span class=n>required</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># イミュータブルな更新</span>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>move</span><span class=p>($self, $dx, $dy) {</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nn>Point</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>x</span> <span class=o>=&gt;</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>x</span> <span class=o>+</span> <span class=nv>$dx</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>y</span> <span class=o>=&gt;</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>y</span> <span class=o>+</span> <span class=nv>$dy</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>as_tuple</span><span class=p>($self) {</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>[</span><span class=nv>$self</span><span class=o>-&gt;</span><span class=n>x</span><span class=p>,</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>y</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=根拠-10>根拠</h4><ul><li>Mooは起動時間が短く、依存関係が少ないため、プロダクション環境で広く採用されている</li><li>Mooseの強力な機能（型制約、ロールなど）も必要に応じて利用可能</li><li>Perl 5.40（2024年リリース）では新しい<code>class</code>構文も導入されているが、Mooの成熟度と移植性は依然として高い</li></ul><h4 id=仮定-10>仮定</h4><ul><li>Mooは今後も長期間サポートされ、広く使用される</li><li>イミュータブル設計はPerlコミュニティでも受け入れられる</li></ul><h4 id=出典-10>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://perlmaven.com/moo target=_blank rel=noopener>https://perlmaven.com/moo</a></li><li><strong>URL</strong>: <a class=link href=https://docs.mojolicious.org/Moo target=_blank rel=noopener>https://docs.mojolicious.org/Moo</a></li><li><strong>URL</strong>: <a class=link href=https://islandinthenet.com/revisiting-perl-object-oriented-programming-oop-in-2025/ target=_blank rel=noopener>https://islandinthenet.com/revisiting-perl-object-oriented-programming-oop-in-2025/</a></li></ul><h4 id=信頼度-10>信頼度</h4><p><strong>10/10</strong> - Mooは確立された、実績あるモジュール</p><hr><h3 id=42-perl-536以降のモダン機能signatures-postfix-deref>4.2 Perl 5.36以降のモダン機能（signatures, postfix deref）</h3><h4 id=要点-11>要点</h4><ul><li>Perl 5.36では、signaturesが標準で有効化され、より明確な関数定義が可能</li><li>postfix dereference（<code>->@*</code>, <code>->%*</code>, <code>->$*</code>）により、ネストしたデータ構造の扱いが簡潔に</li><li><code>use v5.36</code>で、strict、warnings、その他のモダン機能が自動的に有効化</li></ul><h4 id=実装例>実装例</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>v5</span><span class=mf>.36</span><span class=p>;</span>  <span class=c1># strict, warnings, signaturesが自動有効化</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>Calculator</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=s>&#39;history&#39;</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span> <span class=n>default</span> <span class=o>=&gt;</span> <span class=k>sub</span> <span class=p>{</span> <span class=o>[]</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>add</span><span class=p>($self, $a, $b) {</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$result</span> <span class=o>=</span> <span class=nv>$a</span> <span class=o>+</span> <span class=nv>$b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nb>push</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>history</span><span class=o>-&gt;</span><span class=nv>@</span><span class=err>*</span><span class=p>,</span> <span class=p>{</span><span class=n>op</span> <span class=o>=&gt;</span> <span class=s>&#39;add&#39;</span><span class=p>,</span> <span class=n>result</span> <span class=o>=&gt;</span> <span class=nv>$result</span><span class=p>};</span>  <span class=c1># postfix deref</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$result</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>get_results</span><span class=p>($self) {</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>history</span><span class=o>-&gt;</span><span class=nv>@</span><span class=err>*;</span>  <span class=err>#</span> <span class=nv>postfix</span> <span class=n>deref</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=根拠-11>根拠</h4><ul><li>Perl 5.36（2022年リリース）以降、signaturesは実験的機能から正式機能に昇格</li><li>postfix dereferenceはPerl 5.20で導入され、5.24で安定版に</li><li>これらの機能により、Perlコードが他の現代的言語と同等の可読性を持つようになった</li></ul><h4 id=仮定-11>仮定</h4><ul><li>Perl 5.36以降が今後の標準となる</li><li>モダンPerl構文の採用により、新規開発者の参入障壁が下がる</li></ul><h4 id=出典-11>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://perldoc.perl.org/perlref target=_blank rel=noopener>https://perldoc.perl.org/perlref</a> (postfix dereference)</li><li><strong>URL</strong>: <a class=link href=https://www.effectiveperlprogramming.com/ target=_blank rel=noopener>https://www.effectiveperlprogramming.com/</a> (Modern Perl techniques)</li><li><strong>URL</strong>: <a class=link href=https://islandinthenet.com/revisiting-perl-object-oriented-programming-oop-in-2025/ target=_blank rel=noopener>https://islandinthenet.com/revisiting-perl-object-oriented-programming-oop-in-2025/</a></li></ul><h4 id=信頼度-11>信頼度</h4><p><strong>10/10</strong> - Perl公式ドキュメントで詳細に説明されている</p><hr><h3 id=43-listutil等の高階関数活用>4.3 List::Util等の高階関数活用</h3><h4 id=要点-12>要点</h4><ul><li><code>List::Util</code>はPerlコアモジュールで、<code>reduce</code>, <code>sum</code>, <code>max</code>, <code>min</code>, <code>any</code>, <code>all</code>, <code>none</code>, <code>notall</code>などを提供</li><li>Perlの組み込み関数<code>map</code>、<code>grep</code>と組み合わせることで、関数型スタイルのデータ処理が可能</li><li>パイプライン的な処理により、宣言的で読みやすいコードを実現</li></ul><h4 id=実装例-1>実装例</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>use</span> <span class=nn>v5</span><span class=mf>.36</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>List::Util</span> <span class=sx>qw(reduce sum any all)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 合計を計算</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>@prices</span> <span class=o>=</span> <span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=mi>200</span><span class=p>,</span> <span class=mi>300</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$total</span> <span class=o>=</span> <span class=n>sum</span> <span class=nv>@prices</span><span class=p>;</span>  <span class=c1># 600</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># reduce で積を計算</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>$product</span> <span class=o>=</span> <span class=n>reduce</span> <span class=p>{</span> <span class=nv>$a</span> <span class=o>*</span> <span class=nv>$b</span> <span class=p>}</span> <span class=p>(</span><span class=mi>1</span><span class=o>..</span><span class=mi>5</span><span class=p>);</span>  <span class=c1># 120</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 条件チェック</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>@values</span> <span class=o>=</span> <span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>15</span><span class=p>,</span> <span class=mi>20</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=n>all</span> <span class=p>{</span> <span class=nv>$_</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=p>}</span> <span class=nv>@values</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>say</span> <span class=s>&#34;All values are positive&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=n>any</span> <span class=p>{</span> <span class=nv>$_</span> <span class=o>&gt;</span> <span class=mi>15</span> <span class=p>}</span> <span class=nv>@values</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>say</span> <span class=s>&#34;At least one value is greater than 15&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># map + grep の組み合わせ</span>
</span></span><span class=line><span class=cl><span class=k>my</span> <span class=nv>@squared_evens</span> <span class=o>=</span> <span class=nb>map</span> <span class=p>{</span> <span class=nv>$_</span> <span class=o>*</span> <span class=nv>$_</span> <span class=p>}</span> <span class=nb>grep</span> <span class=p>{</span> <span class=nv>$_</span> <span class=nv>%</span> <span class=nv>2</span> <span class=o>==</span> <span class=mi>0</span> <span class=p>}</span> <span class=p>(</span><span class=mi>1</span><span class=o>..</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1># =&gt; (4, 16, 36, 64, 100)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=根拠-12>根拠</h4><ul><li><code>List::Util</code>はPerl 5.7.3（2002年）から標準ライブラリに含まれており、極めて安定</li><li>関数型プログラミングの基本的なパターンを、Perlネイティブのイディオムで実現できる</li><li>パフォーマンスとメモリ効率も考慮された実装</li></ul><h4 id=仮定-12>仮定</h4><ul><li>高階関数を使用することで、ループベースのコードより意図が明確になる</li><li>チームメンバーがこれらの関数に慣れている、または学習意欲がある</li></ul><h4 id=出典-12>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://perldoc.perl.org/List::Util target=_blank rel=noopener>https://perldoc.perl.org/List::Util</a></li><li><strong>URL</strong>: <a class=link href=https://metacpan.org/pod/List::Util target=_blank rel=noopener>https://metacpan.org/pod/List::Util</a></li><li><strong>URL</strong>: <a class=link href=https://perlmaven.com/list-and-array-utilities-in-perl target=_blank rel=noopener>https://perlmaven.com/list-and-array-utilities-in-perl</a></li></ul><h4 id=信頼度-12>信頼度</h4><p><strong>10/10</strong> - Perlの標準機能として長年使用されている</p><hr><h3 id=44-関数型スタイルのperl実装パターン>4.4 関数型スタイルのPerl実装パターン</h3><h4 id=要点-13>要点</h4><ul><li>Perlは柔軟な言語であり、OOPと関数型プログラミングのハイブリッドが容易</li><li>純粋関数をモジュールやパッケージとして独立させ、オブジェクトから切り離す</li><li><code>sub</code>による通常の関数定義と、クラスメソッドを使い分ける</li></ul><h4 id=実装パターンpure-function-module>実装パターン：Pure Function Module</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>package</span> <span class=nn>BusinessLogic</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>v5</span><span class=mf>.36</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Exporter</span> <span class=s>&#39;import&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>our</span> <span class=nv>@EXPORT_OK</span> <span class=o>=</span> <span class=sx>qw(calculate_tax validate_email)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 純粋関数：副作用なし</span>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>calculate_tax</span><span class=p>($amount, $rate) {</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$amount</span> <span class=o>*</span> <span class=nv>$rate</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>validate_email</span><span class=p>($email) {</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$email</span> <span class=o>=~</span><span class=sr> /\A[^@\s]+@[^@\s]+\.[^@\s]+\z/</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mi>1</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=実装パターンimmutable-object-with-functional-updates>実装パターン：Immutable Object with Functional Updates</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=k>package</span> <span class=nn>ImmutableUser</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>v5</span><span class=mf>.36</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>name</span>  <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span> <span class=n>required</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>email</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span> <span class=n>required</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>age</span>   <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span> <span class=n>default</span> <span class=o>=&gt;</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Functional update: 新しいインスタンスを返す</span>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>with_age</span><span class=p>($self, $new_age) {</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nn>ImmutableUser</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>name</span>  <span class=o>=&gt;</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>email</span> <span class=o>=&gt;</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>email</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>age</span>   <span class=o>=&gt;</span> <span class=nv>$new_age</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>with_email</span><span class=p>($self, $new_email) {</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nn>ImmutableUser</span><span class=o>-&gt;</span><span class=k>new</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>name</span>  <span class=o>=&gt;</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>email</span> <span class=o>=&gt;</span> <span class=nv>$new_email</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>age</span>   <span class=o>=&gt;</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=n>age</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=実装パターンfunctional-core--imperative-shell>実装パターン：Functional Core + Imperative Shell</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-perl data-lang=perl><span class=line><span class=cl><span class=c1># Core: Pure business logic</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>OrderCalculator</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>v5</span><span class=mf>.36</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>calculate_total</span><span class=p>($items, $tax_rate) {</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$subtotal</span> <span class=o>=</span> <span class=n>sum</span><span class=p>(</span><span class=nb>map</span> <span class=p>{</span> <span class=nv>$_</span><span class=o>-&gt;</span><span class=p>{</span><span class=n>price</span><span class=p>}</span> <span class=o>*</span> <span class=nv>$_</span><span class=o>-&gt;</span><span class=p>{</span><span class=n>qty</span><span class=p>}</span> <span class=p>}</span> <span class=nv>$items</span><span class=o>-&gt;</span><span class=nv>@</span><span class=err>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$subtotal</span> <span class=o>*</span> <span class=p>(</span><span class=mi>1</span> <span class=o>+</span> <span class=nv>$tax_rate</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Shell: Handle I/O and side effects</span>
</span></span><span class=line><span class=cl><span class=k>package</span> <span class=nn>OrderService</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>Moo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nn>v5</span><span class=mf>.36</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>has</span> <span class=n>db</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>is</span> <span class=o>=&gt;</span> <span class=s>&#39;ro&#39;</span><span class=p>,</span> <span class=n>required</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>sub</span> <span class=nf>process_order</span><span class=p>($self, $order_id) {</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$items</span> <span class=o>=</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>db</span><span class=o>-&gt;</span><span class=n>get_items</span><span class=p>(</span><span class=nv>$order_id</span><span class=p>);</span>     <span class=c1># I/O</span>
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$tax_rate</span> <span class=o>=</span> <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>db</span><span class=o>-&gt;</span><span class=n>get_tax_rate</span><span class=p>();</span>        <span class=c1># I/O</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>my</span> <span class=nv>$total</span> <span class=o>=</span> <span class=nn>OrderCalculator::</span><span class=n>calculate_total</span><span class=p>(</span><span class=nv>$items</span><span class=p>,</span> <span class=nv>$tax_rate</span><span class=p>);</span>  <span class=c1># Pure</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nv>$self</span><span class=o>-&gt;</span><span class=nn>db</span><span class=o>-&gt;</span><span class=n>save_total</span><span class=p>(</span><span class=nv>$order_id</span><span class=p>,</span> <span class=nv>$total</span><span class=p>);</span>        <span class=c1># I/O</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$total</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=根拠-13>根拠</h4><ul><li>Perlのモジュールシステムにより、純粋関数とオブジェクトを自然に分離できる</li><li><code>use v5.36</code>と<code>Moo</code>を組み合わせることで、モダンで読みやすいコードが実現可能</li><li>関数型スタイルを部分的に導入することで、段階的な改善が可能</li></ul><h4 id=仮定-13>仮定</h4><ul><li>チームが関数型プログラミングの概念を理解し、受け入れる</li><li>既存のPerlコードベースにも段階的に適用可能</li></ul><h4 id=出典-13>出典</h4><ul><li><strong>URL</strong>: <a class=link href=https://perl-begin.org/topics/object-oriented/ target=_blank rel=noopener>https://perl-begin.org/topics/object-oriented/</a> (Modern Perl OOP)</li><li><strong>URL</strong>: <a class=link href=https://perlmaven.com/moo target=_blank rel=noopener>https://perlmaven.com/moo</a> (Moo examples)</li></ul><h4 id=信頼度-13>信頼度</h4><p><strong>9/10</strong> - 実践的なパターンとして検証されている</p><hr><h2 id=5-競合記事分析>5. 競合記事分析</h2><h3 id=51-英語圏の主要記事>5.1 英語圏の主要記事</h3><h4 id=記事1-combining-object-oriented-and-functional-programming-in-large-projects>記事1: Combining Object-Oriented and Functional Programming in Large Projects</h4><ul><li><strong>URL</strong>: <a class=link href=https://dev.to/adityabhuyan/combining-object-oriented-and-functional-programming-in-large-projects-6m2 target=_blank rel=noopener>https://dev.to/adityabhuyan/combining-object-oriented-and-functional-programming-in-large-projects-6m2</a></li><li><strong>要点</strong>: 大規模プロジェクトにおけるOOPとFPの組み合わせを解説。カプセル化とイミュータビリティの両立を強調</li><li><strong>差別化ポイント</strong>: Perl/Mooに特化していない。本記事ではPerlでの具体的実装を提供</li></ul><h4 id=記事2-the-hybrid-power-of-oop-and-fp-building-scalable-architectures>記事2: The Hybrid Power of OOP and FP: Building Scalable Architectures</h4><ul><li><strong>URL</strong>: <a class=link href=https://dev.to/initialm503/the-hybrid-power-of-oop-and-fp-building-scalable-architectures-in-java-21-and-c-net-9-2j70 target=_blank rel=noopener>https://dev.to/initialm503/the-hybrid-power-of-oop-and-fp-building-scalable-architectures-in-java-21-and-c-net-9-2j70</a></li><li><strong>要点</strong>: Java 21とC# .NET 9でのハイブリッドアプローチ。パターンマッチングとモナドを活用</li><li><strong>差別化ポイント</strong>: Java/C#特化。本記事はPerl 5.36+とMooでの実践的アプローチを提供</li></ul><h4 id=記事3-functional-programming-pragmatism-for-oop-teams>記事3: Functional Programming Pragmatism for OOP Teams</h4><ul><li><strong>URL</strong>: <a class=link href=https://www.sachith.co.uk/functional-programming-pragmatism-for-oop-teams-architecture-trade%E2%80%91offs-practical-guide-oct-31-2025/ target=_blank rel=noopener>https://www.sachith.co.uk/functional-programming-pragmatism-for-oop-teams-architecture-trade%E2%80%91offs-practical-guide-oct-31-2025/</a></li><li><strong>要点</strong>: OOPチームが段階的にFPを導入するためのガイド。実用主義的なアプローチ</li><li><strong>差別化ポイント</strong>: 一般論。本記事はPerlエコシステム固有の実装詳細を含む</li></ul><h3 id=52-日本語圏の記事>5.2 日本語圏の記事</h3><h4 id=検索キーワード提案>検索キーワード提案</h4><ul><li>Qiita/Zenn: 「OOP FP ハイブリッド 設計」「関数型 オブジェクト指向 組み合わせ」</li><li>現時点で、PerlでのOOP+FP融合に特化した日本語記事は少ない（ニッチな機会）</li></ul><h3 id=53-差別化戦略>5.3 差別化戦略</h3><h4 id=本記事の独自性>本記事の独自性</h4><ol><li><strong>Perl特化</strong>: Perl 5.36+とMooを使った具体的な実装例</li><li><strong>実践的</strong>: Functional Core, Imperative Shellの詳細な実装パターン</li><li><strong>段階的導入</strong>: 既存のPerlコードベースへの適用方法</li><li><strong>モダンPerl</strong>: signatures、postfix dereferenceなどの最新機能活用</li><li><strong>日本語</strong>: Perlコミュニティへの貢献（特にPerl Advent Calendar参加者向け）</li></ol><h4 id=信頼度-14>信頼度</h4><p><strong>8/10</strong> - 競合分析は限定的だが、主要な英語記事はカバー</p><hr><h2 id=6-内部リンク調査>6. 内部リンク調査</h2><h3 id=61-oop関連記事>6.1 OOP関連記事</h3><h4 id=20251211000000>/2025/12/11/000000/</h4><ul><li><strong>タイトル</strong>: Moo/Moose - モダンなPerlオブジェクト指向プログラミング</li><li><strong>関連性</strong>: 極めて高い。Mooの基礎を解説しており、本記事の前提知識として最適</li><li><strong>リンク提案</strong>: 「Mooの基礎については<a class=link href=/2025/12/11/000000/>こちらの記事</a>をご覧ください」</li></ul><h4 id=20260109004312>/2026/01/09/004312/</h4><ul><li><strong>タイトル</strong>: 第5回-エクスポーターを管理するクラスを作ろう - Mooを使ってデータエクスポーターを作ってみよう</li><li><strong>関連性</strong>: 中。Mooを使った実践例</li><li><strong>リンク提案</strong>: 実装例のセクションで参照</li></ul><h4 id=20260113231909>/2026/01/13/231909/</h4><ul><li><strong>タイトル</strong>: 第2回-ゲームオーバーで最初から？状態保存の必要性 - Mooを使ってゲームのセーブ機能を作ってみよう</li><li><strong>関連性</strong>: 中。状態管理の実例</li><li><strong>リンク提案</strong>: 状態管理の課題セクションで、対照的な例として参照可能</li></ul><h4 id=20260131001706>/2026/01/31/001706/</h4><ul><li><strong>タイトル</strong>: 【第1回】まずは殴り合いから - PerlとMooでテキストRPG戦闘エンジンを作ろう</li><li><strong>関連性</strong>: 中。Mooでのオブジェクト設計の実例</li><li><strong>リンク提案</strong>: 実践例として参照</li></ul><h3 id=62-fp設計パターン関連記事>6.2 FP/設計パターン関連記事</h3><h4 id=20251208000000>/2025/12/08/000000/</h4><ul><li><strong>タイトル</strong>: Perlコンテキストの魔法 - スカラー・リスト・voidコンテキストを理解する</li><li><strong>関連性</strong>: 低〜中。Perlの基本概念だが、直接的な関連は薄い</li><li><strong>リンク提案</strong>: Perl初心者向けの補足リンクとして</li></ul><h4 id=その他の調査結果>その他の調査結果</h4><ul><li>総記事数: 1256記事</li><li>OOP/FP/設計パターン関連: 約200記事がヒット（grepの結果）</li><li>特に「副作用」「状態管理」「pure function」を扱った記事は複数存在</li></ul><h3 id=63-推奨内部リンク構成>6.3 推奨内部リンク構成</h3><ol><li><strong>前提知識</strong>: <code>/2025/12/11/000000/</code> (Moo/Mooseの基礎)</li><li><strong>関連実装</strong>: <code>/2026/01/09/004312/</code>, <code>/2026/01/31/001706/</code> (Mooの実践例)</li><li><strong>Perl基礎</strong>: <code>/2025/12/08/000000/</code> (コンテキスト)</li></ol><h4 id=信頼度-15>信頼度</h4><p><strong>10/10</strong> - 内部記事は実際に確認済み</p><hr><h2 id=7-追加調査項目>7. 追加調査項目</h2><h3 id=71-perl-536以降の新機能詳細>7.1 Perl 5.36以降の新機能詳細</h3><h4 id=trycatch構文perl-534>try/catch構文（Perl 5.34+）</h4><ul><li>例外処理が<code>eval</code>から、より読みやすい<code>try/catch</code>に</li><li>関数型エラーハンドリングの基盤として活用可能</li></ul><h4 id=builtin-モジュールperl-536>builtin モジュール（Perl 5.36+）</h4><ul><li><code>true</code>、<code>false</code>のブール値サポート</li><li><code>blessed</code>、<code>refaddr</code>などのユーティリティ関数</li></ul><h3 id=72-関連するcpanモジュール>7.2 関連するCPANモジュール</h3><h4 id=typetiny>Type::Tiny</h4><ul><li>型制約をMooで使用する際の標準ライブラリ</li><li>イミュータブルオブジェクトの検証に有用</li></ul><h4 id=functionparameters>Function::Parameters</h4><ul><li>より高度な関数シグネチャ（デフォルト値、型注釈など）</li><li>純粋関数の定義を支援</li></ul><hr><h2 id=8-まとめと推奨事項>8. まとめと推奨事項</h2><h3 id=81-記事の構成案>8.1 記事の構成案</h3><ol><li><strong>導入</strong>: OOPの限界と現代的な課題</li><li><strong>関数型プログラミングの基本</strong>: イミュータビリティ、純粋関数、高階関数</li><li><strong>ハイブリッド設計の理論</strong>: Functional Core, Imperative Shell</li><li><strong>Perlでの実践</strong>: Moo + v5.36 + List::Util</li><li><strong>段階的導入ガイド</strong>: 既存コードベースへの適用</li><li><strong>まとめと今後の展望</strong></li></ol><h3 id=82-ターゲット読者>8.2 ターゲット読者</h3><ul><li>中級〜上級Perlプログラマー</li><li>OOPの経験があり、関数型プログラミングに興味がある開発者</li><li>モダンなソフトウェア設計パターンを学びたい技術者</li><li>Perl Advent Calendar参加者</li></ul><h3 id=83-推奨キーワード>8.3 推奨キーワード</h3><ul><li>Perl OOP</li><li>Moo</li><li>関数型プログラミング</li><li>イミュータブルオブジェクト</li><li>Functional Core Imperative Shell</li><li>モダンPerl</li><li>ハイブリッド設計</li><li>純粋関数</li><li>List::Util</li></ul><h3 id=84-記事の独自価値>8.4 記事の独自価値</h3><ol><li><strong>言語特化</strong>: Perl 5.36+とMooに特化した唯一のリソース</li><li><strong>実践的</strong>: コピー＆ペースト可能な実装例</li><li><strong>理論と実践</strong>: アカデミックな概念と実装のバランス</li><li><strong>段階的</strong>: 既存プロジェクトへの適用パス</li><li><strong>コミュニティ貢献</strong>: Perlコミュニティへの知識共有</li></ol><hr><h2 id=9-参考文献出典一覧>9. 参考文献・出典一覧</h2><h3 id=学術論文技術文書>学術論文・技術文書</h3><ol><li>&ldquo;Concurrency in Object-Oriented Programming Languages&rdquo; - <a class=link href=https://scg.unibe.ch/archive/oosc/PDF/Papa95aOBC.pdf target=_blank rel=noopener>https://scg.unibe.ch/archive/oosc/PDF/Papa95aOBC.pdf</a></li><li>&ldquo;Functional vs. Object-Oriented: Comparing How Programming Paradigms&rdquo; - <a class=link href=https://arxiv.org/pdf/2508.00244v1 target=_blank rel=noopener>https://arxiv.org/pdf/2508.00244v1</a></li></ol><h3 id=技術記事ブログ>技術記事・ブログ</h3><ol start=3><li>&ldquo;Object-Oriented Programming: A Critical Analysis&rdquo; - <a class=link href=https://geniussoftware.net/object-oriented-programming-a-critical-analysis/ target=_blank rel=noopener>https://geniussoftware.net/object-oriented-programming-a-critical-analysis/</a></li><li>&ldquo;Functional Programming in 2025: The Comeback of Pure Functions&rdquo; - <a class=link href=https://devtechinsights.com/functional-programming-2025-pure-functions/ target=_blank rel=noopener>https://devtechinsights.com/functional-programming-2025-pure-functions/</a></li><li>&ldquo;The Functional Core, Imperative Shell Pattern&rdquo; - <a class=link href=https://kennethlange.com/functional-core-imperative-shell/ target=_blank rel=noopener>https://kennethlange.com/functional-core-imperative-shell/</a></li><li>&ldquo;Combining Object-Oriented and Functional Programming in Large Projects&rdquo; - <a class=link href=https://dev.to/adityabhuyan/combining-object-oriented-and-functional-programming-in-large-projects-6m2 target=_blank rel=noopener>https://dev.to/adityabhuyan/combining-object-oriented-and-functional-programming-in-large-projects-6m2</a></li></ol><h3 id=perl関連リソース>Perl関連リソース</h3><ol start=7><li>Perl Official Documentation - <a class=link href=https://perldoc.perl.org/ target=_blank rel=noopener>https://perldoc.perl.org/</a></li><li>MetaCPAN (Moo, List::Util) - <a class=link href=https://metacpan.org/ target=_blank rel=noopener>https://metacpan.org/</a></li><li>&ldquo;Revisiting Perl Object-Oriented Programming (OOP) in 2025&rdquo; - <a class=link href=https://islandinthenet.com/revisiting-perl-object-oriented-programming-oop-in-2025/ target=_blank rel=noopener>https://islandinthenet.com/revisiting-perl-object-oriented-programming-oop-in-2025/</a></li><li>Perl Maven - <a class=link href=https://perlmaven.com/ target=_blank rel=noopener>https://perlmaven.com/</a></li></ol><h3 id=パターンアーキテクチャ>パターン・アーキテクチャ</h3><ol start=11><li>Destroy All Software - Gary Bernhardt - <a class=link href=https://www.destroyallsoftware.com/ target=_blank rel=noopener>https://www.destroyallsoftware.com/</a></li><li>&ldquo;Functional-core-imperative-shell/README.md&rdquo; - <a class=link href=https://github.com/kbilsted/Functional-core-imperative-shell target=_blank rel=noopener>https://github.com/kbilsted/Functional-core-imperative-shell</a></li></ol><h3 id=書籍推奨>書籍（推奨）</h3><ul><li>&ldquo;Functional Programming in Scala&rdquo; (Chiusano & Bjarnason) - 関数型プログラミングの理論</li><li>&ldquo;Domain-Driven Design&rdquo; (Eric Evans) - ドメインモデリングとイミュータビリティ</li><li>&ldquo;Modern Perl&rdquo; (chromatic) - ISBN: 978-1-934356-99-4</li><li>&ldquo;Higher-Order Perl&rdquo; (Mark Jason Dominus) - ISBN: 1-55860-701-3（Perlでの関数型プログラミング）</li></ul><hr><h2 id=10-調査の限界と今後の課題>10. 調査の限界と今後の課題</h2><h3 id=101-限界>10.1 限界</h3><ul><li>日本語の競合記事分析が不十分（Qiita/Zennの網羅的な調査が必要）</li><li>実際のプロダクション環境での定量的な効果測定データが不足</li><li>Perl 5.40の新しい<code>class</code>構文との比較検討が不足</li></ul><h3 id=102-今後の課題>10.2 今後の課題</h3><ul><li>Perlコミュニティでのハイブリッド設計の受容度調査</li><li>CPANモジュールでの実装例のさらなる収集</li><li>パフォーマンスベンチマーク（イミュータブル vs ミュータブル）</li><li>大規模Perlプロジェクトでのケーススタディ</li></ul><hr><h2 id=調査総括>調査総括</h2><h3 id=総合評価>総合評価</h3><p>本調査により、OOPとFPのハイブリッド設計が現代のソフトウェア開発において重要なトレンドであることが確認された。特にイミュータビリティ、純粋関数、Functional Core Imperative Shellパターンは、テスタビリティ、保守性、並行処理の観点から強く推奨される。</p><p>Perlにおいても、Moo、v5.36+の機能、List::Utilを組み合わせることで、これらの設計原則を効果的に実装できることが明らかになった。</p><h3 id=記事化の推奨度>記事化の推奨度</h3><p><strong>10/10</strong> - 非常に価値が高く、Perlコミュニティへの貢献度も大きい</p><h3 id=期待される効果>期待される効果</h3><ol><li>Perlでのモダンな設計パターンの普及</li><li>テスタビリティの向上による品質改善</li><li>関数型プログラミングへの関心喚起</li><li>Perlの現代的な活用方法の提示</li></ol><hr><p><strong>調査完了日</strong>: 2026年1月31日<br><strong>調査担当</strong>: 調査・情報収集オタク専門家<br><strong>次のアクション</strong>: 本ドキュメントを基に記事執筆開始</p></section><footer class=article-footer></footer></article><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//nqounet.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2000 -
2026 設計パターンを疑え</section><section class=powerby><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> で構築されています。<br>テーマ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> は <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> によって設計されています。</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>