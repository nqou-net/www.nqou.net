# 第2回：実績システムも追加したい！

## 概要
実績システムを追加したい！ログと実績の両方に通知するコードが複雑化。if/elseの増殖問題を体感し、設計改善の必要性を学びます。

## 検証結果

### ✅ 構文チェック
```
game.pl syntax OK
```

### ✅ 実行結果
```
=== ダンジョン探索開始 ===

[LOG] 勇者: スライムを倒した！
[ACHIEVEMENT] 実績解除: はじめての勝利
[LOG] 勇者: 薬草を手に入れた！
[LOG] 勇者: ゴブリンを倒した！
[LOG] 勇者: レベルが5になった！
[ACHIEVEMENT] 実績解除: 成長

=== 解除した実績 ===
- はじめての勝利
- 成長
```

## 意図的な問題点
この回では、以下の問題点を体験するためのコードです：

1. **メソッドの肥大化**: 各メソッドが複数の責務を持つ
2. **機能追加のたびに修正が必要**: 新しいシステム追加時に既存コード修正が必要
3. **変更の影響範囲が大きい**: 複数のメソッドを修正する必要
4. **テストが困難**: システム間が密結合

## 使用されているクラス
- `GameEvent`: イベントを表現するクラス
- `Game`: ゲームのメインロジック（ログ+実績が混在）

## 検証者のコメント
**⚠️ この回は意図的に悪い設計を示すものです。**

コードは正常に動作しますが、`defeat_enemy`メソッド内にログ出力と実績チェックが混在しており、「単一責任の原則（SRP）」と「開放閉鎖原則（OCP）」に違反しています。次回以降でこれらの問題を解決していきます。

記事では、この問題点を詳細に分析し、改善の必要性を説明しています。
