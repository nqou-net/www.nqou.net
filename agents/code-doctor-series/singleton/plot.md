# Plot Outline: Singleton (多重人格症候群)

## Scene 1: The Admission (Introduction)
- **Situation**:
    - 場所は「コード診療所」。雑居ビルの2階。
    - 患者（苦悩するインフラリーダー、35歳）が、重い足取りでドアを叩く。
    - 待合室はカオス（技術書が平積み）だが、受付は極度に整頓されている。
- **Action**:
    - 助手のナナコが穏やかに出迎える。「お待ちしておりました」
    - 診察室に入ると、ドクターはトリプルディスプレイに向かったまま。HHKBの打鍵音だけが響く。
    - 患者の独白：「弘法筆を選ばずと言うが、彼は徹底的に選ぶタイプだ」
- **Interaction**:
    - 患者：「あの、ドクター？」
    - ドクター：「……（無視）」
    - ナナコ：「集中モードですので。患部（コード）を先に見せていただけますか？」

## Scene 2: The Examination (Diagnosis)
- **Object**:
    - 患者が持ち込んだラップトップ。
    - `Config`クラスが至る所で`new`され、その都度設定ファイルを読み込んでいるコード。
- **Action**:
    - ドクター、スクロール速度が異常に速い。
    - ピタリと手を止め、画面の2箇所（A機能とバッチ処理）を指で弾く。
- **Dialogue**:
    - ドクター：「……多重人格。」
    - 患者：「えっ？」
    - ナナコ：「システムがアイデンティティ・クライシスを起こしていますね。設定という『記憶』が乖離し、現場が混乱しています。」
    - 患者：「確かに……バッチとアプリで挙動が違って……まさかこれが原因で？」
    - ドクター：（無言でキーボードを構える）「執刀する。」

## Scene 3: The Surgery (Treatment)
- **Before**:
    - `package Bad::Config; sub new { ... }`
    - 毎回ハッシュリファレンスを作成して返している。
- **Surgery Step**:
    1.  `use v5.36;` を確認。
    2.  `sub new` の中に `state $instance;` を一行追加。
    3.  ガード節 `return $instance if defined $instance;` を追加。
    4.  初期化ロジックを通った後に `$instance` に代入。
- **Highlight**:
    - ドクターのショートカットキー捌き。無駄がない。
    - 患者：「`state`……？ クロージャも使わずに？」
    - ナナコ：「Perl 5.10からの秘儀、v5.36で標準装備された『魂の器』です。これで記憶は一つに統合されます」
    - ドクター、Enterキーを「ッターン！」と叩く。テストがオールグリーンになる。

## Scene 4: The Prognosis (Philosophy)
- **Situation**:
    - 治療完了。システムは安定し、IO負荷も激減。
    - 患者、感無量で立ち上がる。
- **Gift**:
    - ドクター、無言で患者に近づき、手に「黄色い小さな紙片」を握らせる。
    - ポストイットには「`if ($future_me) { return $future_me; }`」と走り書き。
    - 患者、首を傾げながら退出。
- **Epilogue**:
    - 半年後、患者は新しいプロジェクトで似た問題に直面。
    - デスクの引き出しからあのポストイットを発見。
    - 惟る：「これは未来の自分への問いかけだ」
    - Singletonは単なるデザインパターンではなく、「自分自身を一つに保つ生き方の哲学」だと気づく。
    - 患者はポストイットをモニターに貼り直す。
