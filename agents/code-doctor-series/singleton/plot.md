# Plot Outline

## Scene 1: First Visit (Introduction)
- **Place**: 雑居ビルの地下、「コード診療所」の看板（手書き）。かつてネイルサロンだった名残で、内装が微妙にファンシー。
- **Action**:
    - 患者（私）が恐る恐る入室。
    - 待合室には技術書が乱雑に積まれている。
    - 受付から助手が現れる。「予約のエンジニア様ですね。お待ちしておりました」
    - 診察室に通されると、ドクターはトリプルディスプレイに向かったまま振り返りもしない。
    - ドクター：「……（タイピング音だけが響く）」
    - 患者の観察：「キーボードはHHKB、モニターはEIZO。弘法筆を選ばずと言うが、彼は選ぶタイプだ」

## Scene 2: Diagnosis (Examination)
- **Object**: 持ち込まれたラップトップ上のソースコード。`Config->new` が至る所にある。
- **Interaction**:
    - ドクター、画面をスクロールし、特定の行を指で弾く。「……多重人格。」
    - 助手：「システムがアイデンティティ・クライシスを起こしています。設定という名の『記憶』が乖離し、現場が混乱している、と。」
    - 患者：「ああっ、確かにA機能とB機能でタイムアウト値が違っています……まさかこれが原因で？」
    - ドクター：「（無言で頷き、メス（キーボード）を構える）」

## Scene 3: The Surgery (Treatment)
- **Before**: 各クラスで `Config->new` し、設定ファイルをパースし直している。IO負荷も高いし、状態が同期されない。
- **Surgery**:
    - パッケージ変数の廃止。
    - `use v5.36;` の宣言。
    - `state` 変数を使ったシングルトンパターンの実装。
- **Highlight**:
    - ドクターの手捌き（ショートカットキーの乱舞）に患者が見惚れる。
    - 患者：「なんて速さだ……それに、この記法（`state $instance`）は……？」
    - 助手：「Perl 5.10からの秘儀ですが、5.36で標準装備された最新の手術器具（機能）です」

## Scene 4: The Misunderstanding (Comedy)
- **Context**: 治療終了後。システムは安定し、ログが一元化された。
- **Action**:
    - 帰り際、ドクターが立ち上がり、患者に無言で手を差し出す。何か小さな黒い物体が握られている。
    - 患者の独白：「これは……？ 彼の愛用していたキーキャップ？ いや、システムを守るための『鍵』か？ 私を信頼して、これを……？」
    - 患者、感動で手が震える。「ありがとうございます、ドクター。この重み、忘れません」
    - 患者が去った後。
    - 助手：「ドクター、今の。」
    - ドクター：「……？」
    - 助手：「患者さんの自転車の鍵、返し忘れてますよ。（渡したのはただのUSBメモリのキャップ）」

## Scene 5: Closing (Prognosis)
- **Narrative**:
    - オフィスに戻った患者。
    - 渡された物体（USBキャップ）をモニターの横に飾る。「これは戒めだ。真実は常に一つでなければならない」
    - システムは快調に稼働している。
