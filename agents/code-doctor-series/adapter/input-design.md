# Input Design: Adapter

## 選定結果

| 要素 | 採用案 | スコア |
|------|--------|--------|
| テーマ | 案B「レガシーCLIツールのWeb API化」（革新） | 21/25 |
| 患者 | 案B「『触らぬ神に祟りなし』のベテラン守護神」（革新） | 21/25 |
| 症状 | 案A「if-else連打症候群」（王道） | 19/25 |

## テーマ詳細
### 案B（革新）: レガシーCLIツールのWeb API化
- **一行説明**: 20年以上前に作られたPerlの管理用CLIツールを、モダンなダッシュボードから叩けるようにする。
- **パターンとの接点**: 標準入力/標準出力で動く「古い道具」を、JSONを返す「新しい窓口」に包み込む。
- **読者像**: 運用保守に苦労しているSREや、レガシー資産を抱える組織のエンジニア。

## 患者詳細
### 案B（革新）: 「触らぬ神に祟りなし」のベテラン守護神
- **属性**: 42歳、システム維持管理、歴20年。
- **性格キーワード**: 慎重、保守的、実はPerl 4からの生き残り。
- **背景**: 既存の安定したシステムを壊すのを極端に恐れ、新しいAPIを入れる際も既存コードの末尾に `if` 文を延々と追加して凌いでいる。
- **主訴**: 「動いているものは触りたくない。でも、新しい要望は止まらない。もう限界だ…」
- **コメディポテンシャル**: `goto` 文や謎のグローバル変数で全てを解決しようとする「黒魔術」の使い手。

## 症状詳細
### 案A（典型症状）: 「if-else連打症候群（分岐肥大化）」
- **技術 thin的症状**: `if ($provider eq 'Stripe') { ... } elsif ($provider eq 'PayPal') { ... }` が至る所に散らばり、共通化されていない。
- **医療メタファー**: 「血管の分岐過多による血流不全」
- **重症度**: 中症
- **Before/Afterの見込み**: 呼び出し側から `if` が消え、単一のインターフェースで全てのプロバイダを扱えるようになる。
- **読者の「あっ」ポイント**: 「新しいサービスを追加するたびに、10箇所のファイルを修正している…」

## 評価サマリー
Perlという言語の特性（Glue Languageとしての強力さ）を最も活かせるテーマとして「レガシーCLIのラップ」を採用。患者は「壊したくない」という切実な願いを持つベテランにすることで、既存コードに手を入れずに解決するAdapterパターンのメリットが際立つ。症状はあえて王道の if-else 連打にすることで、読者が「自分のことだ」と思いやすく、リファクタリングの効果を劇的に見せることができる。

## 不採用案（参考）
- テーマ案A（王道）: マルチ決済システムの統合 (18/25)
- テーマ案C（逆転）: 異なる時代の保存データ変換器 (22/25)
- 患者案A（王道）: 「全部作り直したい」若手のホープ (20/25)
- 患者案C（逆転）: 「物理で解決したい」ハードウェア出身の組込屋 (21/25)
- 症状案B（革新）: 「コピペ・クローン病」 (19/25)
- 症状案C（逆転）: 「型不適合による拒絶反応」 (21/25)
