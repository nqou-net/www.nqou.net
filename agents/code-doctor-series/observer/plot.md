# Plot Outline: Observer Pattern

## Scene 1: The Emergency (Admission)
- **Setting**: 深夜のオフィス。誰もいないフロアで、モニターの光だけが患者の顔を照らしている。
- **Situation**: 明日の朝までに「LINE通知機能」を追加しなければならない。しかし、既存の`post_article`メソッドはすでに300行を超え、Slack、Discord、メール、WebHookの処理がスパゲッティのように絡み合っている。
- **Action**: 患者が震える手でコピペし、「あと一つ……これさえ足せば……」と呟く。
- **Entrance**: 背後から「悲鳴が聞こえるな」という声。振り返ると、黒い鞄を持ったドクターと、バイタルモニタを持ったナナコが立っている。
- **Dialogue**:
  - 患者：「え、誰……？ 悲鳴って僕の？」
  - ドクター：「いや、君のコードだ。窒息寸前で助けを求めている」

## Scene 2: The Diagnosis (Examination)
- **Action**: ドクターがキーボードを叩かず、画面を指でなぞる。
- **Metaphor**: ドクターが「癒着（Adhesion）」という言葉を使う。
  - ドクター：「血管（ロジック）と皮膚（通知先）が完全に癒着している。これでは服を着替える（通知先を変える）だけで大出血だ」
- **Translation**: ナナコが解説する。
  - ナナコ：「`Article`クラスが具体的な通知クラスに依存しすぎています。これではOCP（開放閉鎖の原則）違反ですね」
- **Visual**: ドクターが画面上の`if ($type eq 'slack')`の連なりを見て、痛ましそうに顔をしかめる。

## Scene 3: The Surgery (Refactoring)
- **Concept**: 「神経の分離手術」。
- **Step 1**: インターフェースの定義。`Observer`ロールの作成。
- **Step 2**: `Subject`（Article）へのバイパス手術。`add_observer`メソッドと`notify_observers`メソッドの追加。
- **Step 3**: 癒着の剥離。巨大な`if`文の削除。
- **Climax**: 
  - 患者：「えっ、そんなに消していいんですか！？ 通知が飛ばなくなっちゃいます！」
  - ドクター：「飛ばすんじゃない。伝わるようにするんだ」
  - コードが実行され、全ての通知が正常に飛び、かつ`Article`クラスがシンプルになった瞬間。

## Scene 4: The Misunderstanding (Prognosis)
- **Situation**: 手術成功。コードは美しくなり、機能追加も容易になった。
- **Trigger**: ドクターが去り際に、患者の肩に手を置き、顔を近づける。
- **Patient's Thought**: （なんて熱い視線だ……。僕のエンジニアとしてのポテンシャルを見抜いて、期待してくれているのか？ それとも……このドキドキは……恋？）
- **Reality**: ドクターは患者の肩ごしに、壁の時計（またはカレンダー）を見ていただけ。
- **Resolution**:
  - ドクター：「ナナコ、急ぐぞ。深夜アニメのリアタイ視聴に間に合わなくなる」
  - ナナコ：「はい、先生。……（患者に）お大事に。そのドキドキは、ただのカフェイン過剰摂取ですよ」
  - 患者：「えっ」
