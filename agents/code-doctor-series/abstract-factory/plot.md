# Plot Outline

## Scene 1: The Emergency (Admission)
- **Situation**: 深夜のワンルームマンション。壁一面にゲームのキャラクター設定画や武器のデザイン画が貼られている。患者（インディー開発者）はモニターの前で頭を抱えている。「盗賊（Thief）クラスを追加しただけなのに、なぜ戦士（Warrior）が杖を持って初期化されるんだ！？」
- **Action**: インターホンが鳴らずにドアが開き、コードドクターと助手が現れる。
- **Dialogue**:
  - Doctor: 「悲鳴が、聞こえた。」
  - Patient: 「え？ 誰？ 通報しますよ？」
  - Assistant: 「落ち着いてください。コード診療所です。あなたのコミットログから、助けを求める信号を受信しました。」

## Scene 2: The Diagnosis (Examination)
- **Action**: ドクターがキーボードを奪い、`EquipmentManager.pm` を開く。そこには1000行を超える `create_equipment` メソッドと巨大な `if ($class eq 'Warrior') ... elsif ...` の連鎖が存在する。
- **Interaction**:
  - Doctor: 「……迷宮（ラビリンス）。出口なし。」（画面を指で弾く）
  - Assistant: （穏やかに）「条件分岐が複雑に入り組みすぎて、誰も構造を把握できない状態だと言っています。まるで、入ったら二度と出られない迷宮だと。」
  - Patient: 「でも、一つの場所にまとめた方が管理しやすいと思って……」
  - Doctor: 「（首を横に振る）混ぜるな。危険。」

## Scene 3: The Operation (Surgery)
- **Action**: ドクターがメス（リファクタリング）を入れる。
  1. まず、`AbstractFactory` インターフェース（ロール）を定義。
  2. `WarriorFactory`, `MageFactory` という「専門工房」を建設。
  3. `switch` 文の塔を爆破し、クライアントコードがファクトリー経由で武器を受け取るように配管し直す。
- **Highlight**:
  - 画面上のコードが、複雑な分岐からシンプルな「依頼→受取」の流れに変わる瞬間のカタルシス。
  - Patient: 「なんてことだ……『戦士の工場』に頼めば、戦士の装備一式がセットで届く！ もう組み合わせを間違える心配がない！」

## Scene 4: Post-Op (Prognosis) & Comedy
- **Comedy Scene**:
  - 手術が終わり、ドクターが患者のマグカップ（飲みかけのコーヒーが澱んでいる）をじっと見つめる。
  - ドクター、無言でマグカップを持ち上げ、中身をシンクに捨てて丁寧に洗う。
  - Patient: 「（ドクター……僕の健康を気遣って、古いコーヒーを捨ててくれたのか？なんて不器用な優しさなんだ……！）」
  - Assistant: 「（小声で）ただ単に、汚れたカップが許せなかっただけです。」
- **Closing**:
  - Doctor: 「秩序。維持せよ。」
  - Assistant: 「新しい職業を追加する時は、新しい工場を建てるだけです。既存の工場には触れないでくださいね。」
  - 患者は輝く目でディスプレイを見つめ、新しい「盗賊工場」の建設に取り掛かる。
