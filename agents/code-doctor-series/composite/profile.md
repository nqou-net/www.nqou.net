# Patient Profile
- Name: 几帳面なインフラエンジニア (28)
- Role: 古いファイルサーバーの移行スクリプト担当
- Personality: 階層構造（ディレクトリ）の深さにこだわりがあり、例外処理を恐れるあまりコードが複雑怪奇になっている。几帳面すぎて、ファイルとディレクトリを厳密に区別したがる。
- First Person: 「私」
- Background: 膨大なログファイルの整理を任されたが、ファイルとディレクトリを別々に処理しようとして、再帰処理の条件分岐がスパゲッティ化している。

# Medical Chart
- Symptom: ファイル用処理とディレクトリ用処理が別々の関数で乱立し、条件分岐のネストが深すぎる。「これはファイルか？ ディレクトリか？」という確認（`ref`チェックや`-d`チェック）が至る所で繰り返され、コードの見通しが極めて悪い。
- Metaphor: 「神経系（条件分岐）が過敏になりすぎて、末端（個別の処理）まで指令が届く前にショートしている状態。細胞（ファイル）と組織（ディレクトリ）を過剰に区別しようとするアレルギー反応。」
- Cure: Composite Patternによる「同一視」治療。全体と部分を同じインターフェースで扱うことで、過剰な分岐（アレルギー反応）を鎮める。
