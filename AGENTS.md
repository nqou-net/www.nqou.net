# AGENTS.md

本リポジトリのAIコーディングエージェント向けガイドです。

サイトURL: https://www.nqou.net

## プロジェクト概要

Hugoで構築された個人ブログサイト。Perl、ウイスキー、関西Perlコミュニティ（Kansai.pm）に関する技術記事や日常の記録を公開しています。

| 項目 | 技術 |
|------|------|
| 静的サイトジェネレータ | Hugo Extended（最新版） |
| テーマ | [hugo-theme-stack](https://github.com/CaiJimmy/hugo-theme-stack) v3 |
| ビルドツール | Perl（Daiku + カスタムスクリプト） |
| 言語 | Go 1.17+、Perl 5 |
| CI/CD | GitHub Actions → GitHub Pages |

## プロジェクト構成

```
.
├── config/_default/      # Hugo設定（TOML形式）
├── content/
│   ├── post/             # ブログ記事
│   └── page/             # 固定ページ（about, archives等）
├── layouts/
│   ├── shortcodes/       # カスタムショートコード
│   └── partials/head/    # カスタムヘッダ
├── assets/               # CSS、画像アセット
├── static/               # 静的ファイル
├── tools/                # Perlビルドスクリプト
├── docs/                 # ビルド出力先（自動生成・編集禁止）
└── .github/
    ├── workflows/        # GitHub Actionsワークフロー
    └── agents/           # AIエージェント関連ファイル（下記参照）

```

## .github/agents の目的と運用ルール

- 目的: リポジトリ内でAIエージェントが参照・利用する設定、プロンプトテンプレート、出力例を格納する専用ディレクトリ。
- 推奨ファイル構成例:
  - README.md             — エージェント向けの簡潔な運用ガイド
  - agent-config.yml      — 許可する操作・禁止事項の設定（例: ビルド実行禁止）
  - prompts/              — 記事作成用プロンプトテンプレート（公開可能なもの）
  - examples/             — プロンプトに対する期待出力の例
  - .gitignore            — logs/ や一時ファイルを除外する設定
- 重要ルール:
  - シークレットや認証情報をこのディレクトリに置かない（絶対にコミットしない）。
  - エージェントはビルドコマンドや外部コマンドを実行してはならない（参照のみ）。
  - 自動生成された記事は draft:true にする、もしくはユーザーが最終レビューするまで公開しない。
  - エージェントの出力・ログは基本的にコミットしない。必要な場合は個別に運用ルールを明記する。
  - agent-config.yml で許可されていない変更（設定ファイルの変更、docs/直編集など）は行わない。
- 運用の注意点:
  - 新しいプロンプトやテンプレートを追加する際は README.md に短い説明を付けること。

## カスタムエージェント

このリポジトリには、特定のタスクに特化したカスタムエージェントが用意されています。

### 技術記事執筆の専門家エージェント

#### perl-specialist (.github/agents/perl-specialist.agent.md)

Perlの専門家として、技術的に正確で詳細な記事原稿を作成します。

- **専門知識**: Perl 5.x、CPANモジュール、モダンPerl、Webフレームワーク
- **主な責務**: 
  - Perl技術記事の原稿作成（正確性・実用性重視）
  - 動作確認済みのコード例提供
  - CPANの活用とベストプラクティスの提示
- **得意分野**: リファレンス、正規表現、CPANエコシステム、モダンPerl、Kansai.pmコミュニティ
- **注意事項**: ビルドコマンド実行禁止、draft必須、技術的詳細を遠慮なく記述

#### ruby-specialist (.github/agents/ruby-specialist.agent.md)

Rubyの専門家として、技術的に正確で詳細な記事原稿を作成します。

- **専門知識**: Ruby 2.x/3.x、Rails/Sinatra、Gem開発、メタプログラミング
- **主な責務**:
  - Ruby技術記事の原稿作成（正確性・実用性重視）
  - 動作確認済みのコード例提供
  - Rubyコミュニティ標準のスタイルガイド準拠
- **得意分野**: ブロック/Proc/Lambda、Mix-in、Enumerable、メタプログラミング、Railsの哲学
- **注意事項**: ビルドコマンド実行禁止、draft必須、技術的詳細を遠慮なく記述

### 編集・構成の専門家エージェント

#### blog-writer (.github/agents/blog-writer.agent.md)

プロの編集者として、専門家の原稿を読みやすく魅力的なブログ記事に編集します。

- **専門スキル**: 記事構成、編集技術、SEO対策、読みやすさ向上、対象読者分析
- **主な責務**:
  - 専門家の原稿を読みやすいブログ記事に編集
  - 導入部・まとめの追加、適切な見出し階層の設定
  - 専門用語への補足説明追加（技術的正確性は維持）
  - Front matterの最適化（title、description、tags）
- **重要原則**: 技術的正確性を絶対に変更しない、専門家の内容を尊重
- **注意事項**: draft必須、ビルドコマンド実行禁止

## 協力型ブログ記事作成ワークフロー

専門家エージェント（perl-specialist、ruby-specialist等）とblog-writerエージェントが協力して、
技術的に正確かつ読みやすいブログ記事を作成するワークフローです。

### ワークフローの流れ

1. **フェーズ1: 専門家による原稿作成**
   - 使用エージェント: `perl-specialist` または `ruby-specialist`
   - 技術的に正確で詳細な原稿を作成
   - コード例は動作確認済み、専門用語は遠慮なく使用
   - バージョン情報や依存関係を明記

2. **フェーズ2: blog-writerによる編集**
   - 使用エージェント: `blog-writer`
   - 専門家の原稿を受け取り、読みやすく構成
   - 導入部・まとめを追加、見出し階層を整理
   - 専門用語に補足説明を追加（技術的内容は変更しない）
   - Front matterを作成（title、description、tags、draft: true）

### 利用方法

詳細なプロンプトテンプレートとサンプル出力は以下を参照してください：

- **プロンプトテンプレート**: `.github/agents/prompts/collaborative_writing.md`
  - フェーズ1（専門家）とフェーズ2（blog-writer）の指示テンプレート
  - 変数の説明と使用例
  
- **出力サンプル**: `.github/agents/examples/collaborative_output.md`
  - 専門家の原稿例（編集前）
  - blog-writerの編集後の記事例
  - 改善ポイントの解説

### 協力体制のメリット

- **技術的正確性**: 専門家が技術内容を保証
- **読みやすさ**: blog-writerが記事構成と表現を最適化
- **効率性**: 役割分担により高品質な記事を効率的に作成
- **一貫性**: 各エージェントの専門性を活かした一貫した品質

## GitHubエージェントパネル・ハンズオンシリーズ（全12回）

### シリーズ概要

GitHubの**エージェントパネル（Agent Panel）**を活用したCopilotオーケストレーションを、実践的なハンズオン形式で体験・習得するための技術記事シリーズです。全12回の構成で、プロンプトエンジニアやDevOps担当者が段階的にスキルアップできる内容となっています。

**対象読者**: プロンプトエンジニア（初級～中級）、DevOps系エンジニア、技術志向のプロジェクトマネージャー

**学習形式**: 実践手順 + 解説 + チェックリスト + 完成テンプレート

**難易度配分**: 初級は最小限に留め、中級レベルのパターンを豊富に繰り返すことで体験と実感を重視

### GitHubエージェントパネルとは

#### 基礎概念

GitHubエージェントパネルは、**複数のAIエージェントを組織化・管理し、複雑なタスクを協調的に実行させるための統合環境**です。GitHub Copilotの機能を拡張し、単一のプロンプト実行から、多段階・多エージェント連携による高度な開発ワークフローへと進化させます。

**主な特徴**:

1. **マルチエージェントオーケストレーション**
   - 複数の専門エージェントを定義し、それぞれに特化した役割を割り当て
   - エージェント間の依存関係と実行順序を制御
   - 並列実行と逐次実行の組み合わせによる効率的なタスク処理

2. **宣言的エージェント定義**
   - Markdown形式でエージェントの役割・権限・制約を明確に記述
   - プロンプトテンプレートと変数によるカスタマイズ可能な実行パターン
   - バージョン管理によるエージェント設定の履歴追跡

3. **コンテキスト共有メカニズム**
   - エージェント間でのデータ受け渡しと状態管理
   - リポジトリ構造、コード、ドキュメントへの統一的なアクセス
   - 実行履歴とフィードバックループによる継続的改善

4. **セキュリティとガバナンス**
   - エージェントごとの権限制御（読み取り専用、編集可能、実行可能など）
   - 機密情報へのアクセス制限
   - 実行ログと監査証跡の自動記録

#### Copilotオーケストレーションの仕組み

**オーケストレーション**とは、複数のエージェントが協調して動作し、全体として一つの目的を達成するプロセスです。GitHub Copilotをベースとしたオーケストレーションでは、以下のようなアーキテクチャで動作します：

```
┌─────────────────────────────────────────────────────────┐
│              ユーザーリクエスト（タスク）                  │
└────────────────────┬────────────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────────────────────┐
│        エージェントパネル（オーケストレーター）            │
│  ┌──────────────────────────────────────────────────┐   │
│  │  タスク分析・分解エンジン                         │   │
│  │  - 依存関係グラフ生成                            │   │
│  │  - 最適実行順序の決定                            │   │
│  └──────────────────────────────────────────────────┘   │
└────────────────────┬────────────────────────────────────┘
                     │
        ┌────────────┼────────────┐
        │            │            │
        ▼            ▼            ▼
┌──────────┐  ┌──────────┐  ┌──────────┐
│ Agent A  │  │ Agent B  │  │ Agent C  │
│専門家    │  │レビュワー │  │テスター  │
│(原稿作成) │  │(編集)    │  │(検証)    │
└────┬─────┘  └────┬─────┘  └────┬─────┘
     │             │             │
     └─────────────┼─────────────┘
                   │
                   ▼
         ┌─────────────────┐
         │   統合・出力     │
         │  (最終成果物)    │
         └─────────────────┘
```

**オーケストレーションの実行フロー**:

1. **タスク受付**: ユーザーからの高レベルなリクエストを受け取る
2. **タスク分解**: 複雑なタスクをサブタスクに分割し、各エージェントに割り当て
3. **依存解析**: サブタスク間の依存関係を解析し、実行順序を決定
4. **並列実行**: 依存関係のないタスクを並列に実行してスループット向上
5. **コンテキスト共有**: 前段エージェントの出力を後段エージェントの入力として渡す
6. **品質チェック**: 各ステップで品質基準を満たしているか検証
7. **統合**: すべてのサブタスク結果を統合して最終成果物を生成
8. **フィードバック**: 実行結果をユーザーに報告し、必要に応じて再実行

#### エージェントパネルの実装技術

GitHub Copilotのエージェントパネルは、以下の技術要素で構成されています：

**1. エージェント定義言語（ADL: Agent Definition Language）**

Markdown形式で記述されるエージェント仕様書：

```markdown
# エージェント名: perl-specialist

## 役割
Perl技術記事の執筆専門家

## 専門知識
- Perl 5.x core機能
- CPANエコシステム
- モダンPerlベストプラクティス

## 権限
- 読み取り: content/, .github/agents/
- 書き込み: content/post/ (draft:trueのみ)
- 実行禁止: hugo, daiku, git push

## 入力スキーマ
- topic: string (必須)
- target_audience: enum[beginner, intermediate, advanced]
- keywords: array<string>

## 出力フォーマット
- Markdown with front matter
- Code snippets with syntax highlighting
- References to CPAN modules
```

**2. プロンプトエンジニアリングパターン**

エージェントパネルでは、以下のプロンプトパターンが有効です：

- **Chain-of-Thought（CoT）**: 段階的思考を促すプロンプト
- **Few-Shot Learning**: 数例の例示による学習
- **Role-Based Prompting**: 役割に基づいたコンテキスト設定
- **Constraint-Driven**: 明確な制約条件の提示
- **Template-Based**: 再利用可能なテンプレート化

**3. 実行制御メカニズム**

- **Sequential Execution**: 逐次実行（前のエージェント完了を待つ）
- **Parallel Execution**: 並列実行（独立タスクの同時処理）
- **Conditional Branching**: 条件分岐（結果に応じた動的ルーティング）
- **Loop & Retry**: ループと再試行（品質基準を満たすまで繰り返し）
- **Error Handling**: エラーハンドリング（異常時のフォールバック処理）

**4. コンテキスト管理**

エージェント間で共有される情報：

- **Repository Context**: リポジトリ構造、ファイル内容、Git履歴
- **Task Context**: 現在のタスク、目標、制約条件
- **Agent Context**: 各エージェントの専門性、過去の実行履歴
- **User Context**: ユーザーの意図、優先順位、フィードバック
- **Output Context**: 前段エージェントの成果物、中間結果

### 全12回の詳細構成

#### 第1回：エージェントパネル＆Copilot基礎理解

**目標**: GitHubエージェントパネルとCopilotオーケストレーションの基本概念を理解する

**内容**:
- エージェントパネルの登場背景と解決する課題
- 従来のCopilotとの違い（単一プロンプト vs オーケストレーション）
- マルチエージェントシステムの利点
- 実際のユースケース紹介（コード生成、ドキュメント作成、レビュー自動化）
- 最小構成のエージェント作成（Hello World相当）

**成果物**: 最初のエージェント定義ファイル、動作確認チェックリスト

#### 第2回：プロジェクト構成とパネル設計思想

**目標**: エージェントパネルの設計原則とディレクトリ構造のベストプラクティスを習得

**内容**:
- `.github/agents/` ディレクトリの役割と重要性
- エージェント定義ファイルの命名規則
- プロンプトテンプレートとサンプル出力の管理方法
- `agent-config.yml` による権限管理
- セキュリティ考慮事項（シークレット除外、実行制限）
- 本リポジトリの実装例の詳細解説

**成果物**: プロジェクト構成テンプレート、設定ファイルサンプル

#### 第3回：プロンプト設計・テンプレート化の実践

**目標**: 効果的なプロンプト設計技法とテンプレート化を習得

**内容**:
- プロンプトエンジニアリングの5大原則
  1. 明確性（Clarity）: 曖昧さを排除した指示
  2. コンテキスト（Context）: 必要十分な背景情報
  3. 制約（Constraints）: やるべきこと・やってはいけないこと
  4. サンプル（Examples）: Few-Shot学習の活用
  5. 検証（Verification）: 成果物の品質基準
- テンプレート変数の設計（{{topic}}, {{audience}}, {{keywords}}など）
- プロンプトの構造化（役割→目標→手順→制約→出力形式）
- プロンプトのバージョン管理とA/Bテスト
- 実践演習: 技術記事執筆用プロンプトの作成

**成果物**: プロンプトテンプレート集、品質評価シート

#### 第4回：エージェントの役割分担＆権限管理

**目標**: 複数エージェントの役割設計と適切な権限分離を理解

**内容**:
- 役割分担の設計パターン
  - 専門家型（Specialist）: 特定ドメインの深い知識
  - 調整者型（Coordinator）: タスク分割と統合
  - 検証者型（Validator）: 品質チェックとレビュー
  - 実行者型（Executor）: 定型作業の自動実行
- 本リポジトリの実例分析
  - perl-specialist: Perl技術記事の原稿作成
  - ruby-specialist: Ruby技術記事の原稿作成
  - blog-writer: 読みやすさ向上の編集
- 権限レベルの設定
  - 読み取り専用（Read-only）
  - 特定ディレクトリのみ書き込み可能
  - 実行コマンドの制限（ビルド禁止など）
- draft:true 強制による公開前レビュー
- エージェント間の信頼関係と責任範囲

**成果物**: エージェント設計シート、権限マトリクス

#### 第5回：ユーザーシナリオに沿ったタスク分割

**目標**: 実際のワークフローをエージェントタスクに分解する技法を習得

**内容**:
- タスク分割の基本原則
  - 単一責任の原則（Single Responsibility）
  - 疎結合・高凝集（Loose Coupling, High Cohesion）
  - 依存関係の最小化
- 実例: 技術記事作成ワークフローの分解
  1. トピック調査・資料収集
  2. 原稿執筆（専門家エージェント）
  3. 編集・構成改善（blog-writerエージェント）
  4. コード検証・動作確認
  5. SEO最適化・メタデータ生成
  6. 最終レビューとフィードバック
- 依存関係グラフの作成（DOT言語 / Mermaid）
- 並列実行可能タスクの特定
- エラーハンドリングとリトライ戦略

**成果物**: タスク分割ワークシート、依存関係図

#### 第6回：Copilotを用いた実案件推進フロー

**目標**: 実際のプロジェクトでエージェントパネルを活用する全体フローを体験

**内容**:
- エンドツーエンドのワークフロー実践
  - 案件受付: ユーザーリクエストの明確化
  - 計画立案: タスク分解とエージェント選定
  - 実行: オーケストレーション実行
  - 検証: 成果物の品質チェック
  - フィードバック: 改善提案と再実行
- 本リポジトリでの実践例
  - シナリオ: 「PerlのCPANモジュール紹介記事を書く」
  - フェーズ1: perl-specialist による技術的正確な原稿作成
  - フェーズ2: blog-writer による読みやすさ向上編集
  - フェーズ3: 最終レビューと公開準備
- 進捗管理とステータス追跡
- 中間成果物の確認ポイント

**成果物**: 完成記事、実行ログ、振り返りシート

#### 第7回：GitHub Actionsとの連携・自動化

**目標**: エージェントパネルとCI/CDパイプラインを統合し、自動化を実現

**内容**:
- GitHub Actionsワークフローへのエージェント組み込み
- トリガー設定
  - プルリクエスト作成時の自動レビュー
  - Issue作成時のタスク自動生成
  - 定期実行によるメンテナンス作業
- 本リポジトリのCI/CD連携例
  - 記事作成後の自動ビルド（Hugo）
  - GitHub Pagesへの自動デプロイ
  - リンク切れチェック、画像最適化
- Secrets管理とセキュリティ
- ワークフロー実行結果の通知（Slack, Email）

**成果物**: GitHub Actionsワークフロー定義、自動化設定ガイド

#### 第8回：エージェントによる成果物レビュー・リファクタ

**目標**: エージェントを活用したコードレビューとリファクタリングの自動化

**内容**:
- レビューエージェントの設計
  - コード品質チェック（リンター連携）
  - セキュリティ脆弱性検出（CodeQL連携）
  - アクセシビリティチェック
  - パフォーマンス分析
- レビューコメントの自動生成
  - 具体的な改善提案
  - 関連ドキュメントへのリンク
  - 優先度付け
- リファクタリング候補の提示
- 段階的改善のロードマップ作成
- 人間レビュワーとの協調（Human-in-the-Loop）

**成果物**: レビューエージェント定義、レビューチェックリスト

#### 第9回：運用Tips＆ベストプラクティス集

**目標**: 実運用で役立つTipsとアンチパターンの回避方法を習得

**内容**:
- ベストプラクティス集
  - プロンプトの明確性を最大化する技法
  - エージェント数の適正化（多すぎず少なすぎず）
  - 実行時間の最適化（並列化、キャッシング）
  - エラーメッセージの改善
  - ログとモニタリング
- よくある失敗パターンとその対策
  - プロンプトが曖昧で意図しない結果になる
  - エージェント間の責任範囲が重複
  - 無限ループやデッドロック
  - コンテキストの肥大化によるパフォーマンス低下
- トラブルシューティング
  - デバッグ手法
  - ロールバック戦略
  - 緊急時の手動介入
- コスト管理とリソース最適化

**成果物**: Tipsチートシート、トラブルシューティングガイド

#### 第10回：典型ハンズオン失敗例と対策

**目標**: 初学者が陥りがちな失敗から学び、効率的なスキルアップを図る

**内容**:
- 失敗事例集
  1. 「エージェントが勝手にdraft:falseにして公開してしまった」
     - 原因: 権限設定の不備
     - 対策: agent-config.ymlでdraft変更を明示的に禁止
  2. 「専門家エージェントが詳しすぎて初心者に読めない記事になった」
     - 原因: 対象読者の設定漏れ
     - 対策: プロンプトに明確な読者ペルソナを含める
  3. 「blog-writerが技術的に誤った編集をした」
     - 原因: 技術内容変更禁止の指示不足
     - 対策: 「技術的正確性は維持」を強調
  4. 「ビルドコマンドを実行してエラーになった」
     - 原因: 実行禁止の認識不足
     - 対策: agent-config.ymlで実行可能コマンドを明示的にリスト化
- 各失敗例の詳細分析
- 改善前後の比較
- 予防的対策の実装

**成果物**: 失敗事例集、改善チェックリスト

#### 第11回：応用編—多様なオーケストレーションパターン

**目標**: 高度なオーケストレーションパターンを理解し、複雑なワークフローに対応

**内容**:
- 高度なパターン集
  1. **Sequential Chain（逐次チェーン）**
     - A → B → C の順次実行
     - 各ステップで前段の出力を入力として利用
  2. **Parallel Fork-Join（並列分岐・結合）**
     - タスクを並列実行し、すべて完了後に統合
     - 例: 複数言語版ドキュメントの同時生成
  3. **Conditional Routing（条件分岐）**
     - 前段の結果に応じて後段エージェントを動的選択
     - 例: コード品質スコアに応じてリファクタの要否を判断
  4. **Iterative Refinement（反復改善）**
     - 品質基準を満たすまでエージェントを繰り返し実行
     - 例: レビュー→修正→再レビューのループ
  5. **Human-in-the-Loop（人間介入ループ）**
     - 重要な意思決定ポイントで人間の承認を求める
     - 例: 公開前の最終確認
- パターンの組み合わせによる複雑なワークフロー構築
- 本リポジトリでの応用例（協力型ブログ記事作成ワークフローの発展）

**成果物**: パターンカタログ、応用ワークフロー例

#### 第12回：総まとめ＆エージェントパネルで完結する実践事例

**目標**: シリーズ全体の総復習と、実際のプロジェクトでの活用事例を学ぶ

**内容**:
- 全12回の振り返り
  - 基礎概念の再確認
  - 習得したスキルの棚卸し
  - 実践で活かすためのロードマップ
- 実践事例紹介
  - 事例1: 技術ブログの完全自動化（本リポジトリ）
  - 事例2: API仕様書の自動生成とレビュー
  - 事例3: マルチリポジトリ横断のコード品質向上
  - 事例4: ドキュメント翻訳パイプライン
- エージェントパネルで完結するプロジェクト設計
  - すべてのタスクをエージェントで自動化
  - 人間は意思決定と最終承認のみ
  - 継続的改善のフィードバックループ
- 次のステップ
  - コミュニティへの貢献
  - カスタムエージェントの公開
  - 先進事例の共有

**成果物**: 総まとめレポート、実践プロジェクトテンプレート

### このシリーズで使用するエージェント

本シリーズの記事作成には、以下のエージェントを活用します：

#### agents-specialist（新規）

**役割**: GitHubエージェントパネルとCopilotオーケストレーションの専門家

**専門知識**:
- GitHub Copilot Agent Panelのアーキテクチャ
- マルチエージェントオーケストレーション設計
- プロンプトエンジニアリングベストプラクティス
- .github/agents/ ディレクトリ構造と運用
- エージェント定義言語（ADL）
- 権限管理とセキュリティ設定

**主な責務**:
- エージェントパネルに関する技術的に正確で詳細な記事原稿作成
- 実践的なハンズオン手順の提供
- コード例・設定ファイルサンプルの作成
- ベストプラクティスとアンチパターンの解説

**注意事項**:
- draft: true 必須
- ビルドコマンド実行禁止
- 技術的詳細を遠慮なく記述（専門性を発揮）

#### blog-writer

**役割**: agents-specialistの原稿を読みやすいブログ記事に編集

**主な責務**:
- 導入部とまとめの追加
- 見出し階層の整理
- 専門用語への補足説明（初級～中級読者向け）
- Front matterの最適化（title, description, tags）
- SEO対策

**重要原則**: 技術的正確性は絶対に変更しない

### プロンプトテンプレートと成果物

シリーズ記事作成用のプロンプトテンプレートは以下に格納されます：

**プロンプトテンプレート**:
- `.github/agents/prompts/agent_panel_series/`
  - `phase1_specialist_template.md` - agents-specialist用テンプレート
  - `phase2_blog_writer_template.md` - blog-writer用テンプレート
  - `episode_XX_variables.yml` - 各回の変数定義

**サンプル出力**:
- `.github/agents/examples/agent_panel_series/`
  - `episode_01_specialist_draft.md` - 第1回の専門家原稿例
  - `episode_01_final.md` - 第1回の編集後記事例
  - `improvement_notes.md` - 改善ポイント解説

### 記事作成ワークフロー

各回の記事は以下のワークフローで作成されます：

1. **準備フェーズ**
   - エピソード番号とトピックの確認
   - 変数ファイル（`episode_XX_variables.yml`）の準備
   - 対象読者と難易度レベルの設定

2. **フェーズ1: 専門家による原稿作成**
   - エージェント: `agents-specialist`
   - 入力: プロンプトテンプレート + 変数ファイル
   - 出力: 技術的に正確で詳細な原稿（Markdown）
   - 品質基準:
     - 技術的正確性（実装詳細、アーキテクチャ図含む）
     - 実践的なハンズオン手順（再現可能）
     - コード例とサンプル設定
     - チェックリストと完成テンプレート

3. **フェーズ2: blog-writerによる編集**
   - エージェント: `blog-writer`
   - 入力: agents-specialistの原稿
   - 出力: 読みやすく構成された記事
   - 編集内容:
     - 導入部の追加（なぜこのトピックが重要か）
     - まとめの追加（学んだことと次のステップ）
     - 見出し階層の最適化
     - 専門用語への補足説明（ただし技術内容は不変）
     - Front matterの作成（draft: true必須）

4. **検証フェーズ**
   - 記事の文法・体裁チェック
   - 技術的正確性の最終確認
   - リンク・画像の動作確認
   - チェックリストの網羅性確認

5. **レビュー・公開フェーズ**
   - ユーザーによる最終レビュー
   - draft: false への変更（ユーザーのみ）
   - GitHub Actionsによる自動ビルド・デプロイ

### 運用ガイドライン

#### 必須ルール

1. **draft: true の厳守**
   - すべてのシリーズ記事は必ず `draft: true` で作成
   - 公開判断はユーザーのみが行う
   - エージェントは絶対に `draft: false` に変更しない

2. **ビルドコマンド実行禁止**
   - `hugo`, `daiku` などのビルドコマンドを実行しない
   - ビルドはGitHub Actionsが自動実行
   - エージェントは記事作成に専念

3. **技術的正確性の維持**
   - agents-specialistの技術内容をblog-writerが変更しない
   - 補足説明の追加は可、内容の改変は不可
   - 疑義がある場合は明示的にユーザーに確認

4. **セキュリティとプライバシー**
   - 認証情報やシークレットを含めない
   - 個人の機微情報を掲載しない
   - 公開可能な情報のみを記事化

#### 推奨プラクティス

1. **段階的公開**
   - 初回記事を公開して読者の反応を確認
   - フィードバックを次回以降に反映
   - 継続的改善のサイクル

2. **クロスリファレンス**
   - シリーズ内の他記事への相互リンク
   - 関連する既存記事へのリンク
   - 外部の公式ドキュメントへの参照

3. **視覚的補助**
   - アーキテクチャ図（Mermaid推奨）
   - フローチャート
   - スクリーンショット（プライバシーに配慮）

4. **コード品質**
   - すべてのコード例は動作確認済み
   - バージョン情報を明記
   - 依存関係を明確に記載

### 期待される成果

このシリーズを通じて、以下の成果を目指します：

**読者にとって**:
- GitHubエージェントパネルの実践的スキル習得
- Copilotオーケストレーションの設計能力向上
- 自身のプロジェクトへの適用ノウハウ獲得
- プロンプトエンジニアリングのベストプラクティス理解

**リポジトリにとって**:
- 高品質な技術コンテンツの充実
- SEO効果による訪問者増加
- コミュニティからのフィードバック収集
- エージェントパネル活用事例の蓄積

**エコシステムにとって**:
- GitHubエージェントパネルの普及促進
- ベストプラクティスの共有と標準化
- 日本語での技術情報充実
- Copilot活用の民主化

## Dos（やるべきこと）

- `content/post/` 配下にMarkdownファイルを作成する
- 新規記事のファイル名は `<epoch秒>.md` 形式で作成する
- front matterには必須項目（title, description, tags, draft）をすべて含める
- 新規記事の `draft` は必ず `true` に設定する（公開判断はユーザーのみ）

## Don'ts（禁止事項）

- `docs/` ディレクトリを編集しない（ビルド出力先）
- `hugo`、`daiku` などのビルドコマンドを実行しない
- `draft: false` に変更しない（ユーザーのみが変更可能）
- 設定ファイル（config/, go.mod等）を無断で変更しない
- 他者の著作物を無断転載しない
- 個人の機微情報や秘密情報を含めない

## ショートコード

| ショートコード | 用途 | 引数 |
|---------------|------|------|
| `amazon` | Amazon商品リンク | asin, title |
| `gist` | GitHub Gist埋め込み | （Hugo v0.143.0以降は非推奨） |
| `linkcard` | ウェブサイトへのリンクカード（OGP自動取得） | url |
| `x` | X/Twitter埋め込み | user, id |

## Hugo互換性

Hugo 0.131以降の破壊的変更に注意：

1. `permalinks.toml` には `[page]` セクションが必要
2. Hugo 0.144.0 で `:filename` トークンが非推奨 → `:contentbasename` を使用

## ビルドコマンド（参考情報）

> **注意**: エージェントはビルドコマンドを実行しないでください。ビルドはGitHub Actionsが自動実行します。

```bash
hugo server -D              # 開発サーバー（ドラフト含む）
hugo --minify --gc          # 本番ビルド
perl tools/build.pl && hugo # Perl前処理付きビルド
```

## Perl依存関係

```bash
cpanm --installdeps .
```

必要なモジュール: Path::Tiny, Time::Moment, YAML
